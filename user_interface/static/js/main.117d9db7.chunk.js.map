{"version":3,"sources":["components/UI/Modal.module.css","components/login/Login.js","components/containers/ContainerHeader.js","components/containers/ContainerNavbar.js","components/containers/Container.js","components/payment report/FinanceReportFilters.js","components/Table.js","components/UI/GoogleSheetsLink.jsx","components/payment report/PaymentReport.js","components/payment report/PaymentsBasket.js","components/transactions report/TransactionsReport.js","components/upload cvs file/SelectData.js","fetches/Fetch.js","store/RootStore.js","store/LoginStore.js","store/PaymentReportStore.js","store/PaymentsBasketStore.js","store/TransactionsReportStore.js","store/StudentStore.js","store/UploadCSVFileStore.js","store/BankAccountStore.js","store/ReceptionBasketStore.js","store/PeriodicReceptionStore.js","components/UI/Modal.jsx","components/UI/TableTemplate.jsx","components/popup/CSVFilePopup.jsx","components/popup/PopupTemplate.jsx","components/upload cvs file/UploadCSVFile.js","components/student/TopDetails.js","components/student/StudentProfile.js","components/bank account/MakeLinkPopUp.js","components/bank account/BankAccount.js","components/reception basket/ReceptionBasket.js","components/reception basket/PeriodicReception.js","components/students basket/StudentsBasket.js","components/students basket/PeriodicStudents.js","components/student-form/StudentForm.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","inject","observer","props","history","useHistory","loginStore","rootStore","className","onSubmit","event","preventDefault","login","then","res","setLoader","undefined","localStorage","setItem","rememberMe","userName","sessionStorage","setErrorMessage","push","type","placeholder","onChange","e","changeUserName","target","value","changePassword","errorMessage","includes","loader","style","display","justifyContent","marginTop","marginBottom","Spin","size","color","checked","changeRememberMe","ContainerHeader","goBack","onClick","location","pathname","split","marginRight","title","ContainerNavbar","name","underTab","map","tab","minWidth","replace","HandleChangePage","marginLeft","Container","id","direction","height","minHeight","backgroundColor","textAlign","width","childrenStyle","children","FinanceReportFilters","console","log","data","filters","titleIndex","Fragment","flexDirection","alignItems","fontSize","dateSelectOption","option","optionIndex","display_name","filter_key","dateFrom","onDateFrom","dateTo","onDateTo","textDecoration","cursor","cleanDate","filter","filterIndex","position","fontWeight","checkboxes","checkboxIndex","title_index","filter_index","checkbox_index","margin","border","borderLeft","Table","useState","edit","setEdit","editText","setEditText","editTextTitle","setEditTextTitle","newData","setNewData","incomeSum","expanseSum","balanceSum","balanceTotalSum","cashSum","commitmentSum","flowSum","monthlyFlowSum","lineOfCreditSum","loanSum","transactionAmountSum","expenseSum","expenseTotalSum","periodicSum","periodicTotalSum","totalChargedAmountSum","tableRef","useRef","regNumber","useEffect","tableHeight","current","scrollHeight","ShowWithMinus","item","isNaN","toString","Math","abs","toFixed","convertIsoDate","date","Date","toISOString","slice","reverse","join","HandleTableData","index","whiteSpace","identity","full_name","parseFloat","income_sum","expense_sum","balance","balance_total","visibility","disabled","amount","payment_status","deleted","tableCheckbox","is_printable","rightTable","changeCheckbox","all_selected","expense_amount","income_amount","course_type","coordinator_name","institution_name","account_number","line_of_credit","loan","commitment","cash","flow","monthly_flow","transaction_date","printing_date","value_date","allowEdit","show_error","autoFocus","test","onBlur","changeSum","transaction_amount","reference_number","makeLink","payment_method","method","borderColor","changePaymentMethod","hidden","paymentMethods","Object","keys","expense_sum_total","noEdit","transmission_date","changeCheckDate","for_month","changeForMonth","employee_sum","student_sum","print_employee_sum","print_student_sum","print_supplier_sum","fk_bank_account_id","changeBankAccountId","bankAccount","fk_trend_coordinator_id","changeTrendCoordinatorId","trendCoordinator","transaction_description","length","heb_attribution","pr_num","pr_amount_sum","charge_date","comment","periodic_reception_status","num_failed_payment","num_success_payment","charges_remainder","total_charged_amount","charges","bank_permission_end_date","bank_permission_start_date","last_charge_date","end_date_course_enrollment","start_date_course_enrollment","day_part","eligibility_min","eligibility_method","eligibility_level","end_date_trend_attribution","start_date_trend_attribution","merged_printing_number","splitPayment","mergedCheckbox","expense_id","changeMergedCheckbox","delete","ShowSumWithMinus","HandleTableFootData","noFottTitle","ref","borderCollapse","tableStyle","header","head","top","boxShadow","isAddingData","maxWidth","maxHeight","outline","tempData","newRowDataHandler","addingData","changeTableSelectedItems","tableSelectedItems","wordBreak","withoutSum","bottom","doNotSum","right","GoogleSheetsLink","headers","store","table","setJsonFile","exportObj","i","tempObj","entries","key","convertedData","JSON","stringify","fetchGoogleSheets","paymentReportStore","fetchFinanceReportFilters","getFullYear","setDateFromTo","setFinanceReportFiltersDateToSend","HandleCheckAll","HandleSearchByCheckBox","afterLeftTableUpdate","leftTableCheckbox","getItem","document","querySelectorAll","forEach","checkedFilters","getAttribute","setFinanceReportFiltersToSend","HandleSearch","tableIndex","allFinanceReport","setTableSearch","HandleSelectedTableTab","tableClass","classList","remove","currentTarget","add","setSelectedTableTab","body","financeReportFiltersToSend","setDate","expense_filters","financeReportFiltersDateToSend","expense","income_filters","income","student_filters","student","removeItem","fetchFilteredFinanceReport","financeReportFilters","titleName","setFinanceReportFiltersDateSelectedOption","padding","fill","expenseMessage","trim","setTimeout","changeExpenseMessage","left","fetchExpense","leftTableHeight","rightTableHeight","rightTableFinanceReport","rightTableSearch","filename","selectedRightTableTab","rightTableFinanceReportDownloadCSV","label","rightTableCheckbox","rightTableSelectedItems","setRightTableSelectedItems","setRightTableCheckbox","setRightTableHeight","overflow","leftTableFinanceReport","leftTableSearch","selectedLeftTableTab","leftTableFinanceReportDownloadCSV","setLeftTableCheckbox","attribution_id","HandleSelectedLeftTableSelectedItem","setLeftTableHeight","fileDownload","require","paymentsBasketStore","window","innerWidth","windowWidth","setWindowWidth","checkConsolidation","setCheckConsolidation","fetchPaymentsBasketFilters","onresize","leftTablePaymentsBasket","setPaymentsBasketFiltersToSend","allPaymentsBasket","fetchFilteredPaymentsBasket","paymentsBasketFiltersToSend","HandlePrint","onlyShown","fetchPrint","ok","get","fileName","indexOf","blob","file","paymentsBasketFilters","selected","fetchMerge","rightTablePaymentsBasket","paymentMethod","generalLists","expense_payment_methods","sum","changeCheckSum","merged_number","fetchSplit","transactionsReportStore","fetchTransactionsReportFilters","setTransactionsReportFiltersDateToSend","setTransactionsReportFiltersToSend","allTransactionsReport","transactionsReportFiltersToSend","setDates","transactionsReportFiltersDateToSend","attribution_filters","fetchFilteredTransactionsReport","HandleRestoreExpense","checkboxRestoreLength","HandleClosePopup","setShowPopup","fetchRestoreExpense","transactionsReportFilters","setTransactionsReportFiltersDateSelectedOption","rightTableTransactionsReport","rightTableTransactionsReportDownloadCSV","leftTableTransactionsReport","checkExpense","changeCheckBox","checkIncome","leftTableTransactionsReportDownloadCSV","fetchRawTable","showPopup","SelectData","titles","url","Get","controller","a","fetch","statusText","json","clear","catch","err","error","GetHeader","Post","withoutJson","PostFormData","formData","Put","PutFormData","Delete","RootStore","password","load","Fetch","username","remember_me","message","makeAutoObservable","this","Array","financeReportFiltersDateSelectedOption","setLeftTableFinanceReportDownloadCSV","stringifyData","parse","reduce","obj","itemKey","setRightTableFinanceReportDownloadCSV","newRightTableFinanceReport","rightTableItem","countLeftTableWithSameFkId","leftTableItem","countLeftTableWithSameFkIdToPrint","leftTableCheckboxItem","msg","setCheckedFilters","checkbox","fk_id","newSet","haveFilter","some","exist","filteredData","check","rightItem","Set","has","setLeftTableFinanceReport","from","to","filteredSearch","search","toLowerCase","setRightTableFinanceReport","dateIndex","selectedOption","existIndex","findIndex","find","setFinanceReportFilters","moreRows","concat","dontCheckRightTable","setAllFinanceReport","resetCheckbox","attribution","fk_branch_id","fk_institution_id","paymentsBasketFiltersDateSelectedOption","setBankAccount","setTrendCoordinator","print","fetchDeleteExpense","deleteSelectedItem","setLeftTablePaymentsBasket","leftItem","checkExpence","chengePosition","leftTable","checkIsPrintAllow","fetchEditExpense","changeLeftTablePaymentsBasket","leftBasket","setGeneralLists","setRightTablePaymentsBasket","setPaymentsBasketFilters","setAllPaymentsBasket","rightTableTabName","leftTableTabName","fetchGeneralLists","fetchBankAccount","fetchTrendCoordinator","transactionsReportFiltersDateSelectedOption","setLeftTableTransactionsReportDownloadCSV","setRightTableTransactionsReportDownloadCSV","show","input","setLeftTableTransactionsReport","newRightTableTransactionsReport","setRightTableTransactionsReport","setTransactionsReportFilters","row","setAllTransactionsReport","flat","expense_ids","withError","withoutError","messageWithError","messageWithoutError","tables","start_date","end_date","dates_attributes","studentStore","newStudentDetails","studentDetails","studentBalanceDetails","branchDetails","coordinatorDetails","tableData","editStudent","institutionBranchCoordinator","allInstitution","postBank","selectedTableTab","setAllInstitution","setInstitutionBranchCoordinator","changeSelectedData","param","changeAll","newTarget","setEditStudent","bank","bank_number","branch_number","institution","branch","branches","symbol","parseInt","allow","resetDetails","payments","course_enrollments","setTableData","setCoordinatorDetails","details","setBranchDetailsDetails","setStudentBalanceDetails","arrayPayments","pay","setStudentDetails","fetchStudentById","fetchStudentBalanceById","fetchBranchById","fetchCoordinatorById","fetchInstitutionBranchCoordinator","fetchInstitution","fetchDeleteStudent","replaceState","fetchSaveStudentDetails","fetchSaveBankAccount","attribution_type","uploadCSVFile","institutionBankAccount","courseEnrollmentTrendCoordinatorAttribution","students","courseEnrollment","studentsIncomes","studentsIncomesSourceID","studentsIncomesMethod","studentsIncomesBankAccountNumber","studentsIncomesUpdate","institutionBankAccountUpdate","branchUpdate","trendCoordinatorUpdate","courseEnrollmentTrendCoordinatorAttributionUpdate","studentsUpdate","courseEnrollmentUpdate","supplierUpdate","donatorUpdate","generalBanksUpdate","periodicReceptionUpdate","clearingPlatformUpdate","currentAccountUpdate","studentsPaymentFailureUpdate","clearingUpdate","clearingValidationUpdate","msvUpdate","checksUpdate","invoiceUpdate","studentInsuranceUpdate","expenseDraftFixedUpdate","studentsPaymentStatus","studentsPaymentFailure","currentAccount","currentAccountBankAccountNumber","clearingPlatform","clearingPlatformTrendCoordinatorID","clearing","clearingPlatformID","clearingValidation","msv","msvAttribution","msvBankAccountNumber","msvForDate","msvTrendCoordinator","msvSendingDate","checks","checksAttribution","checksBankAccountNumber","generalBanks","generalBanksAttribution","supplier","invoice","invoiceInstitutionBranchCoordinator","invoiceTrendCoordinator","invoiceSupplier","invoiceDate","invoiceSum","invoiceNumber","invoiceLastDate","studentInsurance","studentInsuranceBankAccountNumber","expenseDraft","expenseDraftAttribution","expenseDraftForMonth","expenseDraftTrendCoordinator","expenseDraftBankAccountNumber","expenseDraftPaymentMethod","expenseDraftScholarshipType","expenseDraftFixed","donator","periodicReception","periodicReceptionBankAccountNumber","incomeSource","attributions","paymentStatus","scholarshipTypes","bankAccounts","institutionBranchCoordinators","trendCoordinators","suppliers","platforms","errorInstitutionBankAccount","errorBranch","errorTrendCoordinator","errorCourseEnrollmentTrendCoordinatorAttribution","errorStudents","errorCourseEnrollment","errorStudentsIncomes","errorStudentsPaymentFailure","errorCurrentAccount","errorClearingPlatform","errorClearing","errorClearingValidation","errorMSV","errorChecks","errorGeneralBanks","errorSupplier","errorInvoice","errorStudentInsurance","errorExpenseDraft","errorDonator","errorPeriodicReception","googleSheetsInstitutionBankAccount","googleSheetsBranch","googleSheetsTrendCoordinator","googleSheetsCourseEnrollmentTrendCoordinatorAttribution","googleSheetsStudents","googleSheetsCourseEnrollment","googleSheetsSupplier","googleSheetsDonator","googleSheetsGeneralBanks","googleSheetsPeriodicReception","googleSheetsClearingPlatform","googleSheetsCurrentAccount","googleSheetsStudentsIncomes","googleSheetsStudentsPaymentFailure","googleSheetsClearing","googleSheetsClearingValidation","googleSheetsMSV","googleSheetsChecks","googleSheetsInvoice","googleSheetsStudentInsurance","googleSheetsExpenseDraft","setErrorInstitutionBankAccount","setErrorBranch","setErrorTrendCoordinator","setErrorCourseEnrollmentTrendCoordinatorAttribution","setErrorStudents","setErrorCourseEnrollment","setErrorStudentsIncomes","setErrorStudentsPaymentFailure","setErrorCurrentAccount","setErrorClearingPlatform","errorclearingPlatform","setErrorClearing","setErrorClearingValidation","setErrorMSV","setErrorChecks","setErrorGeneralBanks","setErrorSupplier","setErrorInvoice","setErrorStudentInsurance","setErrorExpenseDraft","setErrorDonator","setErrorPeriodicReception","setPeriodicReception","setGoogleSheetsPeriodicReception","setPeriodicReceptionBankAccountNumber","setDonator","setGoogleSheetsDonator","setExpenseDraft","setGoogleSheetsExpenseDraft","setExpenseDraftAttribution","setExpenseDraftForMonth","setExpenseDraftTrendCoordinator","setExpenseDraftBankAccountNumber","setExpenseDraftPaymentMethod","setExpenseDraftScholarshipType","setExpenseDraftFixed","setStudentInsurance","setGoogleSheetsStudentInsurance","setStudentInsuranceBankAccountNumber","setInvoice","setGoogleSheetsInvoice","setInvoiceInstitutionBranchCoordinator","setInvoiceTrendCoordinator","setInvoiceSupplier","setInvoiceDate","setInvoiceSum","setInvoiceNumber","setInvoiceLastDate","setSupplier","setGeneralBanks","setGoogleSheetsGeneralBanks","setGeneralBanksAttribution","setChecks","setGoogleSheetsChecks","setChecksAttribution","setChecksBankAccountNumber","setMSV","setGoogleSheetsMSV","setMsvAttribution","setMsvBankAccountNumber","setMsvForDate","setMsvTrendCoordinator","setMsvSendingDate","setClearingPlatform","setGoogleSheetsClearingPlatform","setClearingValidation","setGoogleSheetsClearingValidation","setClearingPlatformTrendCoordinatorID","setClearing","setGoogleSheetsClearing","setClearingPlatformID","setAttributions","firstAttribution","setBankAccounts","firstBankAccountNumber","setStudentsIncomesBankAccountNumber","setCurrentAccountBankAccountNumber","setIncomeSource","setStudentsIncomesSourceID","setPaymentMethods","setStudentsIncomesMethod","setPaymentStatus","setStudentsPaymentStatus","setScholarshipTypes","setInstitutionBranchCoordinators","objValue","values","setTrendCoordinators","setSuppliers","setGoogleSheetsSupplier","setPlatforms","setInstitutionBankAccount","setGoogleSheetsInstitutionBankAccount","setBranch","setGoogleSheetsBranch","setGoogleSheetsTrendCoordinator","setCourseEnrollmentTrendCoordinatorAttribution","setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution","setStudents","setGoogleSheetsStudents","setCourseEnrollment","setGoogleSheetsCourseEnrollment","setStudentsIncomes","setGoogleSheetsStudentsIncomes","setStudentsPaymentFailure","setGoogleSheetsStudentsPaymentFailure","setStudentsIncomesUpdate","setInstitutionBankAccountUpdate","setBranchUpdate","setTrendCoordinatorUpdate","setCourseEnrollmentTrendCoordinatorAttributionUpdate","setStudentsUpdate","setCourseEnrollmentUpdate","setSupplierUpdate","setDonatorUpdate","setGeneralBanksUpdate","setPeriodicReceptionUpdate","setClearingPlatformUpdate","setCurrentAccountUpdate","setStudentsPaymentFailureUpdate","setClearingUpdate","setClearingValidationUpdate","setMsvUpdate","setChecksUpdate","setInvoiceUpdate","setStudentsInsuranceUpdate","setExpenseDraftFixedUpdate","setCurrentAccount","setGoogleSheetsCurrentAccount","sendData","fetch_1","fetchInstitutionBankAccount","fetch_2","fetchBranch","fetch_3","fetch_4","fetchCourseEnrollmentTrendCoordinatorAttribution","fetch_5","fetchStudents","fetch_6","fetchCourseEnrollment","fetch_7","fetchStudentsIncomes","fetch_8","fetchStudentsPaymentFailure","fetch_9","fetchCurrentAccount","fetch_10","fetchClearingPlatform","fetch_11","fetchClearing","fetch_12","fetchClearingValidation","fetch_13","fetchMSV","fetch_14","fetchChecks","fetch_15","fetchGeneralBanks","fetch_16","fetchSupplier","fetch_17","fetchInvoice","fetch_18","fetchStudentInsurance","fetch_19","fetchExpenseDraft","fetch_20","fetchDonator","fetch_21","fetchPeriodicReception","Promise","all","FormData","append","inserted_records","payment_due_date","fetchIncomeSource","fetchPaymentMethods","income_payment_methods","education_payment_status","scholarship_types","fetchBankAccounts","fetchInstitutionBranchCoordinators","fetchTrendCoordinators","fetchSuppliers","fetchPlatforms","callFetch","fetchDownloadTemplate","template_from","bankAccountStore","allBankAccount","allCurrentAccount","leftTableBankAccount","rightTableBankAccount","checkBoxFilter","linked","unlinked","changeCheckBoxFilter","setLeftTableBankAccount","setRightTableBankAccount","bankDetail","is_linked","setAllCurrentAccount","setAllBankAccount","encodeURIComponent","encodeDate","rightBankAccount","allDonators","allTrendCoordinator","allStudents","allSuppliers","allMSV","ownDonator","ownTrendCoordinator","ownStudent","ownSupplier","ownMsv","existDonator","existTrendCoordinator","existStudent","existSupplier","existMsv","setOwnDonator","setOwnTrendCoordinator","setOwnStudent","setOwnSupplier","setOwnMsv","setAllMSV","setAllDonators","setAllTrendCoordinator","setAllStudents","setStudent","setAllSuppliers","setMakeLink","setComment","fk_donator_id","d","trend","t","s","fk_msv_file_id","m","first_name","last_name","setIndex","setRightBankAccount","fetchStudens","fetchDonators","fetchSave","fk_current_account_id","ca_amount","trendCoordinatorFetch","studentFetch","supplierFetch","msvID","msvFetch","commentFetch","receptionBasketStore","allReceptionBasket","leftTableReceptionBasket","rightTableReceptionBasket","receptionBasketFilters","receptionBasketFiltersToSend","receptionBasketFiltersDateSelectedOption","income_id","fetchDeleteIncome","setLeftTableReceptionBasket","fetchEditIncome","changeLeftTableReceptionBasket","setRightTableReceptionBasket","setReceptionBasketFiltersToSend","ReceptionBasketFiltersToSend","setReceptionBasketFilters","setAllReceptionBasket","fetchFilteredReceptionBasket","fetchReceptionBasketFilters","periodicReceptionStore","allPeriodicReception","leftTablePeriodicReception","rightTablePeriodicReception","periodicReceptionFilters","periodicReceptionFiltersToSend","pr_filters","periodicReceptionFiltersDateToSend","periodicReceptionFiltersDateSelectedOption","setLeftTablePeriodicReception","newRightTablePeriodicReception","reception_date","setRightTablePeriodicReception","setPeriodicReceptionFiltersToSend","setPeriodicReceptionFiltersDateToSend","setPeriodicReceptionFiltersDateSelectedOption","setPeriodicReceptionFilters","setAllPeriodicReception","fetchFilteredPeriodicReception","fetchPeriodicReceptionFilters","Backdrop","classes","backdrop","onClose","ModalOverlay","modal","content","portalElement","getElementById","Modal","ReactDOM","createPortal","StyledTableCell","styled","TableCell","theme","tableCellClasses","palette","common","black","white","StyledTableRow","TableRow","action","hover","TableTemplate","TableContainer","component","Paper","sx","aria-label","TableHead","Headers","field","align","TableBody","bodyCellData","rows","cellData","cell","CSVFilePopup","setHeaders","errors","tableTitles","borderRadius","success","Popup","Store","alignContent","overflowY","gap","info","popup_results","downloadJson","uploadData","setUploadData","popupIsShown","setPopupIsShown","googleSheetsToogle","setDownloadJson","regexNumber","newBlob","Blob","URL","webkitURL","link","createElement","download","href","createObjectURL","appendChild","click","removeChild","Title","Label","setFile","update","setUpdate","googleSheetsToggle","googleSheets","accept","files","alignItem","paddingRight","PopupTemplate","payment","status","platform","TopDetails","coordinator","setNewStudent","setNewBranch","setNewCoordinator","studentFirstName","setStudentFirstName","studentLastName","setStudentLastName","studentID","setStudentID","studentIdType","setStudentIdType","studentPhone","setStudentPhone","studentAnotherPhone","setStudentAnotherPhone","studentCountry","setStudentCountry","studentAddress","setStudentAddress","studentBirthDate","setStudentBirthDate","branchInstitution","setBranchInstitution","branchSymbol","setBranchSymbol","coordinatorName","setCoordinatorName","studentCourseType","setStudentCourseType","studentEligibilityLevel","setStudentEligibilityLevel","studentStartDate","setStudentStartDate","studentEndDate","setStudentEndDate","studentBankBankNumber","setStudentBankBankNumber","studentBankBranchNumber","setStudentBankBranchNumber","studentBankAccountNumber","setStudentBankAccountNumber","studentBankAnotherBankNumber","setStudentBankAnotherBankNumber","studentBankAnotherBranchNumber","setStudentBankAnotherBranchNumber","studentBankAnotherAccountNumber","setStudentBankAnotherAccountNumber","studentPaymentMethod","setStudentPaymentMethod","DetailContainer","titleStyle","HandleOnChange","moreParam","splitParams","change","identity_type","main_phone_number","secondary_phone_number","state","address","birth_date","course_types","banks","yearly_income","yearly_expense","monthly_balance","yearly_balance","hight","makeLinkIndex","ClearData","ShowIncomeExpenseDetails","bank_account","billing_name","opacity","list","readOnly","resize","HandleChangeCheckBox","setIsAddingData","leftTableData","setLeftTableData","rowData","formIds","formId","setFormId","formAttributes","setFormAttributes","inputData","setInputData","formComp","setFormComp","formAttributesArr","setFormAttributesArr","studentCourseRegistrationId","HandleInputData","currInputData","BuildFormComp","formAttr","comp","choice","HandleFormChoosing","response","setAttribute","parentNode","App","basename","path","UploadCSVFile","BankAccount","TransactionsReport","ReceptionBasket","PeriodicReception","StudentsBasket","PeriodicStudents","PaymentsBasket","StudentProfile","PaymentReport","StudentForm","Login","Boolean","hostname","match","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.117d9db7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2limQ\",\"content\":\"Modal_content__6VWTD\",\"modal\":\"Modal_modal__9ZFov\",\"slide-down\":\"Modal_slide-down__3pKCh\"};","import React from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/login/Login.css';\r\n\r\nconst Login = (props) => {\r\n    const history = useHistory();\r\n\r\n    const { loginStore } = props.rootStore;\r\n\r\n    const HandleSubmit = (event) => {\r\n        event.preventDefault();\r\n        loginStore.login()\r\n            .then(res => {\r\n                loginStore.setLoader(false);\r\n                if (!res && res !== undefined) {\r\n                    localStorage.setItem('remember', loginStore.rememberMe);\r\n                    localStorage.setItem('userName', loginStore.userName);\r\n                    sessionStorage.setItem('login', 'true');\r\n                    sessionStorage.setItem('route', '/finance-report');\r\n                    loginStore.setErrorMessage('');\r\n                    history.push('/finance-report');\r\n                }\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className='loginPage' >\r\n            <div className='loginBorder'> {/** gradientBorderBox */}\r\n                <div className='loginBorderPosition' >\r\n                    {/* <img className='loginLogo' alt='Blyzer' src={require('../../assets/images/LOGO.png')} /> */}\r\n                    <div className='loginTitle' ></div>\r\n                    <form className='loginForm' onSubmit={HandleSubmit}>\r\n                        <input className='loginInput' type='text' placeholder=' ' onChange={(e) => loginStore.changeUserName(e.target.value)} />\r\n                        <input className='loginInput' type='password' placeholder='' onChange={(e) => loginStore.changePassword(e.target.value)} />\r\n                        <div className='loginErrorMessage'>\r\n                            {loginStore.errorMessage.includes('Incorrect') ? '    ' : loginStore.errorMessage}\r\n                        </div>\r\n                        {loginStore.loader && <div style={{ display: 'flex', justifyContent: 'center', marginTop: '-2em', marginBottom: '2em' }}><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                        <button className='loginSubmit disableTextSelectionHighlighting' ></button>\r\n                        <label className='loginInputCheckbox disableTextSelectionHighlighting' >\r\n                            <input type='checkbox' placeholder='remember' checked={loginStore.rememberMe} onChange={e => loginStore.changeRememberMe(e.target.checked)} />\r\n                             \r\n                        </label>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(Login));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { FaShoppingCart } from 'react-icons/fa';\r\nimport { MdArrowBack } from 'react-icons/md';\r\nimport '../../styles/containers/ContainerHeader.css';\r\n\r\nconst ContainerHeader = (props) => {\r\n    const history = useHistory();\r\n\r\n    const HandleGoBack = () => {\r\n        const location = history.location.pathname.split('/')[1];\r\n        sessionStorage.setItem('reload', 'true');\r\n        sessionStorage.setItem('route', `/${location}`);\r\n        history.push(location);\r\n    }\r\n\r\n    const HandleClickCart = () => {\r\n        sessionStorage.setItem('route', '/finance-report/payments-basket');\r\n        history.push('/finance-report/payments-basket')\r\n    }\r\n\r\n    return (\r\n        <div className='containerHeader'>\r\n            {props.goBack && <div className='containerHeaderGoBack' onClick={HandleGoBack} >\r\n                \r\n                <MdArrowBack size='1.5em' style={{ marginRight: '5px' }} />\r\n            </div>}\r\n            <div className='containerHeaderTitle' >\r\n                {props.title}\r\n            </div>\r\n            {/* {props.showCart &&  */}\r\n            {!history.location.pathname.includes('payments-basket') && <div className='containerHeaderCart' >\r\n                <FaShoppingCart size='2em' onClick={HandleClickCart} />\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nContainerHeader.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    // showCart: PropTypes.bool,\r\n    goBack: PropTypes.bool,\r\n}\r\n\r\nexport default ContainerHeader;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { GoPrimitiveDot } from \"react-icons/go\";\r\nimport '../../styles/containers/ContainerNavbar.css';\r\n\r\nconst ContainerNavbar = (props) => {\r\n    const history = useHistory();\r\n\r\n    const tabs = [\r\n        {\r\n            name: '\" ',\r\n            location: '/finance-report',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/finance-report/payments-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/periodic-reception',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/periodic-reception/reception-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/students-reception',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '  ',\r\n            location: '/students-reception/students-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '\" ',\r\n            location: '/transactions-report',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '  ',\r\n            location: '/import-data',\r\n            // icon: require('../../assets/images/heart.png')\r\n        },\r\n        {\r\n            name: '  -  ',\r\n            location: '/bank-account',\r\n            // icon: require('../../assets/images/heart.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/student-form',\r\n            // icon: require('../../assets/images/heart.png')\r\n        }\r\n    ]\r\n\r\n    const HandleChangePage = (tab) => {\r\n        if (history.location.pathname === tab.location)\r\n            history.replace(tab.location)\r\n        else {\r\n            sessionStorage.setItem('route', tab.location);\r\n            history.push(tab.location);\r\n        }\r\n    }\r\n\r\n    return (tabs.map(tab => <div key={tab.name} className='navbarTab'>\r\n        <div className='navbarTabName'\r\n            style={{\r\n                color: history.location.pathname.includes(tab.location) && '#3BB2DC', marginRight: tab.underTab && '10px',\r\n                minWidth: tab.underTab && '0'\r\n            }}\r\n            onClick={() => HandleChangePage(tab)} >\r\n            {tab.underTab && <GoPrimitiveDot size='0.8em' style={{ color: history.location.pathname.includes(tab.location) && '#3BB2DC', marginLeft: '3px' }} />}\r\n            {/* <img src={tab.icon} alt='' className={`navbarTabNameIcon ${history.location.pathname.includes(tab.location) && 'selectedNavbarTab'}`} /> */}\r\n            {tab.name}\r\n        </div>\r\n    </div>)\r\n    )\r\n}\r\n\r\nexport default ContainerNavbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ContainerHeader from './ContainerHeader';\r\nimport ContainerNavbar from './ContainerNavbar';\r\nimport '../../styles/containers/Container.css';\r\n\r\nconst Container = (props) => {\r\n    return (\r\n        <div id='containerPage' className='containerPage disableTextSelectionHighlighting' >\r\n            <div style={{ display: 'flex', direction: 'rtl' }}>\r\n                <div style={{ height: '100vh', minHeight: '100%', backgroundColor: '#c5c5c5' }} >\r\n                    <h3 style={{ textAlign: 'center' }}>School Manager</h3>\r\n                    <ContainerNavbar />\r\n                </div>\r\n                <div style={{ width: '100%', marginBottom: '10px' }}>\r\n                    <ContainerHeader title={props.title} goBack={props.goBack} />\r\n                    {/* showCart={props.showCart} */}\r\n                    <div style={props.childrenStyle}>\r\n                        {props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nContainer.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    // showCart: PropTypes.bool,\r\n    children: PropTypes.any.isRequired,\r\n    childrenStyle: PropTypes.any,\r\n    goBack: PropTypes.bool,\r\n}\r\n\r\nexport default Container;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst FinanceReportFilters = (props) => {\r\n    console.log(props.data);\r\n    return (\r\n        <div className='disableTextSelectionHighlighting financeReportFiltersContainer' >\r\n            {props.data.map((filters, titleIndex) => <React.Fragment key={filters.title}>\r\n                <div className='financeReportFiltersPosition' >\r\n                    <div className='financeReportFiltersTitle' >{filters.title}</div>\r\n                    {\r\n                        filters.title === '' ?\r\n                            <div style={{ display: 'flex', height: '70%' }}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-evenly', alignItems: 'center' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em' }} onChange={(e) => props.dateSelectOption(e.target.value)}>\r\n                                        {filters.filters.map((option, optionIndex) =>\r\n                                            <option key={optionIndex} value={[option.display_name, option.name, option.filter_key]}>{option.display_name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ fontSize: '1em' }} value={props.dateFrom} onChange={e => props.onDateFrom(e.target.value)} />\r\n                                    <input type='date' style={{ fontSize: '1em' }} value={props.dateTo} onChange={e => props.onDateTo(e.target.value)} />\r\n                                    <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer' }} onClick={() => props.cleanDate()}></div>\r\n                                </div>\r\n                            </div> :\r\n                            <div style={{ display: 'flex' }}>\r\n                                {filters.filters.map((filter, filterIndex) => <div key={filterIndex} className='checksDataContainer' style={{ position: 'relative', display: 'flex', flexDirection: 'column', marginRight: filterIndex > 0 && '1.5em' }}>\r\n                                    <div style={{ fontWeight: '500', textDecoration: 'underline' }}>{filter.display_name}</div>\r\n                                    {filter.checkboxes.map((value, checkboxIndex) => <div key={checkboxIndex}>\r\n                                        <label style={{ cursor: 'pointer' }}>\r\n                                            <input className='checkboxFinanceReportFilter' type='checkbox' title_index={titleIndex} filter_index={filterIndex}\r\n                                                checkbox_index={checkboxIndex} onChange={e => props.onChange(filters.name, filter.name, value, titleIndex, filterIndex, checkboxIndex)} />\r\n                                            {value}\r\n                                        </label>\r\n                                    </div>)}\r\n                                </div>)}\r\n                            </div>}\r\n                </div>\r\n                <hr style={{ margin: 'auto 1em', border: 'none', borderLeft: '1px dashed rgba(158 158 158 / 0.8)', height: '50%', width: '1px' }} />\r\n            </React.Fragment>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nFinanceReportFilters.propTypes = {\r\n    data: PropTypes.arrayOf(PropTypes.object),\r\n    onChange: PropTypes.func.isRequired,\r\n    dateSelectOption: PropTypes.func,\r\n    dateFrom: PropTypes.string,\r\n    dateTo: PropTypes.string,\r\n    onDateFrom: PropTypes.func,\r\n    onDateTo: PropTypes.func,\r\n    cleanDate: PropTypes.func,\r\n}\r\n\r\nexport default FinanceReportFilters;","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FiCheckSquare, FiMinusSquare, FiTrash2, FiPlusSquare } from 'react-icons/fi';\r\nimport '../styles/Table.css';\r\n\r\nconst Table = (props) => {\r\n    const [edit, setEdit] = useState(-1);\r\n    const [editText, setEditText] = useState('');\r\n    const [editTextTitle, setEditTextTitle] = useState('');\r\n    const [newData, setNewData] = useState({});\r\n\r\n    let incomeSum = 0;\r\n    let expanseSum = 0;\r\n    let balanceSum = 0;\r\n    let balanceTotalSum = 0;\r\n    let cashSum = 0;\r\n    let commitmentSum = 0;\r\n    let flowSum = 0;\r\n    let monthlyFlowSum = 0;\r\n    let lineOfCreditSum = 0;\r\n    let loanSum = 0;\r\n    let transactionAmountSum = 0;\r\n    let expenseSum = 0;\r\n    let expenseTotalSum = 0;\r\n    let periodicSum = 0;\r\n    let periodicTotalSum = 0;\r\n    let totalChargedAmountSum = 0;\r\n\r\n    const tableRef = useRef(null);\r\n\r\n    const regNumber = /^\\d+$/;\r\n\r\n    useEffect(() => {\r\n        props.tableHeight && tableRef.current && props.tableHeight(tableRef.current.scrollHeight);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props.data])\r\n\r\n    const ShowWithMinus = (item, data) => {\r\n        return item && data && !isNaN(data) ? (data.toString().includes('-') ? `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}-` :\r\n            `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}`) : ''\r\n        // item ? (data < 0 ? `${Math.abs(data).toFixed(2)}-` : `${data}`) : '';\r\n    }\r\n\r\n    const convertIsoDate = (date) => {\r\n        return date && new Date(date).toISOString().slice(0, 10).split('-').reverse().join('/');\r\n    }\r\n\r\n    const HandleTableData = (title, item, index) => {\r\n        switch (title) {\r\n            case '':\r\n                return <div style={{ whiteSpace: 'nowrap' }}>{item.identity}</div>;\r\n            case '':\r\n                return item.name;\r\n            case ' ':\r\n                return item.full_name;\r\n            case '':\r\n                item && (incomeSum += parseFloat(item.income_sum));\r\n                return ShowWithMinus(item, item?.income_sum);\r\n            case '':\r\n                item && (expanseSum += parseFloat(item.expense_sum));\r\n                return ShowWithMinus(item, item?.expense_sum);\r\n            case '':\r\n                item && (balanceSum += parseFloat(item.balance));\r\n                return ShowWithMinus(item, item?.balance);\r\n            case ' ':\r\n                item && (balanceTotalSum += parseFloat(item.balance_total));\r\n                return item ? ShowWithMinus(item, item?.balance_total) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n            case ' ':\r\n            case ' ':\r\n                return <div>\r\n                    <input disabled={(title === ' ' && (item?.amount >= 0 || item?.payment_status === '' || item?.payment_status === '')) ||\r\n                        (title === ' ' && item.deleted)}\r\n                        title={(title === ' ' && (item?.deleted ? '  ' : item?.amount >= 0 ? '   ' :\r\n                            (item?.payment_status === '' || item?.payment_status === '') ? `      ${item?.payment_status}` : '')) ||\r\n                            (title === ' ' && item.deleted && '  ') || ''}\r\n                        type='checkbox' checked={item ? (props.tableCheckbox ? props.tableCheckbox[index].checked : item.is_printable) : false}\r\n                        style={{\r\n                            visibility: (!item || props.rightTable) && 'hidden', position: (item && props.rightTable) && 'absolute',\r\n                            cursor: 'pointer'\r\n                        }} onChange={e => props.changeCheckbox(e.target.checked, index, item)} />\r\n                    {item && props.rightTable && <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\r\n                        <FiMinusSquare size='1em' style={{ cursor: 'pointer' }} onClick={() => props.changeCheckbox(false, index, item)} />\r\n                        <FiCheckSquare size='1em' style={{ cursor: 'pointer', color: item.all_selected && '#3BB2DC' }} onClick={() => props.changeCheckbox(true, index, item)} />\r\n                    </div>}\r\n                </div>;\r\n            case '':\r\n                return ShowWithMinus(item, item?.expense_amount);\r\n            case '':\r\n                return ShowWithMinus(item, item?.income_amount);\r\n            case '':\r\n                return item.course_type;\r\n            case ' ':\r\n                return item.coordinator_name;\r\n            case '':\r\n                return item.institution_name;\r\n            case '':\r\n                return item.date;\r\n            case ' ':\r\n                return item ? item.account_number : <div style={{ visibility: 'hidden' }}>0</div>;\r\n            case '':\r\n                item && (lineOfCreditSum += parseFloat(item.line_of_credit));\r\n                return ShowWithMinus(item, item?.line_of_credit); //item ? (item.line_of_credit < 0 ? `${Math.abs(item.line_of_credit)}-` : item.line_of_credit) : '';\r\n            case '':\r\n                item && (loanSum += parseFloat(item.loan));\r\n                return ShowWithMinus(item, item?.loan); //item ? (item.loan < 0 ? `${Math.abs(item.loan)}-` : item.loan) : '';\r\n            case '':\r\n                item && (commitmentSum += parseFloat(item.commitment));\r\n                return ShowWithMinus(item, item?.commitment); //item ? (item.commitment < 0 ? `${Math.abs(item.commitment)}-` : item.commitment) : '';\r\n            case '':\r\n                item && (cashSum += parseFloat(item.cash));\r\n                return ShowWithMinus(item, item?.cash); //item ? (item.cash < 0 ? `${Math.abs(item.cash)}-` : item.cash) : '';\r\n            case '':\r\n                item && (flowSum += parseFloat(item.flow));\r\n                return ShowWithMinus(item, item?.flow); //item ? (item.flow < 0 ? `${Math.abs(item.flow)}-` : item.flow) : '';\r\n            case ' ':\r\n                item && (monthlyFlowSum += parseFloat(item.flow));\r\n                return ShowWithMinus(item, item?.monthly_flow); //item ? (item.flow < 0 ? `${Math.abs(item.flow)}-` : item.flow) : '';\r\n            case '':\r\n            case ' ':\r\n            case ' ':\r\n                const date = title === '' ? item.date : title === ' ' ? item.transaction_date : item?.printing_date;\r\n                return convertIsoDate(date);\r\n            case ' ':\r\n                return convertIsoDate(item.value_date);\r\n            case '':\r\n                if (item?.amount || item?.amount?.toString() === '-0' || item?.amount?.toString() === '0') {\r\n                    transactionAmountSum += parseFloat(item.amount);\r\n                    const amount = ShowWithMinus(item, item.amount)\r\n                    return <div style={{ color: amount.includes('-') ? 'red' : 'green' }}>{amount}</div>;\r\n                }\r\n                if (item && props.allowEdit) {\r\n                    // onBlur={e => { item.expense_sum !== e.target.value && props.changeSum(editText); setEdit(''); }}\r\n                    transactionAmountSum += parseFloat(item.expense_sum);\r\n                    return <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.expense_sum); }}\r\n                        style={{ cursor: 'text', border: item.show_error && (!item.expense_sum || item.expense_sum === 0) && '1px solid red' }} >\r\n                        {edit === index && editTextTitle === title ? <input type='text' autoFocus value={editText}\r\n                            style={{ width: '85%', fontSize: '1em' }} onChange={e => regNumber.test(e.target.value) && setEditText(e.target.value)}\r\n                            onBlur={e => { item.expense_sum !== e.target.value && props.changeSum(editText, item, index); setEdit(''); }} /> :\r\n                            ShowWithMinus(item, item?.expense_sum)}</div>;\r\n                }\r\n                item && (transactionAmountSum += parseFloat(item?.transaction_amount));\r\n                return ShowWithMinus(item, item?.transaction_amount); //item ? (item.transaction_amount < 0 ? `${Math.abs(item.transaction_amount)}-` : item.transaction_amount) : '';\r\n            case '':\r\n                return item.reference_number;\r\n            case ' ':\r\n                return <FiPlusSquare size='1em' style={{ cursor: 'pointer', visibility: !item && 'hidden' }} onClick={() => props.makeLink(item)} />\r\n            case ' ':\r\n                return item && <select value={item.payment_method || item.method} style={{ borderColor: ((item.show_error && !item.payment_method) || (item.show_error && !item.method)) && 'red', fontSize: '1em', width: '100%', minWidth: '60px' }}\r\n                    onChange={e => e.target.value !== '' && props.changePaymentMethod(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.paymentMethods && Object.keys(props.paymentMethods).map(res =>\r\n                        <option key={res} value={props.paymentMethods[res]}>{props.paymentMethods[res]}</option>)}\r\n                </select>\r\n            case ' ':\r\n                if (item && props.allowEdit) {\r\n                    return <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(0); }} style={{ cursor: 'text' }} >\r\n                        {edit === index && editTextTitle === title ? <input type='text' autoFocus value={editText}\r\n                            style={{ width: '85%', fontSize: '1em' }} onChange={e => regNumber.test(e.target.value) && setEditText(e.target.value)}\r\n                            onBlur={e => { 0 !== e.target.value && props.changeSum(editText, item, index); setEdit(''); }} /> : 0}</div>;\r\n                }\r\n                item && (expenseSum += parseFloat(item.expense_sum));\r\n                return ShowWithMinus(item, item?.expense_sum);\r\n            case ' ':\r\n                item && (expenseTotalSum += parseFloat(item.expense_sum_total));\r\n                return ShowWithMinus(item, item?.expense_sum_total);\r\n            case ' ':\r\n                if (props.noEdit)\r\n                    return convertIsoDate(item.transmission_date);\r\n                return item && <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.transmission_date); }}\r\n                    style={{ cursor: 'text', border: item.show_error && (!item.transmission_date || item.transmission_date === 0) && '1px solid red' }} >\r\n                    {edit === index && editTextTitle === title ? <input type='date' autoFocus value={editText && editText.slice(0, 10)}\r\n                        style={{ width: '95%', fontSize: '1em' }} onChange={e => setEditText(`${e.target.value} 00:00`)}\r\n                        onBlur={e => {\r\n                            item.transmission_date !== e.target.value && props.changeCheckDate(editText, item, index);\r\n                            setEdit('');\r\n                        }} /> :\r\n                        item.transmission_date ? convertIsoDate(item.transmission_date) : 0}</div>;\r\n            case ' ':\r\n                if (props.noEdit)\r\n                    return convertIsoDate(item.for_month);\r\n                return item && <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.for_month); }}\r\n                    style={{ cursor: 'text', border: item.show_error && !item.for_month && '1px solid red' }} >\r\n                    {edit === index && editTextTitle === title ? <input type='date' autoFocus value={editText && editText.slice(0, 10)}\r\n                        style={{ width: '95%', fontSize: '1em' }} onChange={e => setEditText(`${e.target.value} 00:00`)}\r\n                        onBlur={e => {\r\n                            item.for_month !== e.target.value &&\r\n                                props.changeForMonth(editText, item, index); setEdit('');\r\n                        }} /> :\r\n                        item.for_month ? convertIsoDate(item.for_month) : 0}</div>;\r\n            case ' ':\r\n                return item.employee_sum;\r\n            case ' ':\r\n                return item.student_sum;\r\n            case ' ':\r\n                return item && (item.print_employee_sum || item.print_student_sum || item.print_supplier_sum || 0);\r\n            case ' ':\r\n                return item && <select value={item.fk_bank_account_id} style={{ borderColor: item.show_error && !item.fk_bank_account_id && 'red', fontSize: '1em' }}\r\n                    onChange={e => e.target.value !== '' && props.changeBankAccountId(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.bankAccount && props.bankAccount.map(res =>\r\n                        <option key={res.id} value={res.id}>{res.account_number}</option>)}\r\n                </select>\r\n            case '':\r\n                return item && <select value={item.fk_trend_coordinator_id} style={{ borderColor: item.show_error && !item.fk_trend_coordinator_id && 'red', fontSize: '1em', width: '100%', minWidth: '60px' }}\r\n                    onChange={e => e.target.value !== '' && props.changeTrendCoordinatorId(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.trendCoordinator && props.trendCoordinator.map(res =>\r\n                        <option key={res.id} value={res.id}>{res.name}</option>)}\r\n                </select>\r\n            case '':\r\n                const description = item.transaction_description?.length > 29 ? `${item.transaction_description.slice(0, 30)}...` : item.transaction_description;\r\n                return description;\r\n            case '':\r\n                return item?.heb_attribution;\r\n            case ' ':\r\n                return item?.payment_status;\r\n            case '':\r\n                return item?.payment_method;\r\n            case ' ':\r\n                item && (periodicSum += parseFloat(item.pr_num));\r\n                return item ? ShowWithMinus(item, item?.pr_num) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                item && (periodicTotalSum += parseFloat(item.pr_amount_sum));\r\n                return item ? ShowWithMinus(item, item?.pr_amount_sum) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return convertIsoDate(item.charge_date);\r\n            case '':\r\n                return item.comment?.length > 15 ? item.comment.slice(0, 15) : item.comment;\r\n            case ' ':\r\n                return item.periodic_reception_status;\r\n            case ' ':\r\n                return item ? item.num_failed_payment : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.num_success_payment : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.charges_remainder : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case '\"  ':\r\n                item && (totalChargedAmountSum += parseFloat(item.total_charged_amount));\r\n                return item ? item.total_charged_amount : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.charges : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case '  ':\r\n                return convertIsoDate(item.bank_permission_end_date);\r\n            case '  ':\r\n                return convertIsoDate(item.bank_permission_start_date);\r\n            case ' ':\r\n                return convertIsoDate(item.last_charge_date);\r\n            case '  ':\r\n                return convertIsoDate(item.end_date_course_enrollment);\r\n            case '  ':\r\n                return convertIsoDate(item.start_date_course_enrollment);\r\n            case ' ':\r\n                return item.course_type;\r\n            case ' - ':\r\n                return '';\r\n            case ' ':\r\n                return item.day_part;\r\n            case ' ':\r\n                return '';\r\n            case ' ':\r\n                return item.eligibility_min;\r\n            case ' ':\r\n                return item.eligibility_method;\r\n            case ' ':\r\n                return item.eligibility_level;\r\n            case '  ':\r\n                return convertIsoDate(item.end_date_trend_attribution);\r\n            case '  ':\r\n                return convertIsoDate(item.start_date_trend_attribution);\r\n            case ' ':\r\n                return item && (item.merged_printing_number ?\r\n                    <input type='button' value=' ' className='button' style={{ fontSize: '1em' }} onClick={() => props.splitPayment(item.merged_printing_number)} /> :\r\n                    <input type='checkbox' checked={props.mergedCheckbox.includes(item.expense_id)} onChange={e => props.changeMergedCheckbox(e.target.checked, item.expense_id)} />)\r\n            case ' ':\r\n                return item && item.merged_printing_number ? item.merged_printing_number : null;\r\n            case '':\r\n                return item && <FiTrash2 size='1.1em' style={{ cursor: 'pointer', color: 'red' }} onClick={() => props.delete(item)} />;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const ShowSumWithMinus = (data) => {\r\n        return !isNaN(data) ? (data < 0 ? `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}-` :\r\n            `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}`) : 0;\r\n    }\r\n\r\n    const HandleTableFootData = (title) => {\r\n        switch (title) {\r\n            case '':\r\n            case '':\r\n            case '':\r\n            case ' ':\r\n            case ' ':\r\n            case '':\r\n                return props.noFottTitle?.includes(title) ? '' : `${props.data.filter(data => data !== '').length} `;\r\n            case '':\r\n                return ShowSumWithMinus(incomeSum);\r\n            case '':\r\n                return ShowSumWithMinus(expanseSum);\r\n            case '':\r\n                return ShowSumWithMinus(balanceSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(balanceTotalSum);\r\n            case '':\r\n                return ShowSumWithMinus(lineOfCreditSum);\r\n            case '':\r\n                return ShowSumWithMinus(loanSum);\r\n            case '':\r\n                return ShowSumWithMinus(commitmentSum);\r\n            case '':\r\n                return ShowSumWithMinus(cashSum);\r\n            case '':\r\n                return ShowSumWithMinus(flowSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(monthlyFlowSum);\r\n            case '':\r\n                return ShowSumWithMinus(transactionAmountSum);\r\n            case ' ':\r\n                return !props.allowEdit && ShowSumWithMinus(expenseSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(expenseTotalSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(periodicSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(periodicTotalSum);\r\n            case '\"  ':\r\n                return ShowSumWithMinus(totalChargedAmountSum);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const newRowDataHandler = (e)=>{\r\n        console.log(e);\r\n        let tempData = {...newData}\r\n        tempData[e.target.title]=e.target.value \r\n        console.log(tempData); \r\n        setNewData(tempData)\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ position: 'relative', margin: '1em', ...props.style }}>\r\n            <table ref={tableRef} id='table' style={{ borderCollapse: 'collapse', ...props.tableStyle }} >\r\n                <thead style={{ backgroundColor: '#c5c5c5' }}>\r\n                    <tr >\r\n                        {props.header.map((head, index) => <th key={head}\r\n                            style={{\r\n                                position: 'sticky', top: '-1px', border: '1px solid black', backgroundColor: '#c5c5c5',\r\n                                boxShadow: 'inset 0px 0.5px 0px black, inset 0px -0.5px 0px black'\r\n                            }}>\r\n                            <div style={{ margin: '5px' }}>{head}</div>\r\n                        </th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className='wrapWord'>\r\n                    {props.isAddingData &&  <tr >\r\n                        {props.header.map((head, index) => <th key={head}\r\n                            style={{\r\n                                top: '-1px', border: '1px solid black', backgroundColor: '#F7F7F7' }} >\r\n                            <input type=\"text\" style={{ maxWidth: '68px',maxHeight:\"100%\", backgroundColor:'#F7F7F7',  outline: 'none', boxShadow: 'none',border:'none' }} title={head} onChange = {(e)=>newRowDataHandler(e)}/>\r\n                            </th>)\r\n                        }\r\n                        <input type='button' value='' style={{ position: 'absolute' }} size='5' onClick={()=>props.addingData(newData)}/>\r\n                    </tr> }\r\n                    {props.data.map((item, index) => <tr key={index} >{\r\n                        props.header.map((title) => <td key={title} style={{\r\n                            border: '1px solid black', cursor: item && title !== ' ' && title !== ' ' && title !== '' &&\r\n                                title !== ' ' && title !== ' ' && title !== ' ' && (!props.allowEdit || title !== '') &&\r\n                                (!props.allowEdit || title !== ' ') && props.changeTableSelectedItems && 'pointer',\r\n                            backgroundColor: item && props.tableSelectedItems && props.tableSelectedItems[index].checked && '#abcdef'\r\n                        }}\r\n                            onClick={() => item && title !== ' ' && title !== ' ' && title !== ' ' && title !== '' &&\r\n                                title !== ' ' && title !== ' ' && (!props.allowEdit || title !== '') && (!props.allowEdit || title !== ' ') &&\r\n                                props.changeTableSelectedItems && props.changeTableSelectedItems(props.tableSelectedItems &&\r\n                                    !props.tableSelectedItems[index].checked, index, item)}>\r\n                            <div style={{\r\n                                margin: '5px', maxWidth: '10em', wordBreak: 'break-word', color: item.deleted && 'gray'\r\n                                // backgroundColor: props.tableSelectedItems && props.tableSelectedItems[index].checked && 'red'\r\n                            }}>\r\n                                {HandleTableData(title, item, index)}</div>\r\n                        </td>)}\r\n                    </tr>)}\r\n                </tbody>\r\n                {!props.withoutSum && <tfoot style={{ width: '100%', fontWeight: 'bold' }}>\r\n                    <tr>\r\n                        {props.header.map((title, index) => <td key={title} style={{ position: 'sticky', bottom: '-1px', backgroundColor: '#f7f7f7' }}>\r\n                            <div style={{ margin: '5px' }}>{(!props.doNotSum || !props.doNotSum.includes(title)) && HandleTableFootData(title)}</div>\r\n                            {index === 0 && <div style={{ backgroundColor: '#f7f7f7', position: 'absolute', right: '-5px', top: '0', width: '5px', height: '100%' }}></div>}\r\n                        </td>)}\r\n                    </tr>\r\n                </tfoot>}\r\n            </table>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nTable.propTypes = {\r\n    header: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    data: PropTypes.array,\r\n    children: PropTypes.any,\r\n    style: PropTypes.any,\r\n    tableStyle: PropTypes.any,\r\n    className: PropTypes.string,\r\n    tableHeight: PropTypes.func,\r\n    tableCheckbox: PropTypes.array,\r\n    changeCheckbox: PropTypes.func,\r\n    tableSelectedItems: PropTypes.array,\r\n    changeTableSelectedItems: PropTypes.func,\r\n    doNotSum: PropTypes.array,\r\n    rightTable: PropTypes.bool,\r\n    changePaymentMethod: PropTypes.func,\r\n    paymentMethods: PropTypes.array,\r\n    allowEdit: PropTypes.bool,\r\n    changeCheckDate: PropTypes.func,\r\n    changeSum: PropTypes.func,\r\n}\r\n\r\nexport default Table;","import React, { useEffect, useState } from 'react'\r\nimport { SiGooglesheets } from 'react-icons/si';\r\n\r\n\r\nconst GoogleSheetsLink = ({headers,data,store,table}) => {\r\n    const [jsonFile,setJsonFile] = useState()\r\n\r\n    const JSONConverted=()=>{\r\n        let exportObj={}\r\n        let newData = []\r\n        for(let i=0;i<data.length;i++){\r\n            let tempObj ={}\r\n\r\n            for (const [key, value] of Object.entries(data[i])) {\r\n              tempObj[headers[key]]= value\r\n            }\r\n            newData.push(tempObj)\r\n\r\n        }\r\n        exportObj['table']=table\r\n        exportObj['data']=newData\r\n\r\n        let convertedData = JSON.stringify(exportObj)\r\n        setJsonFile(convertedData)\r\n        store.fetchGoogleSheets(convertedData)\r\n    }\r\n\r\n    \r\n  return (\r\n    <div onClick={JSONConverted} style={{ marginRight:'5px' }}>\r\n    <SiGooglesheets size='1.3em' title='GoogleSheets' style={{ cursor: 'pointer' }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GoogleSheetsLink","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from './FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { GrDocumentCsv } from 'react-icons/gr';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport { CSVLink } from 'react-csv';\r\nimport GoogleSheetsLink from '../UI/GoogleSheetsLink'\r\n\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PaymentReport = (props) => {\r\n    const history = useHistory();\r\n    const { paymentReportStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        paymentReportStore.fetchFinanceReportFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                paymentReportStore.setDateFromTo(dateFrom, dateTo);\r\n                paymentReportStore.setFinanceReportFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                paymentReportStore.setFinanceReportFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        paymentReportStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [paymentReportStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        paymentReportStore.setFinanceReportFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            paymentReportStore.setFinanceReportFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = paymentReportStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        paymentReportStore.setFinanceReportFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        paymentReportStore.setFinanceReportFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        paymentReportStore.setDateFromTo(date);\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        paymentReportStore.setDateFromTo(null, date);\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        paymentReportStore.setDateFromTo('', '');\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        paymentReportStore.allFinanceReport && paymentReportStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (paymentReportStore.allFinanceReport) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            paymentReportStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = paymentReportStore.financeReportFiltersToSend;\r\n        const setDate = (data) => {\r\n            data.checked[0] = data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.expense_filters = [...body.expense_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.expense_filters.map(expense => setDate(expense))];\r\n        body.income_filters = [...body.income_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.income_filters.map(income => setDate(income))];\r\n        body.student_filters = [...body.student_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.student_filters.map(student => setDate(student))];\r\n        !sessionStorage.getItem('reload') ? paymentReportStore.fetchFilteredFinanceReport(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const HandleSelectedLeftTableSelectedItem = (item) => {\r\n        if (paymentReportStore.selectedLeftTableTab === 'student') {\r\n            sessionStorage.setItem('student_id', item.attribution_id);\r\n            history.push('/finance-report/student-profile');\r\n            sessionStorage.setItem('route', '/finance-report/student-profile');\r\n        }\r\n    }\r\n\r\n    const HandleExpenseMessage = () => {\r\n        setTimeout(() => {\r\n            paymentReportStore.changeExpenseMessage('');\r\n        }, 5000);\r\n\r\n        return <div style={{ position: 'absolute', left: '100%', whiteSpace: 'nowrap', marginLeft: '3px', fontSize: '1.1em' }}>{paymentReportStore.expenseMessage}</div>\r\n    }\r\n\r\n    console.log(paymentReportStore.financeReportFilters);\r\n    return (\r\n        <Container title='   -  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={paymentReportStore.financeReportFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={paymentReportStore.dateFrom}\r\n                    dateTo={paymentReportStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {paymentReportStore.financeReportFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => paymentReportStore.allFinanceReport && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'absolute', top: '110%', display: 'flex', alignItems: 'center', justifyContent: 'center', width: 'max-content' }}>\r\n                            {paymentReportStore.expenseMessage.trim() !== '' && HandleExpenseMessage()}\r\n                            <div className='button' onClick={() => paymentReportStore.allFinanceReport && paymentReportStore.fetchExpense()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: paymentReportStore.leftTableHeight < paymentReportStore.rightTableHeight ? paymentReportStore.leftTableHeight : paymentReportStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: paymentReportStore.rightTableFinanceReport.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={paymentReportStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${paymentReportStore.selectedRightTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={paymentReportStore.rightTableFinanceReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'income_sum' },\r\n                                { label: '', key: 'expense_sum' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={{\r\n                                  'name' :'',\r\n                                   'income_sum':'',\r\n                                  'expense_sum':'',\r\n                                   'balance':'',\r\n                                  'balance_total':' '\r\n                        }}\r\n                             data={paymentReportStore.rightTableFinanceReportDownloadCSV} \r\n                             store={paymentReportStore}\r\n                             table={paymentReportStore.selectedRightTableTab}\r\n                             />\r\n                             \r\n                    </div>\r\n                    <Table header={['', '', '', '', ' ', ' ']}\r\n                        rightTable\r\n                        data={paymentReportStore.rightTableFinanceReport}\r\n                        tableCheckbox={paymentReportStore.rightTableCheckbox}\r\n                        tableSelectedItems={paymentReportStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentReportStore.allFinanceReport && paymentReportStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => paymentReportStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentReportStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentReportStore.leftTableHeight < paymentReportStore.rightTableHeight && paymentReportStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!paymentReportStore.allFinanceReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: paymentReportStore.leftTableFinanceReport.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={paymentReportStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${paymentReportStore.selectedLeftTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={paymentReportStore.leftTableFinanceReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'income_sum' },\r\n                                { label: '', key: 'expense_sum' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={{\r\n                            'identity':'' ,\r\n                            'full_name':' ' ,\r\n                            'income_sum':'' ,\r\n                            'expense_sum':'' ,\r\n                            'balance':'' ,\r\n                            'balance_total':' ' }\r\n                            } \r\n                            data={paymentReportStore.leftTableFinanceReportDownloadCSV} \r\n                            store={paymentReportStore}\r\n                            table={paymentReportStore.selectedLeftTableTab}\r\n                            />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', ' ', ' ']}\r\n                        data={paymentReportStore.leftTableFinanceReport}\r\n                        noFottTitle={[' ']}\r\n                        tableCheckbox={paymentReportStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => paymentReportStore.setLeftTableCheckbox(checked, index, item)}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentReportStore.allFinanceReport && HandleSelectedLeftTableSelectedItem(item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentReportStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentReportStore.leftTableHeight > paymentReportStore.rightTableHeight && paymentReportStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'employee', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'supplier', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!paymentReportStore.allFinanceReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PaymentReport));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from './FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst PaymentsBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { paymentsBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n    const [checkConsolidation, setCheckConsolidation] = useState('');\r\n\r\n    useEffect(() => {\r\n        paymentsBasketStore.fetchPaymentsBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n\r\n        return () => {\r\n            paymentsBasketStore.changeMergedCheckbox(null, null, true);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        paymentsBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [paymentsBasketStore.leftTablePaymentsBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        paymentsBasketStore.setPaymentsBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            paymentsBasketStore.setPaymentsBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = paymentsBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        paymentsBasketStore.setPaymentsBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        paymentsBasketStore.allPaymentsBasket && paymentsBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (paymentsBasketStore.allPaymentsBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            paymentsBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        paymentsBasketStore.fetchFilteredPaymentsBasket(paymentsBasketStore.paymentsBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        paymentsBasketStore.fetchPrint(onlyShown,checkConsolidation)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    const checkConsolidationHandle = (e)=>{\r\n        setCheckConsolidation(e.target.value)\r\n    }\r\n    return (\r\n        <Container title=' ' goBack childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={paymentsBasketStore.paymentsBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {paymentsBasketStore.paymentsBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <select  style={{width:'100%' }} value={checkConsolidation} onChange={checkConsolidationHandle} >\r\n                            <option value=\"\" selected disabled> </option>\r\n                            <option value=\"trend_coordinator\"></option>\r\n                            <option value=\"branch\"></option>\r\n                        </select>\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} style={{width:'100%' }}/>\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} style={{width:'100%' }} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => paymentsBasketStore.fetchMerge()} style={{width:'100%' }}/>\r\n                    </div>\r\n\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: paymentsBasketStore.leftTableHeight < paymentsBasketStore.rightTableHeight ? paymentsBasketStore.leftTableHeight : paymentsBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: paymentsBasketStore.rightTablePaymentsBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={paymentsBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={paymentsBasketStore.selectedRightTableTab === 'institution' ?\r\n                        (windowWidth > 1600 ? ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''] :\r\n                            ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '']) :\r\n                        (windowWidth > 1600 ? ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''] :\r\n                            ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''])}\r\n                        rightTable\r\n                        data={paymentsBasketStore.rightTablePaymentsBasket}\r\n                        tableCheckbox={paymentsBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={paymentsBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentsBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => paymentsBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => paymentsBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={paymentsBasketStore.generalLists?.expense_payment_methods}\r\n                        allowEdit\r\n                        changeCheckDate={(date, item) => paymentsBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => paymentsBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => paymentsBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => paymentsBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentsBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentsBasketStore.leftTableHeight < paymentsBasketStore.rightTableHeight && paymentsBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!paymentsBasketStore.allPaymentsBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: paymentsBasketStore.leftTablePaymentsBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={paymentsBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', ' ', ' ', ' ', '', ' ', ' ', ' ', '']}\r\n                        data={paymentsBasketStore.leftTablePaymentsBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={paymentsBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => paymentsBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        mergedCheckbox={paymentsBasketStore.mergedCheckbox}\r\n                        changeMergedCheckbox={(checked, id) => paymentsBasketStore.changeMergedCheckbox(checked, id)}\r\n                        splitPayment={(merged_number) => paymentsBasketStore.fetchSplit(merged_number)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => paymentsBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={paymentsBasketStore.generalLists?.expense_payment_methods}\r\n                        allowEdit\r\n                        changeCheckDate={(date, item, index) => paymentsBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => paymentsBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => paymentsBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => paymentsBasketStore.delete(item, 0)}\r\n                        bankAccount={paymentsBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => paymentsBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => paymentsBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={paymentsBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentsBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentsBasketStore.leftTableHeight > paymentsBasketStore.rightTableHeight && paymentsBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'employee', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'supplier', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!paymentsBasketStore.allPaymentsBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PaymentsBasket));","import React, { useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { GrDocumentCsv } from 'react-icons/gr';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport { CSVLink } from 'react-csv';\r\nimport GoogleSheetsLink from '../UI/GoogleSheetsLink'\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst TransactionsReport = (props) => {\r\n    // const history = useHistory();\r\n    const { transactionsReportStore } = props.rootStore;\r\n    console.log(transactionsReportStore);\r\n\r\n    useEffect(() => {\r\n        transactionsReportStore.fetchTransactionsReportFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                transactionsReportStore.setDateFromTo(dateFrom, dateTo);\r\n                transactionsReportStore.setTransactionsReportFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                transactionsReportStore.setTransactionsReportFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        transactionsReportStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [transactionsReportStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        transactionsReportStore.setTransactionsReportFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            transactionsReportStore.setTransactionsReportFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = transactionsReportStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        transactionsReportStore.setTransactionsReportFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        transactionsReportStore.setTransactionsReportFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        transactionsReportStore.setDateFromTo(date);\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        transactionsReportStore.setDateFromTo(null, date);\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        transactionsReportStore.setDateFromTo('', '');\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        transactionsReportStore.allTransactionsReport && transactionsReportStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (transactionsReportStore.allTransactionsReport) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            transactionsReportStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = transactionsReportStore.transactionsReportFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.expense_filters = [...body.expense_filters.filter(data => data.name !== 'expense_date'),\r\n        ...transactionsReportStore.transactionsReportFiltersDateToSend.expense_filters.map(expense => setDates(expense))];\r\n        body.income_filters = [...body.income_filters.filter(data => data.name !== 'income_date'),\r\n        ...transactionsReportStore.transactionsReportFiltersDateToSend.income_filters.map(income => setDates(income))];\r\n        body.attribution_filters = [...body.attribution_filters];\r\n        !sessionStorage.getItem('reload') ? transactionsReportStore.fetchFilteredTransactionsReport(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const HandleExpenseMessage = () => {\r\n        setTimeout(() => {\r\n            transactionsReportStore.changeExpenseMessage('');\r\n        }, 5000);\r\n\r\n        return <div style={{ position: 'absolute', left: '0', bottom: '-1.2em', whiteSpace: 'nowrap', marginLeft: '3px', fontSize: '1.1em' }}>{transactionsReportStore.expenseMessage}</div>\r\n    }\r\n\r\n    const HandleRestoreExpense = () => {\r\n        const checkboxRestoreLength = transactionsReportStore.leftTableCheckbox.filter(data => data.checked).length;\r\n\r\n        const HandleExeptRestoreExpense = () => {\r\n            transactionsReportStore.fetchRestoreExpense()\r\n                .then(() => {\r\n                    HandleSearchByCheckBox();\r\n                    HandleClosePopup();\r\n                })\r\n        }\r\n\r\n        const HandleClosePopup = () => {\r\n            transactionsReportStore.setShowPopup(false);\r\n        }\r\n\r\n        return <div id='popupContainer'>\r\n            <div className='restorePopup'>\r\n                <div> {` ${checkboxRestoreLength} `} </div>\r\n                <div>  ?</div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly', marginTop: '10px' }}>\r\n                    <div className='button' style={{ padding: '3px' }} onClick={HandleExeptRestoreExpense}></div>\r\n                    <div className='button' style={{ padding: '3px' }} onClick={HandleClosePopup}></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    const HandleRawTable = () => {\r\n        transactionsReportStore.fetchRawTable()\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={transactionsReportStore.transactionsReportFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={transactionsReportStore.dateFrom}\r\n                    dateTo={transactionsReportStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {transactionsReportStore.transactionsReportFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => transactionsReportStore.allTransactionsReport && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'absolute', top: '110%', display: 'flex', alignItems: 'center', justifyContent: 'center', width: 'max-content' }}>\r\n                            {transactionsReportStore.expenseMessage?.trim() !== '' && HandleExpenseMessage()}\r\n                            <div className='button' onClick={() => transactionsReportStore.allTransactionsReport && transactionsReportStore.setShowPopup(true)}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: transactionsReportStore.leftTableHeight < transactionsReportStore.rightTableHeight ? transactionsReportStore.leftTableHeight : transactionsReportStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: transactionsReportStore.rightTableTransactionsReport.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '50%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={transactionsReportStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${transactionsReportStore.selectedRightTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={transactionsReportStore.rightTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink \r\n                            data={transactionsReportStore.rightTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}\r\n                            store={transactionsReportStore}\r\n                            table={ transactionsReportStore.selectedRightTableTab}\r\n                            />\r\n                    </div>\r\n                    <Table header={['', '', ' ']}\r\n                        rightTable\r\n                        data={transactionsReportStore.rightTableTransactionsReport}\r\n                        tableCheckbox={transactionsReportStore.rightTableCheckbox}\r\n                        tableSelectedItems={transactionsReportStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => transactionsReportStore.allTransactionsReport && transactionsReportStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => transactionsReportStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => transactionsReportStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!transactionsReportStore.allTransactionsReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: transactionsReportStore.leftTableTransactionsReport.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '20%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={transactionsReportStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <div style={{ textDecoration: 'underline', fontWeight: '500' }}> :</div>\r\n                            <label style={{ display: 'flex', marginRight: '3px' }}>\r\n                                \r\n                                <input type='checkbox' checked={transactionsReportStore.checkExpense}\r\n                                    onChange={e => transactionsReportStore.changeCheckBox('expense', e.target.checked)} />\r\n                            </label>\r\n                            <label style={{ display: 'flex', marginRight: '3px' }}>\r\n                                \r\n                                <input type='checkbox' checked={transactionsReportStore.checkIncome}\r\n                                    onChange={e => transactionsReportStore.changeCheckBox('income', e.target.checked)} />\r\n                            </label>\r\n                        </div>\r\n                        <CSVLink style={{ marginRight: '1em' }} filename={`  ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={transactionsReportStore.leftTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'heb_attribution' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'transaction_date' },\r\n                                { label: ' ', key: 'payment_status' },\r\n                                { label: '', key: 'amount' },\r\n                                { label: '', key: 'payment_method' },\r\n                                { label: ' ', key: 'for_month' },\r\n                                { label: ' ', key: 'printing_date' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={[\r\n                                { label: '', key: 'heb_attribution' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'transaction_date' },\r\n                                { label: ' ', key: 'payment_status' },\r\n                                { label: '', key: 'amount' },\r\n                                { label: '', key: 'payment_method' },\r\n                                { label: ' ', key: 'for_month' },\r\n                                { label: ' ', key: 'printing_date' }\r\n                            ]} data={transactionsReportStore.leftTableTransactionsReportDownloadCSV} store={transactionsReportStore}\r\n                            table={ ' ' }\r\n                            />\r\n                        <input style={{ marginRight: '1em' }} type='button' value='   ' onClick={HandleRawTable} />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', '', '', ' ', ' ', ' ']}\r\n                        noEdit\r\n                        noFottTitle={['']}\r\n                        data={transactionsReportStore.leftTableTransactionsReport}\r\n                        tableCheckbox={transactionsReportStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => transactionsReportStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => transactionsReportStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!transactionsReportStore.allTransactionsReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            {transactionsReportStore.showPopup && <HandleRestoreExpense />}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(TransactionsReport));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SelectData = (props) => {\r\n    return (\r\n        <div style={{ display: 'flex', marginBottom: '5px' }}>\r\n            <div style={{ marginLeft: '5px' }}>\r\n                {props.titles.map((title, index) => <div key={index} style={{ marginTop: index > 0 && '5px' }}>{title}:</div>)}\r\n            </div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nSelectData.propTypes = {\r\n    titles: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    children: PropTypes.any.isRequired\r\n}\r\n\r\nexport default SelectData;","export const url = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:80/' : '/';\r\n\r\nexport const Get = async (controller) => {\r\n    return await fetch(url + controller, {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json' }\r\n    })\r\n        .then(res => {\r\n            if (res.statusText === 'UNAUTHORIZED') {\r\n                localStorage.clear();\r\n                sessionStorage.clear();\r\n                window.location.replace('/');\r\n            }\r\n            else return res.json();\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const GetHeader = async (controller) => {\r\n    return await fetch(url + controller, {\r\n        method: 'GET',\r\n    })\r\n        .then(res => {\r\n            if (res.statusText === 'UNAUTHORIZED') {\r\n                localStorage.clear();\r\n                sessionStorage.clear();\r\n                window.location.replace('/');\r\n            }\r\n            else return res;\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Post = async (controller, body, withoutJson) => {\r\n    return await fetch(url + controller, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => withoutJson ? res : res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const PostFormData = async (controller, formData) => {\r\n    return await fetch(url + controller, {\r\n        method: 'POST',\r\n        body: formData\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Put = async (controller, body) => {\r\n    return await fetch(url + controller, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const PutFormData = async (controller, formData) => {\r\n    return await fetch(url + controller, {\r\n        method: 'PUT',\r\n        body: formData\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Delete = async (controller, body) => {\r\n    return await fetch(url + controller, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}","import loginStore from './LoginStore';\r\nimport paymentReportStore from './PaymentReportStore';\r\nimport paymentsBasketStore from './PaymentsBasketStore';\r\nimport transactionsReportStore from './TransactionsReportStore';\r\nimport studentStore from './StudentStore';\r\nimport uploadCSVFile from './UploadCSVFileStore';\r\nimport bankAccountStore from './BankAccountStore';\r\nimport receptionBasketStore from './ReceptionBasketStore';\r\nimport periodicReceptionStore from './PeriodicReceptionStore';\r\n\r\nconst RootStore = {\r\n    loginStore,\r\n    paymentReportStore,\r\n    paymentsBasketStore,\r\n    transactionsReportStore,\r\n    studentStore,\r\n    uploadCSVFile,\r\n    bankAccountStore,\r\n    receptionBasketStore,\r\n    periodicReceptionStore\r\n}\r\nexport default RootStore;","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass LoginStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    userName = '';\r\n    password = '';\r\n    rememberMe = false;\r\n    errorMessage = '';\r\n    loader = false;\r\n\r\n    setLoader = (load) => {\r\n        this.loader = load;\r\n    }\r\n\r\n    changeUserName = (value) => {\r\n        this.userName = value;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    changePassword = (value) => {\r\n        this.password = value;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    changeRememberMe = (checked) => {\r\n        this.rememberMe = checked;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    setErrorMessage = (err) => {\r\n        !(this.errorMessage === '' && err === '') && (this.errorMessage = err);\r\n    }\r\n\r\n    login = async () => {\r\n        this.setErrorMessage('');\r\n        this.loader = true;\r\n        if (this.userName.trim() !== '' && this.password.trim() !== '') {\r\n            return await Fetch.Post('auth/login', { username: this.userName, password: this.password, remember_me: this.rememberMe })\r\n                .then(res => {\r\n                    res.error && this.setErrorMessage(res.message);\r\n                    return res.error;\r\n                })\r\n                .catch(err => { console.error(err); this.setErrorMessage(' ,   '); })\r\n        }\r\n        else {\r\n            this.setErrorMessage('     ');\r\n            return true;\r\n        };\r\n    }\r\n}\r\n\r\nexport default new LoginStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PaymentReportStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allFinanceReport = null;\r\n    leftTableFinanceReport = Array(10).fill('');\r\n    rightTableFinanceReport = Array(10).fill('');\r\n    leftTableFinanceReportDownloadCSV = [];\r\n    rightTableFinanceReportDownloadCSV = [];\r\n    financeReportFilters = [];\r\n    financeReportFiltersToSend = { expense_filters: [], income_filters: [], student_filters: [] };\r\n    financeReportFiltersDateToSend = {\r\n        expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        student_filters: []\r\n    };\r\n    financeReportFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'student';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n\r\n    setLeftTableFinanceReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.leftTableFinanceReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setRightTableFinanceReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.rightTableFinanceReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                console.log(item);\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTableFinanceReport = this.rightTableFinanceReport.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableFinanceReport.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem && leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTableFinanceReport[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTableFinanceReport = newRightTableFinanceReport\r\n        this.setRightTableFinanceReportDownloadCSV(newRightTableFinanceReport);\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allFinanceReport[0][this.selectedLeftTableTab] : this.leftTableFinanceReport;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableFinanceReport(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableFinanceReport(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTableFinanceReport.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] && !leftTableItem.deleted ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allFinanceReport[tableIndex])[this.selectedLeftTableTab].filter(search => search.identity.includes(value) ||\r\n                search.full_name.toLowerCase().includes(value.toLowerCase()) || search.income_sum.toString().includes(value) ||\r\n                search.expense_sum.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setLeftTableFinanceReport(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allFinanceReport[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.income_sum.toString().includes(value) ||\r\n                search.expense_sum.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setRightTableFinanceReport(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTableFinanceReport((this.allFinanceReport[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableFinanceReport((this.allFinanceReport[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setFinanceReportFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.financeReportFiltersToSend = { expense_filters: [], income_filters: [], student_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.financeReportFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.financeReportFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.financeReportFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.financeReportFiltersToSend[filters.name] = [...this.financeReportFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.financeReportFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setFinanceReportFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.financeReportFiltersDateSelectedOption;\r\n        let existIndex = this.financeReportFiltersDateToSend[selectedOption[2]]?.findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.financeReportFiltersDateToSend[selectedOption[2]].length;\r\n            this.financeReportFiltersDateToSend[selectedOption[2]] = [...this.financeReportFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' || selectedOption.length === 0 ?\r\n            this.financeReportFiltersDateToSend = {\r\n                expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n                income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n            } :\r\n            (this.financeReportFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setFinanceReportFiltersDateSelectedOption = (option) => {\r\n        this.financeReportFiltersDateSelectedOption = option;\r\n        const exist = this.financeReportFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setFinanceReportFilters = (data) => {\r\n        this.financeReportFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data.filter(filter => filter.name === 'date_filters')[0].filters[0];\r\n        this.financeReportFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableFinanceReport = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableFinanceReport = data.concat(moreRows);\r\n        this.setRightTableFinanceReportDownloadCSV(data);\r\n    }\r\n\r\n    setLeftTableFinanceReport = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableFinanceReport = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n        this.setLeftTableFinanceReportDownloadCSV(this.leftTableFinanceReport);\r\n    }\r\n\r\n    setAllFinanceReport = (data) => {\r\n        this.allFinanceReport = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTableFinanceReport(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableFinanceReport(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredFinanceReport = (body) => {\r\n        this.setAllFinanceReport(null);\r\n        Fetch.Post('finance_report', body)\r\n            .then(res => this.setAllFinanceReport(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchFinanceReportFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('finance_report/filters')\r\n            .then(res => this.setFinanceReportFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTableFinanceReport.length).fill({ checked: false });\r\n    }\r\n\r\n    fetchExpense = () => {\r\n        const body = this.leftTableCheckbox.filter(data => data.checked)\r\n            .map(data => ({\r\n                attribution: data.item.attribution, attribution_id: data.item.attribution_id, fk_branch_id: data.item.fk_branch_id,\r\n                fk_institution_id: data.item.fk_institution_id, fk_trend_coordinator_id: data.item.fk_trend_coordinator_id,\r\n                payment_method: data.item.payment_method, amount: data.item.expense_sum,\r\n                fk_bank_account_id: data.item.fk_bank_account_id, payment_status: ''\r\n            }));\r\n\r\n        body.length > 0 && Fetch.Post('finance_report?pay=true', body)\r\n            .then((res) => { this.changeExpenseMessage(res.message.value); this.resetCheckbox(); })\r\n            .catch(err => console.error(err))\r\n    }\r\n    fetchGoogleSheets = async (data) => {\r\n        console.log(data);\r\n        return await Fetch.Post('finance_report/export', data, false)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new PaymentReportStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PaymentsBasketStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allPaymentsBasket = null;\r\n    leftTablePaymentsBasket = Array(10).fill('');\r\n    rightTablePaymentsBasket = Array(10).fill('');\r\n    paymentsBasketFilters = [];\r\n    paymentsBasketFiltersToSend = { expense_filters: [], student_filters: [] }; //income_filters: [],\r\n    // paymentsBasketFiltersDateToSend = {\r\n    //     expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     student_filters: []\r\n    // };\r\n    paymentsBasketFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'student';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    // dateFrom = '';\r\n    // dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    generalLists = [];\r\n    bankAccount = [];\r\n    trendCoordinator = [];\r\n    mergedCheckbox = []\r\n\r\n    changeMergedCheckbox = (checked, id, clear) => {\r\n        if (clear)\r\n            this.mergedCheckbox = [];\r\n        else if (checked)\r\n            this.mergedCheckbox = [...this.mergedCheckbox, id];\r\n        else {\r\n            const index = this.mergedCheckbox.indexOf(id);\r\n            this.mergedCheckbox = [...this.mergedCheckbox.slice(0, index), ...this.mergedCheckbox.slice(index + 1, this.mergedCheckbox.length + 1)];\r\n        }\r\n    }\r\n\r\n    setBankAccount = (value) => {\r\n        this.bankAccount = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    print = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allPaymentsBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n        // Object.values(this.allPaymentsBasket[0]).map(tab => tab.map(item => item.is_printable && (body = [...body, item.expense_id])));\r\n\r\n        return await this.fetchPrint(onlyShown, body);\r\n    }\r\n\r\n    delete = (item, tableIndex) => {\r\n        if (tableIndex === 0) {\r\n            this.fetchDeleteExpense(item.expense_id, {})\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.deleteSelectedItem(item, tableIndex);\r\n                    }\r\n                })\r\n        }\r\n        if (tableIndex === 1) {\r\n            let body = [];\r\n            this.leftTablePaymentsBasket.map((leftTableItem) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (body = [...body, leftTableItem.expense_id]))\r\n            this.fetchDeleteExpense(null, body)\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.leftTablePaymentsBasket.map((leftTableItem) =>\r\n                            item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                            this.deleteSelectedItem(leftTableItem, tableIndex))\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    deleteSelectedItem = (item, tableIndex) => {\r\n        const data = this.leftTablePaymentsBasket.filter(data => data !== item);\r\n        this.setLeftTablePaymentsBasket(data, true);\r\n        this.allPaymentsBasket[tableIndex][this.selectedLeftTableTab] = this.allPaymentsBasket[tableIndex][this.selectedLeftTableTab]?.filter(leftItem => leftItem !== item);\r\n    }\r\n\r\n    checkExpence = (data, item, tableIndex, index, position, chengePosition) => {\r\n        let leftTable = this.leftTablePaymentsBasket;\r\n        let body = {};\r\n        body[position] = data;\r\n        chengePosition && (position = chengePosition);\r\n        if (tableIndex === 0)\r\n            (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(item))) &&\r\n                this.fetchEditExpense(item.expense_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTablePaymentsBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n        else if (tableIndex === 1)\r\n            this.leftTablePaymentsBasket.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(leftTableItem))) &&\r\n                this.fetchEditExpense(leftTableItem.expense_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTablePaymentsBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n            )\r\n    }\r\n\r\n    checkIsPrintAllow = (item) => {\r\n        this.leftTablePaymentsBasket = this.leftTablePaymentsBasket.map(leftBasket => {\r\n            leftBasket === item && (delete leftBasket['show_error']);\r\n            return leftBasket;\r\n        })\r\n        if (((!item.expense_sum || item.expense_sum === 0) ||\r\n            !item.payment_method || (!item.for_month || item.for_month === 0) ||\r\n            (item.payment_method === '' && (!item.transmission_date || item.transmission_date === 0)))) {\r\n            this.leftTablePaymentsBasket = this.leftTablePaymentsBasket.map(leftBasket => {\r\n                leftBasket === item && (leftBasket['show_error'] = true);\r\n                return leftBasket;\r\n            })\r\n            return false\r\n        }\r\n        return true;\r\n    }\r\n\r\n    changeLeftTablePaymentsBasket = (leftTable, index, position, data) => {\r\n        leftTable[index][position] = data;\r\n        this.leftTablePaymentsBasket = [...leftTable];\r\n    }\r\n\r\n    changeCheckDate = (date, item, tableIndex, index) => {\r\n        this.checkExpence(date, item, tableIndex, index, 'transmission_date');\r\n    }\r\n\r\n    changeForMonth = (date, item, tableIndex, index) => {\r\n        this.checkExpence(date, item, tableIndex, index, 'for_month');\r\n    }\r\n\r\n    changeCheckSum = (sum, item, tableIndex, index) => {\r\n        this.checkExpence(sum, item, tableIndex, index, 'amount', 'expense_sum');\r\n    }\r\n\r\n    changePaymentMethod = (paymentMethod, item, tableIndex, index) => {\r\n        this.checkExpence(paymentMethod, item, tableIndex, index, 'payment_method');\r\n    }\r\n\r\n    changeCheckbox = (checked, item, tableIndex, index) => {\r\n        this.checkExpence(checked, item, tableIndex, index, 'is_printable');\r\n    }\r\n\r\n    changeBankAccountId = (id, item, tableIndex, index) => {\r\n        this.checkExpence(id, item, tableIndex, index, 'fk_bank_account_id');\r\n    }\r\n\r\n    changeTrendCoordinatorId = (id, item, tableIndex, index) => {\r\n        this.checkExpence(id, item, tableIndex, index, 'fk_trend_coordinator_id');\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        this.rightTablePaymentsBasket = this.rightTablePaymentsBasket.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTablePaymentsBasket.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTablePaymentsBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                    leftTableItem.is_printable).length;\r\n                this.rightTablePaymentsBasket[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n                this.rightTablePaymentsBasket[index][`print_${this.selectedLeftTableTab}_sum`] = countLeftTableWithSameFkIdToPrint;\r\n                this.rightTablePaymentsBasket[index][`${this.selectedLeftTableTab}_sum`] = this.leftTablePaymentsBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allPaymentsBasket[0][this.selectedLeftTableTab] : this.leftTablePaymentsBasket;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTablePaymentsBasket(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTablePaymentsBasket(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    // setDateFromTo = (from, to) => {\r\n    //     from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n    //     to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    // }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allPaymentsBasket[tableIndex])[this.selectedLeftTableTab].filter(search =>\r\n                search.identity.includes(value) || search.full_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                search.for_month.includes(value) || search.transmission_date.includes(value) || search.expense_sum.toString().includes(value) ||\r\n                search.payment_method.toLowerCase().includes(value.toLowerCase()) || search.balance_total.toString().includes(value));\r\n            this.setLeftTablePaymentsBasket(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allPaymentsBasket[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.expense_sum_total.includes(value) ||\r\n                search.expense_sum.includes(value) || search.balance_total.toString().includes(value));\r\n            this.setRightTablePaymentsBasket(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTablePaymentsBasket((this.allPaymentsBasket[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTablePaymentsBasket((this.allPaymentsBasket[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setPaymentsBasketFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.paymentsBasketFiltersToSend = { expense_filters: [], student_filters: [] }); //, income_filters: []\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                (this.checkedFilters[titleIndex][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.paymentsBasketFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.paymentsBasketFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.paymentsBasketFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.paymentsBasketFiltersToSend[filters.name] = [...this.paymentsBasketFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.paymentsBasketFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    // setPaymentsBasketFiltersDateToSend = (date, dateIndex, fill) => {\r\n    //     const selectedOption = this.pPaymentsBasketFiltersDateSelectedOption;\r\n    //     let existIndex = this.paymentsBasketFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n    //     if (existIndex === -1) {\r\n    //         existIndex = this.paymentsBasketFiltersDateToSend[selectedOption[2]].length;\r\n    //         this.paymentsBasketFiltersDateToSend[selectedOption[2]] = [...this.paymentsBasketFiltersDateToSend[selectedOption[2]],\r\n    //         { name: selectedOption[1], checked: ['', ''] }]\r\n    //     }\r\n\r\n    //     fill === 'clear' ?\r\n    //         this.paymentsBasketFiltersDateToSend = {\r\n    //             expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //             income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n    //         } :\r\n    //         (this.paymentsBasketFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    // }\r\n\r\n    // setPaymentsBasketFiltersDateSelectedOption = (option) => {\r\n    //     this.paymentsBasketFiltersDateSelectedOption = option;\r\n    //     const exist = this.paymentsBasketFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n    //     exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    // }\r\n\r\n    setPaymentsBasketFilters = (data) => {\r\n        this.paymentsBasketFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        // const date = data.filter(filter => filter.name === 'date_filters')[0]?.filters[0];\r\n        // this.paymentsBasketFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTablePaymentsBasket = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTablePaymentsBasket = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTablePaymentsBasket = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = data.map(item => ({ checked: item.is_printable, fk_id: -1 }));\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTablePaymentsBasket = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllPaymentsBasket = (data) => {\r\n        data && data.length > 1 && Object.keys(data[1]).map(rightTableTabName =>\r\n            data[1][rightTableTabName].map((rightTableItem, index) =>\r\n                Object.keys(data[0]).map(leftTableTabName =>\r\n                (data[1][rightTableTabName][index][`${leftTableTabName}_sum`] = data[0][leftTableTabName].filter(leftTableItem =>\r\n                    rightTableItem[`fk_${rightTableTabName}_id`] === leftTableItem[`fk_${rightTableTabName}_id`]\r\n                ).length))\r\n            )\r\n        )\r\n\r\n        this.allPaymentsBasket = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTablePaymentsBasket(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTablePaymentsBasket(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredPaymentsBasket = (body) => {\r\n        this.setAllPaymentsBasket(null);\r\n        Fetch.Post('payment_basket', body)\r\n            .then(res => this.setAllPaymentsBasket(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPaymentsBasketFilters = async () => {\r\n        return await Fetch.Get('finance_report/filters?payment_basket=true')\r\n            .then(res => this.setPaymentsBasketFilters(res))\r\n            .then(() => {\r\n                this.fetchGeneralLists();\r\n                this.fetchBankAccount();\r\n                this.fetchTrendCoordinator();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchEditExpense = async (id, body) => {\r\n        return await Fetch.Put(`expense/${id}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteExpense = async (id, body) => {\r\n        return await Fetch.Delete(`expense${id ? `/${id}` : ''}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPrint = async (onlyShown,checkConsolidation) => {\r\n        let body = [];\r\n        onlyShown && this.allPaymentsBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n        console.log(checkConsolidation);\r\n\r\n        let header = checkConsolidation?`expense/print_payment?grouping=${checkConsolidation}`:'expense/print_payment'\r\n\r\n        if (!(onlyShown && body.length === 0)) {\r\n            return await Fetch.Post(header, body, true)\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchMerge = () => {\r\n        Fetch.Post('expense/merge_payment', this.mergedCheckbox)\r\n            .then(res => {\r\n                this.changeMergedCheckbox(null, null, true);\r\n                this.fetchFilteredPaymentsBasket(this.paymentsBasketFiltersToSend);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSplit = (merged_number) => {\r\n        let expense_id = [];\r\n        this.leftTablePaymentsBasket.forEach(item => {\r\n            if (item?.merged_printing_number === merged_number)\r\n                expense_id = [...expense_id, item.expense_id];\r\n        })\r\n\r\n        Fetch.Post('expense/split_payment', expense_id)\r\n            .then(res => {\r\n                this.fetchFilteredPaymentsBasket(this.paymentsBasketFiltersToSend);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new PaymentsBasketStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass TransactionsReportStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allTransactionsReport = null;\r\n    leftTableTransactionsReport = Array(10).fill('');\r\n    rightTableTransactionsReport = Array(10).fill('');\r\n    leftTableTransactionsReportDownloadCSV = [];\r\n    rightTableTransactionsReportDownloadCSV = [];\r\n    transactionsReportFilters = [];\r\n    transactionsReportFiltersToSend = { expense_filters: [], income_filters: [], attribution_filters: [] };\r\n    transactionsReportFiltersDateToSend = {\r\n        expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        attribution_filters: []\r\n    };\r\n    transactionsReportFiltersDateSelectedOption = [];\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n    checkIncome = true;\r\n    checkExpense = true;\r\n    showPopup = false;\r\n\r\n    setLeftTableTransactionsReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.leftTableTransactionsReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                (itemKey.includes('date') || itemKey.includes('for_month')) && (item[itemKey] = item[itemKey]?.slice(0, 10).split('-').join('/') || null);\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setRightTableTransactionsReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.rightTableTransactionsReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setShowPopup = (show) => {\r\n        this.showPopup = show;\r\n    }\r\n\r\n    changeCheckBox = (input, value) => {\r\n        if (input === 'income') this.checkIncome = value;\r\n        else if (input === 'expense') this.checkExpense = value;\r\n        this.leftTableSearch = '';\r\n        this.setLeftTableTransactionsReport(this.allTransactionsReport[0], true);\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTableTransactionsReport = this.rightTableTransactionsReport.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableTransactionsReport.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTableTransactionsReport[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTableTransactionsReport = newRightTableTransactionsReport;\r\n        this.setRightTableTransactionsReportDownloadCSV(newRightTableTransactionsReport);\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allTransactionsReport[0] : this.leftTableTransactionsReport;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`transaction_${this.selectedRightTableTab}_id`] ? rightItem[`transaction_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableTransactionsReport(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableTransactionsReport(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTableTransactionsReport.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allTransactionsReport[tableIndex]).filter(search => search.identity?.includes(value) ||\r\n                search.heb_attribution?.includes(value) || search.full_name?.toLowerCase()?.includes(value.toLowerCase()) ||\r\n                search.payment_status?.includes(value) || search.amount?.toString()?.includes(value) || search.payment_method?.includes(value) ||\r\n                (search.for_month?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.printing_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.transaction_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value));\r\n            this.setLeftTableTransactionsReport(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allTransactionsReport[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name?.toLowerCase()?.includes(value.toLowerCase()) || search.balance?.toString()?.includes(value) ||\r\n                search.balance_total?.toString()?.includes(value));\r\n            this.setRightTableTransactionsReport(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableTransactionsReport((this.allTransactionsReport[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setTransactionsReportFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.transactionsReportFiltersToSend = { expense_filters: [], income_filters: [], attribution_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.transactionsReportFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.transactionsReportFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.transactionsReportFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.transactionsReportFiltersToSend[filters.name] = [...this.transactionsReportFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.transactionsReportFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setTransactionsReportFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.transactionsReportFiltersDateSelectedOption;\r\n        let existIndex = this.transactionsReportFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.transactionsReportFiltersDateToSend[selectedOption[2]].length;\r\n            this.transactionsReportFiltersDateToSend[selectedOption[2]] = [...this.transactionsReportFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' ?\r\n            this.transactionsReportFiltersDateToSend = {\r\n                expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n                income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], attribution_filters: []\r\n            } :\r\n            (this.transactionsReportFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setTransactionsReportFiltersDateSelectedOption = (option) => {\r\n        this.transactionsReportFiltersDateSelectedOption = option;\r\n        const exist = this.transactionsReportFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setTransactionsReportFilters = (data) => {\r\n        this.transactionsReportFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data.filter(filter => filter.name === 'date_filters')[0].filters[0];\r\n        this.transactionsReportFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableTransactionsReport = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableTransactionsReport = data.concat(moreRows);\r\n        this.setRightTableTransactionsReportDownloadCSV(data);\r\n    }\r\n\r\n    setLeftTableTransactionsReport = (data, dontCheckRightTable) => {\r\n        data = data.filter(row => (this.checkIncome && row.amount >= 0) || (this.checkExpense && row.amount < 0))\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableTransactionsReport = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n        this.setLeftTableTransactionsReportDownloadCSV(data);\r\n    }\r\n\r\n    setAllTransactionsReport = (data) => {\r\n        data && data.length > 0 && (data[0] = Object.keys(data[0]).map(key => data[0][key]).flat());\r\n        this.allTransactionsReport = data;\r\n        data && data.length > 0 && this.setLeftTableTransactionsReport(data[0]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableTransactionsReport(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredTransactionsReport = (body) => {\r\n        this.setAllTransactionsReport(null);\r\n        Fetch.Post('transactions_report', body)\r\n            .then(res => this.setAllTransactionsReport(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTransactionsReportFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('transactions_report/filters')\r\n            .then(res => this.setTransactionsReportFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTableTransactionsReport.length).fill({ checked: false });\r\n    }\r\n\r\n    fetchRestoreExpense = () => {\r\n        const body = { expense_ids: this.leftTableCheckbox.filter(data => data.checked).map(data => data.item.id) };\r\n\r\n        return body.expense_ids.length > 0 ? Fetch.Put('transactions_report', body)\r\n            .then((res) => {\r\n                const withError = res.filter(data => data.error);\r\n                const withoutError = res.filter(data => !data.error);\r\n                const messageWithError = withError.length > 0 ? `(${withError.length}) ${withError[0].message}` : '';\r\n                const messageWithoutError = withoutError.length > 0 ? `(${withoutError.length}) ${withoutError[0].message}` : '';\r\n                this.changeExpenseMessage(`${messageWithError} ${messageWithoutError}`);\r\n                this.resetCheckbox();\r\n            })\r\n            .catch(err => console.error(err)) :\r\n            this.changeExpenseMessage('No data');\r\n    }\r\n\r\n    fetchRawTable = async () => {\r\n        const body = {\r\n            tables: [\"expense\", \"income\"],\r\n            start_date: this.dateFrom.split('-').reverse().join('/'),\r\n            end_date: this.dateTo.split('-').reverse().join('/'),\r\n            dates_attributes: [\"created_date\", \"created_date\"]\r\n        }\r\n\r\n        return await Fetch.Post('raw_table', body, true)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGoogleSheets = async (data) => {\r\n        return await Fetch.Post('transactions_report/export', data, true)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new TransactionsReportStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass StudentStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    newStudentDetails = {};\r\n    studentDetails = null;\r\n    studentBalanceDetails = null;\r\n    branchDetails = null;\r\n    coordinatorDetails = null;\r\n    tableData = null;\r\n    editStudent = false;\r\n    institutionBranchCoordinator = null;\r\n    trendCoordinator = null\r\n    generalLists = null;\r\n    allInstitution = null;\r\n    postBank = false;\r\n    selectedTableTab = 'payments';\r\n\r\n    setAllInstitution = (value) => {\r\n        this.allInstitution = value;\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    setInstitutionBranchCoordinator = (value) => {\r\n        this.institutionBranchCoordinator = value;\r\n    }\r\n\r\n    changeSelectedData = (target, param, value, changeAll, index) => {\r\n        const newTarget = target === 'student' ? this.studentDetails : target === 'branch' ? this.branchDetails :\r\n            target === 'coordinator' ? this.coordinatorDetails : null;\r\n\r\n        if (newTarget) {\r\n            this.setEditStudent(true);\r\n            if (changeAll) {\r\n                if (target === 'student') {\r\n                    this.studentDetails = changeAll;\r\n                    this.newStudentDetails = changeAll;\r\n                }\r\n                target === 'branch' && (this.branchDetails = changeAll);\r\n                target === 'coordinator' && (this.coordinatorDetails = changeAll);\r\n            }\r\n            else {\r\n                if (param[0] === 'bank' && !this.newStudentDetails.bank) {\r\n                    this.newStudentDetails.bank = new Array(2).fill({ bank_number: '', branch_number: '', account_number: '' });\r\n                    this.postBank = true;\r\n                }\r\n                param.length > 1 ? (index ? newTarget[param[0]][index - 1][param[1]] = value : newTarget[param[0]][param[1]] = value) :\r\n                    (index ? newTarget[param[0]][index - 1] = value : newTarget[param[0]] = value);\r\n                target === 'student' && (param.length > 1 ?\r\n                    (index ? this.newStudentDetails[param[0]][index - 1][param[1]] = value : this.newStudentDetails[param[0]][param[1]] = value) :\r\n                    (index ? this.newStudentDetails[param[0]][index - 1] = value : this.newStudentDetails[param[0]] = value));\r\n            }\r\n        }\r\n\r\n        if (this.allInstitution && target === 'branch') {\r\n            const institution = this.allInstitution.find(institution => institution.identity === this.branchDetails.institution.identity &&\r\n                institution.name === this.branchDetails.institution.name);\r\n            const branch = institution && institution.branches.find(branch => branch.symbol === parseInt(this.branchDetails.symbol));\r\n            if (branch) {\r\n                this.studentDetails.fk_branch_id = branch.id;\r\n                this.newStudentDetails.fk_branch_id = branch.id;\r\n            }\r\n        }\r\n    }\r\n\r\n    setEditStudent = (allow) => {\r\n        this.editStudent = allow;\r\n    }\r\n\r\n    resetDetails = () => {\r\n        this.studentDetails = null;\r\n        this.studentBalanceDetails = null;\r\n        this.branchDetails = null;\r\n        this.coordinatorDetails = null;\r\n        this.tableData = null;\r\n        this.editStudent = false;\r\n    }\r\n\r\n    setSelectedTableTab = (tab) => {\r\n        this.selectedTableTab = tab;\r\n        let data = []\r\n        switch (tab) {\r\n            case 'payments':\r\n                data = this.studentBalanceDetails?.payments || [];\r\n                break;\r\n            case 'course_enrollments':\r\n                data = this.studentBalanceDetails?.course_enrollments || [];\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setTableData(data);\r\n    }\r\n\r\n    setTableData = (data) => {\r\n        this.tableData = data;\r\n    }\r\n\r\n    setCoordinatorDetails = (details) => {\r\n        this.coordinatorDetails = details;\r\n    }\r\n\r\n    setBranchDetailsDetails = (details) => {\r\n        this.branchDetails = details;\r\n    }\r\n\r\n    setStudentBalanceDetails = (details) => {\r\n        const payments = details?.payments || [];\r\n        const arrayPayments = (Object.keys(payments).map(key => ({ date: key, ...payments[key] }))).map(pay => {\r\n            pay['course_type'] = this.studentDetails?.course_type;\r\n            pay['coordinator_name'] = this.coordinatorDetails?.name;\r\n            pay['institution_name'] = this.branchDetails?.institution?.name;\r\n\r\n            return pay;\r\n        });\r\n        details['payments'] = arrayPayments;\r\n        this.studentBalanceDetails = details;\r\n        this.setTableData(details.payments);\r\n    }\r\n\r\n    setStudentDetails = (details) => {\r\n        this.studentDetails = details;\r\n    }\r\n\r\n    fetchStudentById = (id) => {\r\n        this.editStudent = false;\r\n        this.tableData = null;\r\n        Fetch.Get(`student/${id}`)\r\n            .then(res => {\r\n                this.setStudentDetails(res);\r\n                this.fetchStudentBalanceById(id);\r\n                res.fk_branch_id && this.fetchBranchById(res.fk_branch_id);\r\n                res.fk_trend_coordinator_id && this.fetchCoordinatorById(res.fk_trend_coordinator_id);\r\n                this.fetchInstitutionBranchCoordinator();\r\n                this.fetchTrendCoordinator();\r\n                this.fetchGeneralLists();\r\n                this.fetchInstitution();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteStudent = () => {\r\n        this.studentDetails && Fetch.Delete(`student/${this.studentDetails.id}`)\r\n            .then(res => {\r\n                if (!res.error) {\r\n                    sessionStorage.setItem('route', '/finance-report');\r\n                    window.history.replaceState(null, '', '/finance-report');\r\n                }\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchStudentBalanceById = (id) => {\r\n        Fetch.Get(`finance_card/student/${id}`)\r\n            .then(res => this.setStudentBalanceDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchBranchById = (id) => {\r\n        Fetch.Get(`branch/${id}`)\r\n            .then(res => this.setBranchDetailsDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchCoordinatorById = (id) => {\r\n        Fetch.Get(`trend_coordinator/${id}`)\r\n            .then(res => this.setCoordinatorDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitution = () => {\r\n        Fetch.Get('institution')\r\n            .then(res => this.setAllInstitution(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBranchCoordinator = () => {\r\n        Fetch.Get('institution_branch_coordinator')\r\n            .then(res => this.setInstitutionBranchCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSaveStudentDetails = () => {\r\n        if (this.studentDetails.bank) {\r\n            this.studentDetails.bank[0] && this.fetchSaveBankAccount(this.studentDetails.bank[0]);\r\n            this.studentDetails.bank[1] && this.fetchSaveBankAccount(this.studentDetails.bank[1]);\r\n        }\r\n\r\n        const body = { ...this.studentDetails };\r\n        delete body['id'];\r\n        delete body['bank']\r\n\r\n        Fetch.Put(`student/${this.studentDetails.id}`, body)\r\n            .then(() => this.fetchStudentById(this.studentDetails.id))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSaveBankAccount = async (data) => {\r\n        const id = data.id;\r\n        const body = { ...data, attribution_id: this.studentDetails.id, attribution_type: 'student' };\r\n        delete body['id'];\r\n\r\n        this.postBank ? await Fetch.Post(`general_bank_account`, body)\r\n            .catch(err => console.error(err)) :\r\n            await Fetch.Put(`general_bank_account/${id}`, body)\r\n                .catch(err => console.error(err))\r\n\r\n        this.postBank = false;\r\n    }\r\n}\r\n\r\nexport default new StudentStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass UploadCSVFile {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    loader = false;\r\n    institutionBankAccount = null;\r\n    branch = null;\r\n    trendCoordinator = null;\r\n    courseEnrollmentTrendCoordinatorAttribution = null;\r\n    students = null;\r\n    courseEnrollment = null;\r\n    studentsIncomes = null;\r\n    studentsIncomesSourceID = '';\r\n    studentsIncomesMethod = '';\r\n    studentsIncomesBankAccountNumber = '';\r\n    studentsIncomesUpdate = false;\r\n    institutionBankAccountUpdate = false;\r\n    branchUpdate = false;\r\n    trendCoordinatorUpdate = false;\r\n    courseEnrollmentTrendCoordinatorAttributionUpdate = false;\r\n    studentsUpdate = false;\r\n    courseEnrollmentUpdate = false;\r\n    supplierUpdate = false;\r\n    donatorUpdate = false;\r\n    generalBanksUpdate = false;\r\n    periodicReceptionUpdate = false;\r\n    clearingPlatformUpdate = false;\r\n    currentAccountUpdate = false;\r\n    studentsPaymentFailureUpdate = false;\r\n    clearingUpdate = false;\r\n    clearingValidationUpdate = false;\r\n    msvUpdate = false;\r\n    checksUpdate = false;\r\n    invoiceUpdate = false;\r\n    studentInsuranceUpdate = false;\r\n    expenseDraftFixedUpdate = false;\r\n    studentsPaymentStatus = '';\r\n    studentsPaymentFailure = null;\r\n    currentAccount = null;\r\n    currentAccountBankAccountNumber  = null;\r\n    clearingPlatform = null;\r\n    clearingPlatformTrendCoordinatorID = '';\r\n    clearing = null;\r\n    clearingPlatformID = '';\r\n    clearingValidation = null;\r\n    msv = null;\r\n    msvAttribution = '';\r\n    msvBankAccountNumber = '';\r\n    msvForDate = new Date().toISOString().slice(0, 10);\r\n    msvTrendCoordinator = '';\r\n    msvSendingDate = new Date().toISOString().slice(0, 10);\r\n    checks = null;\r\n    checksAttribution = '';\r\n    checksBankAccountNumber = '';\r\n    generalBanks = null;\r\n    generalBanksAttribution = '';\r\n    supplier = null;\r\n    invoice = null;\r\n    invoiceInstitutionBranchCoordinator = '';\r\n    invoiceTrendCoordinator = '';\r\n    invoiceSupplier = '';\r\n    invoiceDate = new Date().toISOString().slice(0, 10);\r\n    invoiceSum = '0';\r\n    invoiceNumber = '';\r\n    invoiceLastDate = '';\r\n    studentInsurance = null;\r\n    studentInsuranceBankAccountNumber = '';\r\n    expenseDraft = null;\r\n    expenseDraftAttribution = '';\r\n    expenseDraftForMonth = new Date().toISOString().slice(0, 10);\r\n    expenseDraftTrendCoordinator = '';\r\n    expenseDraftBankAccountNumber = '';\r\n    expenseDraftPaymentMethod = '';\r\n    expenseDraftScholarshipType = '';\r\n    expenseDraftFixed = false;\r\n    donator = null;\r\n    periodicReception = null;\r\n    periodicReceptionBankAccountNumber = '';\r\n    incomeSource = [];\r\n    paymentMethods = [];\r\n    attributions = [];\r\n    paymentStatus = [];\r\n    scholarshipTypes = [];\r\n    bankAccounts = [];\r\n    institutionBranchCoordinators = [];\r\n    trendCoordinators = [];\r\n    suppliers = [];\r\n    platforms = [];\r\n    errorInstitutionBankAccount = '';\r\n    errorBranch = '';\r\n    errorTrendCoordinator = '';\r\n    errorCourseEnrollmentTrendCoordinatorAttribution = '';\r\n    errorStudents = '';\r\n    errorCourseEnrollment = '';\r\n    errorStudentsIncomes = '';\r\n    errorStudentsPaymentFailure = '';\r\n    errorCurrentAccount = '';\r\n    errorClearingPlatform = '';\r\n    errorClearing = '';\r\n    errorClearingValidation = '';\r\n    errorMSV = '';\r\n    errorChecks = '';\r\n    errorGeneralBanks = '';\r\n    errorSupplier = ''\r\n    errorInvoice = ''\r\n    errorStudentInsurance = '';\r\n    errorExpenseDraft = '';\r\n    errorDonator = '';\r\n    errorPeriodicReception = '';\r\n    googleSheetsInstitutionBankAccount=false;\r\n    googleSheetsBranch=false;\r\n    googleSheetsTrendCoordinator=false;\r\n    googleSheetsCourseEnrollmentTrendCoordinatorAttribution=false;\r\n    googleSheetsStudents=false;\r\n    googleSheetsCourseEnrollment=false;\r\n    googleSheetsSupplier=false;\r\n    googleSheetsDonator=false;\r\n    googleSheetsGeneralBanks=false;\r\n    googleSheetsPeriodicReception=false;\r\n    googleSheetsClearingPlatform=false;\r\n    googleSheetsCurrentAccount=false;\r\n    googleSheetsStudentsIncomes=false;\r\n    googleSheetsStudentsPaymentFailure=false;\r\n    googleSheetsClearing=false;\r\n    googleSheetsClearingValidation=false;\r\n    googleSheetsMSV=false;\r\n    googleSheetsChecks=false;\r\n    googleSheetsInvoice=false;\r\n    googleSheetsStudentInsurance=false;\r\n    googleSheetsExpenseDraft=false;\r\n\r\n    setErrorInstitutionBankAccount = (value) => {\r\n        this.errorInstitutionBankAccount = value;\r\n    }\r\n\r\n    setErrorBranch = (value) => {\r\n        this.errorBranch = value;\r\n    }\r\n\r\n    setErrorTrendCoordinator = (value) => {\r\n        this.errorTrendCoordinator = value;\r\n    }\r\n\r\n    setErrorCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.errorCourseEnrollmentTrendCoordinatorAttribution = value;\r\n    }\r\n\r\n    setErrorStudents = (value) => {\r\n        this.errorStudents = value;\r\n    }\r\n\r\n    setErrorCourseEnrollment = (value) => {\r\n        this.errorCourseEnrollment = value;\r\n    }\r\n\r\n    setErrorStudentsIncomes = (value) => {\r\n        this.errorStudentsIncomes = value;\r\n    }\r\n\r\n    setErrorStudentsPaymentFailure = (value) => {\r\n        this.errorStudentsPaymentFailure = value;\r\n    }\r\n\r\n    setErrorCurrentAccount = (value) => {\r\n        this.errorCurrentAccount = value;\r\n    }\r\n\r\n    setErrorClearingPlatform = (value) => {\r\n        this.errorclearingPlatform = value;\r\n    }\r\n\r\n    setErrorClearing = (value) => {\r\n        this.errorClearing = value;\r\n    }\r\n\r\n    setErrorClearingValidation = (value) => {\r\n        this.errorClearingValidation = value;\r\n    }\r\n\r\n    setErrorMSV = (value) => {\r\n        this.errorMSV = value;\r\n    }\r\n\r\n    setErrorChecks = (value) => {\r\n        this.errorChecks = value;\r\n    }\r\n\r\n    setErrorGeneralBanks = (value) => {\r\n        this.errorGeneralBanks = value;\r\n    }\r\n\r\n    setErrorSupplier = (value) => {\r\n        this.errorSupplier = value;\r\n    }\r\n\r\n    setErrorInvoice = (value) => {\r\n        this.errorInvoice = value;\r\n    }\r\n\r\n    setErrorStudentInsurance = (value) => {\r\n        this.errorStudentInsurance = value;\r\n    }\r\n\r\n    setErrorExpenseDraft = (value) => {\r\n        this.errorExpenseDraft = value;\r\n    }\r\n\r\n    setErrorDonator = (value) => {\r\n        this.errorDonator = value;\r\n    }\r\n\r\n    setErrorPeriodicReception = (value) => {\r\n        this.errorPeriodicReception = value;\r\n    }\r\n\r\n    setPeriodicReception = (file) => {\r\n        this.periodicReception = file;\r\n        this.setErrorPeriodicReception('');\r\n    }\r\n\r\n    setGoogleSheetsPeriodicReception = (value) => {\r\n        this.googleSheetsDonator = value;\r\n    }\r\n    setPeriodicReceptionBankAccountNumber = (value) => {\r\n        this.periodicReceptionBankAccountNumber = value;\r\n    }\r\n\r\n    setDonator = (file) => {\r\n        this.donator = file;\r\n        this.setErrorDonator('');\r\n    }\r\n    setGoogleSheetsDonator = (value) => {\r\n        this.googleSheetsDonator = value;\r\n    }\r\n\r\n    setExpenseDraft = (file) => {\r\n        this.expenseDraft = file;\r\n        this.setErrorExpenseDraft('');\r\n    }\r\n\r\n    setGoogleSheetsExpenseDraft = (value) => {\r\n        this.googleSheetsExpenseDraft = value;\r\n    }\r\n    setExpenseDraftAttribution = (value) => {\r\n        this.expenseDraftAttribution = value;\r\n    }\r\n\r\n    setExpenseDraftForMonth = (value) => {\r\n        this.expenseDraftForMonth = value;\r\n    }\r\n\r\n    setExpenseDraftTrendCoordinator = (value) => {\r\n        this.expenseDraftTrendCoordinator = value;\r\n    }\r\n\r\n    setExpenseDraftBankAccountNumber = (value) => {\r\n        this.expenseDraftBankAccountNumber = value;\r\n    }\r\n\r\n    setExpenseDraftPaymentMethod = (value) => {\r\n        this.expenseDraftPaymentMethod = value;\r\n    }\r\n\r\n    setExpenseDraftScholarshipType = (value) => {\r\n        this.expenseDraftScholarshipType = value;\r\n    }\r\n\r\n    setExpenseDraftFixed = (checked) => {\r\n        this.expenseDraftFixed = checked;\r\n    }\r\n\r\n    setStudentInsurance = (file) => {\r\n        this.studentInsurance = file;\r\n        this.setErrorStudentInsurance('');\r\n    }\r\n\r\n    setGoogleSheetsStudentInsurance = (value) => {\r\n        this.googleSheetsStudentInsurance = value;\r\n    }\r\n    setStudentInsuranceBankAccountNumber = (value) => {\r\n        this.studentInsuranceBankAccountNumber = value;\r\n    }\r\n\r\n    setInvoice = (file) => {\r\n        this.invoice = file;\r\n        this.setErrorSupplier('');\r\n    }\r\n\r\n    setGoogleSheetsInvoice = (value) => {\r\n        this.googleSheetsInvoice = value;\r\n    }\r\n    setInvoiceInstitutionBranchCoordinator = (value) => {\r\n        this.invoiceInstitutionBranchCoordinator = value;\r\n    }\r\n\r\n    setInvoiceTrendCoordinator = (value) => {\r\n        this.invoiceTrendCoordinator = value;\r\n    }\r\n\r\n    setInvoiceSupplier = (value) => {\r\n        this.invoiceSupplier = value;\r\n    }\r\n\r\n    setInvoiceDate = (value) => {\r\n        this.invoiceDate = value;\r\n    }\r\n\r\n    setInvoiceSum = (value) => {\r\n        this.invoiceSum = value || '0';\r\n    }\r\n\r\n    setInvoiceNumber = (value) => {\r\n        this.invoiceNumber = value;\r\n    }\r\n\r\n    setInvoiceLastDate = (value) => {\r\n        this.invoiceLastDate = value;\r\n    }\r\n\r\n    setSupplier = (file) => {\r\n        this.supplier = file;\r\n        this.setErrorSupplier('');\r\n    }\r\n\r\n    setGeneralBanks = (file) => {\r\n        this.generalBanks = file;\r\n        this.setErrorGeneralBanks('');\r\n    }\r\n    setGoogleSheetsGeneralBanks = (value) => {\r\n        this.googleSheetsGeneralBanks = value;\r\n    }\r\n\r\n    setGeneralBanksAttribution = (value) => {\r\n        this.generalBanksAttribution = value;\r\n    }\r\n\r\n    setChecks = (file) => {\r\n        this.checks = file;\r\n        this.setErrorChecks('');\r\n    }\r\n\r\n    setGoogleSheetsChecks = (value) => {\r\n        this.googleSheetsChecks = value;\r\n    }\r\n    setChecksAttribution = (value) => {\r\n        this.checksAttribution = value;\r\n    }\r\n\r\n    setChecksBankAccountNumber = (value) => {\r\n        this.checksBankAccountNumber = value;\r\n    }\r\n\r\n    setMSV = (file) => {\r\n        this.msv = file;\r\n        this.setErrorMSV('');\r\n    }\r\n\r\n    setGoogleSheetsMSV = (value) => {\r\n        this.googleSheetsMSV = value;\r\n    }\r\n    setMsvAttribution = (value) => {\r\n        this.msvAttribution = value;\r\n    }\r\n\r\n    setMsvBankAccountNumber = (value) => {\r\n        this.msvBankAccountNumber = value;\r\n    }\r\n\r\n    setMsvForDate = (date) => {\r\n        this.msvForDate = date;\r\n    }\r\n\r\n    setMsvTrendCoordinator = (value) => {\r\n        this.msvTrendCoordinator = value;\r\n    }\r\n\r\n    setMsvSendingDate = (date) => {\r\n        this.msvSendingDate = date;\r\n    }\r\n\r\n    setClearingPlatform = (file) => {\r\n        this.clearingPlatform = file;\r\n        this.setErrorClearingPlatform('');\r\n    }\r\n    setGoogleSheetsClearingPlatform = (value) => {\r\n        this.googleSheetsClearingPlatform = value;\r\n    }\r\n\r\n    setClearingValidation = (file) => {\r\n        this.clearingValidation = file;\r\n        this.setErrorClearingValidation('');\r\n    }\r\n\r\n    setGoogleSheetsClearingValidation = (value) => {\r\n        this.googleSheetsClearingValidation = value;\r\n    }\r\n    setClearingPlatformTrendCoordinatorID = (value) => {\r\n        this.clearingPlatformTrendCoordinatorID = value;\r\n    }\r\n\r\n    setClearing = (file) => {\r\n        this.clearing = file;\r\n        this.setErrorClearing('');\r\n    }\r\n    setGoogleSheetsClearing = (value) => {\r\n        this.googleSheetsClearing = value;\r\n    }\r\n\r\n    setClearingPlatformID = (value) => {\r\n        this.clearingPlatformID = value;\r\n    }\r\n\r\n    setAttributions = (value) => {\r\n        this.attributions = value;\r\n        if (value) {\r\n            const firstAttribution = value[0];\r\n            this.setMsvAttribution(firstAttribution);\r\n            this.setChecksAttribution(firstAttribution);\r\n            this.setGeneralBanksAttribution(firstAttribution);\r\n            this.setExpenseDraftAttribution(firstAttribution);\r\n        }\r\n    }\r\n\r\n    setBankAccounts = (value) => {\r\n        this.bankAccounts = value;\r\n        if (value.length > 0) {\r\n            const firstBankAccountNumber = value[0].account_number;\r\n            this.setMsvBankAccountNumber(firstBankAccountNumber);\r\n            this.setChecksBankAccountNumber(firstBankAccountNumber);\r\n            this.setStudentsIncomesBankAccountNumber(firstBankAccountNumber);\r\n            this.setStudentInsuranceBankAccountNumber(firstBankAccountNumber);\r\n            this.setExpenseDraftBankAccountNumber(firstBankAccountNumber)\r\n            this.setPeriodicReceptionBankAccountNumber(firstBankAccountNumber);\r\n            this.setCurrentAccountBankAccountNumber(firstBankAccountNumber)\r\n        }\r\n    }\r\n\r\n    setIncomeSource = (value) => {\r\n        this.incomeSource = value;\r\n        value.length > 0 && this.setStudentsIncomesSourceID(value[0].id);\r\n    }\r\n\r\n    setPaymentMethods = (value) => {\r\n        this.paymentMethods = value;\r\n        value.length > 0 && this.setStudentsIncomesMethod(value[0]);\r\n    }\r\n\r\n    setPaymentStatus = (value) => {\r\n        this.paymentStatus = value\r\n        value.length > 0 && this.setStudentsPaymentStatus(value[0]);\r\n    }\r\n\r\n    setScholarshipTypes = (value) => {\r\n        this.scholarshipTypes = value;\r\n        value.length > 0 && this.setExpenseDraftScholarshipType(value[0])\r\n    }\r\n\r\n    setInstitutionBranchCoordinators = (value) => {\r\n        const objValue = Object.values(value);\r\n        this.institutionBranchCoordinators = objValue;\r\n        objValue.length > 0 && this.setInvoiceInstitutionBranchCoordinator(objValue[0].identity)\r\n    }\r\n\r\n    setTrendCoordinators = (value) => {\r\n        this.trendCoordinators = value;\r\n        value.length > 0 && this.setInvoiceTrendCoordinator(value[0].name);\r\n        value.length > 0 && this.setMsvTrendCoordinator(value[0].id);\r\n    }\r\n\r\n    setSuppliers = (value) => {\r\n        this.suppliers = value;\r\n        value.length > 0 && this.setInvoiceSupplier(value[0].identity);\r\n    }\r\n    setGoogleSheetsSupplier = (value) => {\r\n        this.googleSheetsSupplier = value;\r\n    }\r\n    \r\n    setPlatforms = (value) => {\r\n        this.platforms = value;\r\n        value.length > 0 && this.setClearingPlatformID(value[0].id);\r\n    }\r\n\r\n    setLoader = (value) => {\r\n        this.loader = value;\r\n    }\r\n\r\n    setInstitutionBankAccount = (value) => {\r\n        this.institutionBankAccount = value;\r\n        this.setErrorInstitutionBankAccount('');\r\n    }\r\n    setGoogleSheetsInstitutionBankAccount = (value) => {\r\n        console.log(value);\r\n        this.googleSheetsInstitutionBankAccount = value;\r\n    }\r\n    \r\n    setBranch = (value) => {\r\n        this.branch = value;\r\n        this.setErrorBranch('');\r\n    }\r\n    setGoogleSheetsBranch = (value) => {\r\n        this.googleSheetsBranch = value;\r\n    }\r\n    \r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n        this.setErrorTrendCoordinator('');\r\n    }\r\n    setGoogleSheetsTrendCoordinator = (value) => {\r\n        this.googleSheetsTrendCoordinator = value;\r\n    }\r\n    \r\n    setCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.courseEnrollmentTrendCoordinatorAttribution = value;\r\n        this.setErrorCourseEnrollmentTrendCoordinatorAttribution('');\r\n    }\r\n    setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution = value;\r\n    }\r\n    \r\n    setStudents = (value) => {\r\n        this.students = value;\r\n        this.setErrorStudents('');\r\n    }\r\n    setGoogleSheetsStudents = (value) => {\r\n        this.googleSheetsStudents = value;\r\n    }\r\n    \r\n    setCourseEnrollment = (value) => {\r\n        this.courseEnrollment = value;\r\n        this.setErrorCourseEnrollment('');\r\n    }\r\n    \r\n    setGoogleSheetsCourseEnrollment = (value) => {\r\n        this.googleSheetsCourseEnrollment = value;\r\n    }\r\n    setStudentsIncomes = (value) => {\r\n        this.studentsIncomes = value;\r\n        this.setErrorStudentsIncomes('');\r\n    }\r\n    setGoogleSheetsStudentsIncomes = (value) => {\r\n        this.googleSheetsStudentsIncomes = value;\r\n    }\r\n\r\n    setStudentsPaymentFailure = (value) => {\r\n        this.studentsPaymentFailure = value;\r\n        this.setErrorStudentsPaymentFailure('');\r\n    }\r\n    setGoogleSheetsStudentsPaymentFailure = (value) => {\r\n        this.googleSheetsStudentsPaymentFailure = value;\r\n    }\r\n\r\n    setStudentsIncomesSourceID = (value) => {\r\n        this.studentsIncomesSourceID = value;\r\n    }\r\n\r\n    setStudentsIncomesMethod = (value) => {\r\n        this.studentsIncomesMethod = value;\r\n    }\r\n\r\n    setStudentsIncomesBankAccountNumber = (value) => {\r\n        this.studentsIncomesBankAccountNumber = value;\r\n    }\r\n\r\n    setStudentsIncomesUpdate = (value) => {\r\n        this.studentsIncomesUpdate = value;\r\n    }\r\n\r\n    setInstitutionBankAccountUpdate = (value) => {\r\n        this.institutionBankAccountUpdate = value;\r\n    }\r\n    setBranchUpdate = (value) => {\r\n        this.branchUpdate = value;\r\n    }\r\n    setTrendCoordinatorUpdate = (value) => {\r\n        this.trendCoordinatorUpdate = value;\r\n    }\r\n    setCourseEnrollmentTrendCoordinatorAttributionUpdate = (value) => {\r\n        this.courseEnrollmentTrendCoordinatorAttributionUpdate = value;\r\n    }\r\n    setStudentsUpdate = (value) => {\r\n        this.studentsUpdate = value;\r\n    }\r\n    setCourseEnrollmentUpdate = (value) => {\r\n        this.courseEnrollmentUpdate = value;\r\n    }\r\n    setSupplierUpdate = (value) => {\r\n        this.supplierUpdate = value;\r\n    }\r\n    setDonatorUpdate = (value) => {\r\n        this.donatorUpdate = value;\r\n    }\r\n    setGeneralBanksUpdate = (value) => {\r\n        this.generalBanksUpdate = value;\r\n    }\r\n    setPeriodicReceptionUpdate = (value) => {\r\n        this.periodicReceptionUpdate = value;\r\n    }\r\n    setClearingPlatformUpdate = (value) => {\r\n        this.clearingPlatformUpdate = value;\r\n    }\r\n    setCurrentAccountUpdate = (value) => {\r\n        this.currentAccountUpdate = value;\r\n    }\r\n    setStudentsPaymentFailureUpdate = (value) => {\r\n        this.studentsPaymentFailureUpdate = value;\r\n    }\r\n    setClearingUpdate = (value) => {\r\n        this.clearingUpdate = value;\r\n    }\r\n    setClearingValidationUpdate = (value) => {\r\n        this.clearingValidationUpdate = value;\r\n    }\r\n    setMsvUpdate = (value) => {\r\n        this.msvUpdate = value;\r\n    }\r\n    setChecksUpdate = (value) => {\r\n        this.checksUpdate = value;\r\n    }\r\n    setInvoiceUpdate = (value) => {\r\n        this.invoiceUpdate = value;\r\n    }\r\n    setStudentsInsuranceUpdate = (value) => {\r\n        this.studentInsuranceUpdate = value;\r\n    }\r\n    setExpenseDraftFixedUpdate = (value) => {\r\n        this.expenseDraftFixedUpdate = value;\r\n    }\r\n\r\n\r\n\r\n    setStudentsPaymentStatus = (value) => {\r\n        this.studentsPaymentStatus = value;\r\n    }\r\n\r\n    setCurrentAccount = (value) => {\r\n        this.currentAccount = value;\r\n        this.setErrorCurrentAccount('');\r\n    }\r\n    setGoogleSheetsCurrentAccount = (value) => {\r\n        this.googleSheetsCurrentAccount = value;\r\n    }\r\n    setCurrentAccountBankAccountNumber = (value) => {\r\n        this.currentAccountBankAccountNumber = value;\r\n    }\r\n\r\n    sendData = async () => {\r\n        const fetch_1 = this.fetchInstitutionBankAccount();\r\n        const fetch_2 = this.fetchBranch();\r\n        const fetch_3 = this.fetchTrendCoordinator();\r\n        const fetch_4 = this.fetchCourseEnrollmentTrendCoordinatorAttribution();\r\n        const fetch_5 = this.fetchStudents();\r\n        const fetch_6 = this.fetchCourseEnrollment();\r\n        const fetch_7 = this.fetchStudentsIncomes();\r\n        const fetch_8 = this.fetchStudentsPaymentFailure();\r\n        const fetch_9 = this.fetchCurrentAccount();\r\n        const fetch_10 = this.fetchClearingPlatform();\r\n        const fetch_11 = this.fetchClearing();\r\n        const fetch_12 = this.fetchClearingValidation();\r\n        const fetch_13 = this.fetchMSV();\r\n        const fetch_14 = this.fetchChecks();\r\n        const fetch_15 = this.fetchGeneralBanks();\r\n        const fetch_16 = this.fetchSupplier();\r\n        const fetch_17 = this.fetchInvoice();\r\n        const fetch_18 = this.fetchStudentInsurance();\r\n        const fetch_19 = this.fetchExpenseDraft();\r\n        const fetch_20 = this.fetchDonator();\r\n        const fetch_21 = this.fetchPeriodicReception();\r\n\r\n        return await Promise.all([fetch_1, fetch_2, fetch_3, fetch_4, fetch_5, fetch_6, fetch_7, fetch_8, fetch_9, fetch_10,\r\n            fetch_11, fetch_12, fetch_13, fetch_14, fetch_15, fetch_16, fetch_17, fetch_18, fetch_19, fetch_20, fetch_21])\r\n            .then((res) => {\r\n                this.setLoader(false);\r\n                return res;\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBankAccount = async () => {\r\n        this.setErrorInstitutionBankAccount('');\r\n        if (this.institutionBankAccount || this.googleSheetsInstitutionBankAccount) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('institution_bank_account_csv', this.institutionBankAccount);\r\n            formData.append('google_sheets', this.googleSheetsInstitutionBankAccount);\r\n            return await (this.institutionBankAccountUpdate ? Fetch.PutFormData : Fetch.PostFormData)('institution_bank_account', formData)\r\n                .then(res => {\r\n                    res.error ? this.setErrorInstitutionBankAccount(res.message.value || res.message) : this.setInstitutionBankAccount(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBranch = async () => {\r\n        this.setErrorBranch('');\r\n        if (this.branch || this.googleSheetsBranch) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('branch_csv', this.branch);\r\n            formData.append('google_sheets', this.googleSheetsBranch);\r\n\r\n            return await (this.branchUpdate ? Fetch.PutFormData : Fetch.PostFormData)('branch', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorBranch(res.message.value || res.message) : this.setBranch(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchTrendCoordinator = async () => {\r\n        this.setErrorTrendCoordinator('');\r\n        if (this.trendCoordinator || this.googleSheetsTrendCoordinator) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('trend_coordinator_csv', this.trendCoordinator);\r\n            formData.append('google_sheets', this.googleSheetsTrendCoordinator);\r\n\r\n            return await (this.trendCoordinatorUpdate ? Fetch.PutFormData : Fetch.PostFormData)('trend_coordinator', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorTrendCoordinator(res.message.value || res.message) : this.setTrendCoordinator(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCourseEnrollmentTrendCoordinatorAttribution = async () => {\r\n        this.setErrorCourseEnrollmentTrendCoordinatorAttribution('');\r\n        if (this.courseEnrollmentTrendCoordinatorAttribution || this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('course_enrollment_trend_coordinator_attribution_csv', this.courseEnrollmentTrendCoordinatorAttribution);\r\n            formData.append('google_sheets', this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution);\r\n            return await (this.courseEnrollmentTrendCoordinatorAttributionUpdate ? Fetch.PutFormData : Fetch.PostFormData)('course_enrollment_trend_coordinator_attribution', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCourseEnrollmentTrendCoordinatorAttribution(res.message.value || res.message) : this.setCourseEnrollmentTrendCoordinatorAttribution(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudents = async () => {\r\n        this.setErrorStudents('');\r\n        if (this.students || this.googleSheetsStudents) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('students_csv', this.students);\r\n            formData.append('google_sheets', this.googleSheetsStudents);\r\n\r\n            return await (this.studentsUpdate ? Fetch.PutFormData : Fetch.PostFormData)('student', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudents(res.message.value || res.message) : this.setStudents(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCourseEnrollment = async () => {\r\n        this.setErrorCourseEnrollment('');\r\n        if (this.courseEnrollment || this.googleSheetsCourseEnrollment) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('course_enrollment_csv', this.courseEnrollment);\r\n            formData.append('google_sheets', this.courseEnrollment);\r\n            return await (this.courseEnrollmentUpdate ? Fetch.PutFormData : Fetch.PostFormData)('course_enrollment', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCourseEnrollment(res.message.value || res.message) : this.setCourseEnrollment(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudentsIncomes = async () => {\r\n        this.setErrorStudentsIncomes('');\r\n        if (this.studentsIncomes || this.googleSheetsStudentsIncomes) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('students_incomes_csv', this.studentsIncomes);\r\n            formData.append('fk_income_source_id', this.studentsIncomesSourceID);\r\n            formData.append('method', this.studentsIncomesMethod);\r\n            formData.append('account_number', this.studentsIncomesBankAccountNumber);\r\n            formData.append('payment_status', this.studentsPaymentStatus);\r\n            formData.append('google_sheets', this.googleSheetsStudentsIncomes);\r\n\r\n            return await (this.studentsIncomesUpdate ? Fetch.PutFormData : Fetch.PostFormData)('income', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudentsIncomes(res.message.value || res.message) : this.setStudentsIncomes(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudentsPaymentFailure = async () => {\r\n        this.setErrorStudentsPaymentFailure('');\r\n        if (this.studentsPaymentFailure || this.googleSheetsStudentsPaymentFailure) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('payment_failure_csv', this.studentsPaymentFailure);\r\n            formData.append('google_sheets', this.googleSheetsStudentsPaymentFailure);\r\n\r\n            return await (this.studentsPaymentFailureUpdate ? Fetch.PutFormData : Fetch.PostFormData)('payment_failure', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudentsPaymentFailure(res.message.value || res.message) : this.setStudentsPaymentFailure(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCurrentAccount = async () => {\r\n        this.setErrorCurrentAccount('');\r\n        if (this.currentAccount || this.googleSheetsCurrentAccount) {\r\n            this.setLoader(true);\r\n\r\n            const formData = new FormData();\r\n            formData.append('current_account_csv', this.currentAccount);\r\n            if(this.currentAccountBankAccountNumber){\r\n                formData.append('account_number ', this.currentAccountBankAccountNumber);\r\n            }\r\n            formData.append('google_sheets', this.googleSheetsCurrentAccount);\r\n\r\n            return await (this.currentAccountUpdate ? Fetch.PutFormData : Fetch.PostFormData)('current_account', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCurrentAccount(res.message.value || res.message) : this.setCurrentAccount(null) ;\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearingPlatform = async () => {\r\n        this.setErrorClearingPlatform('');\r\n        if (this.clearingPlatform || this.googleSheetsClearingPlatform) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_platform_csv', this.clearingPlatform);\r\n            formData.append('google_sheets', this.googleSheetsClearingPlatform);\r\n            this.clearingPlatformTrendCoordinatorID !== '' && formData.append('trend_coordinator_id', this.clearingPlatformTrendCoordinatorID);\r\n            return await (this.clearingPlatformUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing_platform', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearingPlatform(res.message.value || res.message) : this.setClearingPlatform(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearing = async () => {\r\n        this.setErrorClearing('');\r\n        if (this.clearing || this.googleSheetsClearing) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_payments_csv', this.clearing);\r\n            formData.append('fk_platform_id', this.clearingPlatformID);\r\n            formData.append('google_sheets', this.googleSheetsClearing);\r\n            return await (this.clearingUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearing(res.message.value || res.message) : this.setClearing(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearingValidation = async () => {\r\n        this.setErrorClearingValidation('');\r\n        if (this.clearingValidation || this.googleSheetsClearingValidation) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_validation_csv', this.clearingValidation);\r\n            formData.append('google_sheets', this.googleSheetsClearingValidation);\r\n            return await (this.clearingValidationUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing_validation', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearingValidation(res.message.value || res.message) : this.setClearingValidation(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchMSV = async () => {\r\n        this.setErrorMSV('');\r\n        if (this.msv || this.googleSheetsMSV) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('msv_expense_csv', this.msv);\r\n            formData.append('attribution', this.msvAttribution);\r\n            formData.append('account_number', this.msvBankAccountNumber);\r\n            formData.append('for_month', this.msvForDate.split('-').reverse().join('/'));\r\n            formData.append('fk_trend_coordinator_id', this.msvTrendCoordinator);\r\n            formData.append('msv_sending_date', this.msvSendingDate.split('-').reverse().join('/'));\r\n            formData.append('google_sheets', this.googleSheetsMSV);\r\n            return await (this.msvUpdate ? Fetch.PutFormData : Fetch.PostFormData)('msv', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorMSV(res.inserted_records.message.value || res.message) : this.setMSV(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchChecks = async () => {\r\n        this.setErrorChecks('');\r\n        if (this.checks || this.googleSheetsChecks) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('check_expense_csv', this.checks);\r\n            formData.append('attribution', this.checksAttribution);\r\n            formData.append('account_number', this.checksBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsChecks);\r\n\r\n            return await (this.checksUpdate ? Fetch.PutFormData : Fetch.PostFormData)('check', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorChecks(res.inserted_records.message.value || res.message) : this.setChecks(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchGeneralBanks = async () => {\r\n        this.setErrorGeneralBanks('');\r\n        if (this.generalBanks || this.googleSheetsGeneralBanks) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('general_bank_account_csv', this.generalBanks);\r\n            formData.append('attribution', this.generalBanksAttribution);\r\n            formData.append('google_sheets', this.googleSheetsGeneralBanks);\r\n\r\n            return await (this.generalBanksUpdate ? Fetch.PutFormData : Fetch.PostFormData)('general_bank_account', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorGeneralBanks(res.inserted_records.message.value || res.message) : this.setGeneralBanks(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchSupplier = async () => {\r\n        this.setErrorSupplier('');\r\n        if (this.supplier || this.googleSheetsSupplier) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('supplier_csv', this.supplier);\r\n            formData.append('google_sheets', this.googleSheetsSupplier);\r\n\r\n            return await (this.supplierUpdate ? Fetch.PutFormData : Fetch.PostFormData)('supplier', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.error ? this.setErrorSupplier(res.message.value || res.message) : this.setSupplier(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchInvoice = async () => {\r\n        this.setErrorInvoice('');\r\n        if (this.invoice) {\r\n            if (this.invoiceNumber || this.googleSheetsInvoice) {\r\n                this.setLoader(true);\r\n                const formData = new FormData();\r\n                formData.append('invoice_file', this.invoice);\r\n                formData.append('institution_identity', this.invoiceInstitutionBranchCoordinator.identity);\r\n                formData.append('trend_coordinator_name', this.invoiceTrendCoordinator.name);\r\n                formData.append('supplier_identity', this.invoiceSupplier.identity);\r\n                formData.append('invoice_date', `${this.invoiceDate}T00:00:00`);\r\n                formData.append('invoice_number', this.invoiceNumber);\r\n                formData.append('amount', this.invoiceSum);\r\n                formData.append('google_sheets', this.googleSheetsInvoice);\r\n\r\n                this.invoiceLastDate.trim() !== '' && formData.append('payment_due_date', `${this.invoiceLastDate}T00:00:00`);\r\n                return await (this.invoiceUpdate ? Fetch.PutFormData : Fetch.PostFormData)('invoice', formData)\r\n                    .then(res => {\r\n                        console.log(res);\r\n                        res?.error ? this.setErrorInvoice(res.message.payment_due_date[0] || res.message) : this.setInvoice(null);\r\n                        return res;\r\n                    })\r\n                    .catch(err => console.error(err))\r\n            }\r\n            else {\r\n                this.setErrorInvoice('  ');\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchStudentInsurance = async () => {\r\n        this.setErrorStudentInsurance('');\r\n        if (this.studentInsurance || this.googleSheetsStudentInsurance) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('student_insurance_expense_csv', this.studentInsurance);\r\n            formData.append('account_number', this.studentInsuranceBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsStudentInsurance);\r\n            return await (this.studentInsuranceUpdate ? Fetch.PutFormData : Fetch.PostFormData)('student_insurance', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorStudentInsurance(res.inserted_records.message.value || res.message) : this.setStudentInsurance(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchExpenseDraft = async () => {\r\n        this.setErrorExpenseDraft('');\r\n        if (this.expenseDraft || this.googleSheetsExpenseDraft) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('expense_draft_csv', this.expenseDraft);\r\n            formData.append('attribution', this.expenseDraftAttribution);\r\n            formData.append('account_number', this.expenseDraftBankAccountNumber);\r\n            formData.append('for_month', this.expenseDraftForMonth.split('-').reverse().join('/'));\r\n            formData.append('scholarship_type', this.expenseDraftAttribution === 'student' ? this.expenseDraftScholarshipType : null);\r\n            formData.append('fixed', this.expenseDraftFixed);\r\n            formData.append('google_sheets', this.googleSheetsExpenseDraft);\r\n\r\n            this.expenseDraftPaymentMethod !== '' && formData.append('payment_method', this.expenseDraftPaymentMethod);\r\n            this.expenseDraftTrendCoordinator !== '' && formData.append('fk_trend_coordinator_id', this.expenseDraftTrendCoordinator);\r\n            return await (this.expenseDraftFixedUpdate ? Fetch.PutFormData : Fetch.PostFormData)('expense_draft', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorExpenseDraft(res.inserted_records.message.value || res.message) : this.setExpenseDraft(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchDonator = async () => {\r\n        this.setErrorDonator('');\r\n        if (this.donator || this.googleSheetsDonator) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('donator_csv', this.donator);\r\n            formData.append('google_sheets', this.googleSheetsDonator);\r\n            return await (this.donatorUpdate ? Fetch.PutFormData : Fetch.PostFormData)('donator', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorDonator(res.inserted_records.message.value || res.message) : this.setDonator(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchPeriodicReception = async () => {\r\n        this.setErrorPeriodicReception('');\r\n        if (this.periodicReception || this.googleSheetsPeriodicReception) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('periodic_reception_csv', this.periodicReception);\r\n            formData.append('account_number', this.periodicReceptionBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsPeriodicReception);\r\n            return await (this.periodicReceptionUpdate ? Fetch.PutFormData : Fetch.PostFormData)('periodic_reception', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorPeriodicReception(res.inserted_records.message.value || res.message) : this.setPeriodicReception(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchIncomeSource = () => {\r\n        Fetch.Get('income_source')\r\n            .then(res => this.setIncomeSource(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPaymentMethods = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => {\r\n                if (res) {\r\n                    res.income_payment_methods && this.setPaymentMethods(res.income_payment_methods);\r\n                    res.attributions && this.setAttributions(res.attributions);\r\n                    res.education_payment_status && this.setPaymentStatus(res.education_payment_status);\r\n                    res.scholarship_types && this.setScholarshipTypes(res.scholarship_types);\r\n                }\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchBankAccounts = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccounts(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBranchCoordinators = () => {\r\n        Fetch.Get('institution_branch_coordinator')\r\n            .then(res => this.setInstitutionBranchCoordinators(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinators = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => {\r\n                this.setTrendCoordinators(res);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSuppliers = () => {\r\n        Fetch.Get('supplier')\r\n            .then(res => this.setSuppliers(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPlatforms = () => {\r\n        Fetch.Get('clearing_platform')\r\n            .then(res => this.setPlatforms(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    callFetch = () => {\r\n        this.fetchIncomeSource();\r\n        this.fetchPaymentMethods();\r\n        this.fetchBankAccounts();\r\n        this.fetchInstitutionBranchCoordinators();\r\n        this.fetchTrendCoordinators();\r\n        this.fetchSuppliers();\r\n        this.fetchPlatforms();\r\n    }\r\n\r\n    fetchDownloadTemplate = async (template_from) => {\r\n        return await Fetch.GetHeader(`${template_from}/csv_template`)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new UploadCSVFile();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass BankAccountStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allBankAccount = null;\r\n    allCurrentAccount = null;\r\n    leftTableBankAccount = Array(10).fill('');\r\n    rightTableBankAccount = Array(10).fill('');\r\n    dateFrom = '';\r\n    dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    rightTableSelectedItems = [];\r\n    selectedRightTableTab = 'bank_account';\r\n    checkBoxFilter = { linked: true, unlinked: true };\r\n\r\n    changeCheckBoxFilter = (check, position) => {\r\n        this.checkBoxFilter[position] = check;\r\n        this.setLeftTableBankAccount(this.allBankAccount);\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = { checked: !tableSelectedItems[index].checked, id: item['id'] };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allCurrentAccount : this.leftTableBankAccount;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ id }) => !newSet.has(id) && newSet.add(id))(new Set()));\r\n            this.setLeftTableBankAccount(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableBankAccount(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to) : to === '' && (this.dateTo = '');\r\n        this.dateFrom && this.dateTo && this.dateFrom > this.dateTo && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = this.allCurrentAccount.filter(search => search.date.includes(value) ||\r\n                search.value_date.includes(value) || search.transaction_amount.toString().includes(value) ||\r\n                search.balance.toString().includes(value) || search.reference_number.includes(value));\r\n            this.setLeftTableBankAccount(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = this.allBankAccount.filter(search =>\r\n                search.account_number.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.cash.toString().includes(value) || search.commitment.toString().includes(value) ||\r\n                search.flow.toString().includes(value) || search.institution_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                search.line_of_credit.toString().includes(value) || search.loan.toString().includes(value));\r\n            this.setRightTableBankAccount(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setLeftTableBankAccount = (data, dontCheckRightTable) => {\r\n        data = this.checkBoxFilter.linked && this.checkBoxFilter.unlinked ? data :\r\n            this.checkBoxFilter.linked ? data.filter(bankDetail => bankDetail.is_linked) :\r\n                this.checkBoxFilter.unlinked ? data.filter(bankDetail => !bankDetail.is_linked) : [];\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableBankAccount = data.concat(moreRows);\r\n\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setRightTableBankAccount = (data) => {\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableBankAccount = data.concat(moreRows);\r\n    }\r\n\r\n    setAllCurrentAccount = (currentAccount) => {\r\n        this.allCurrentAccount = currentAccount.data ? currentAccount.data : currentAccount;\r\n        this.setLeftTableBankAccount(currentAccount.data ? currentAccount.data : currentAccount);\r\n    }\r\n\r\n    setAllBankAccount = (bankAccount) => {\r\n        this.allBankAccount = bankAccount.data ? bankAccount.data : bankAccount;\r\n        this.setRightTableBankAccount(bankAccount.data ? bankAccount.data : bankAccount);\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get(`bank_account?verbose=${encodeURIComponent(true)}`)\r\n            .then(res => this.setAllBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchCurrentAccount = () => {\r\n        this.allCurrentAccount = null;\r\n\r\n        const encodeDate = (date) => encodeURIComponent(date.slice(0, 10).split('-').reverse().join('/'));\r\n        const start_date = this.dateFrom === '' ? null : encodeDate(this.dateFrom);\r\n        const end_date = this.dateTo === '' ? null : encodeDate(this.dateTo);\r\n\r\n        // const start_date = '01/07/2020';\r\n        // const end_date = '01/07/2021';\r\n\r\n        Fetch.Get(`current_account${start_date && end_date ? `?start_date=${start_date}&end_date=${end_date}` : ''}`)\r\n            .then(res => this.setAllCurrentAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    // #region Make Link Popup\r\n    index = 0;\r\n    rightBankAccount = null;\r\n    donator = null;\r\n    trendCoordinator = null;\r\n    student = null;\r\n    supplier = null;\r\n    msv = null;\r\n    comment = null;\r\n    makeLink = null;\r\n    allDonators = null;\r\n    allTrendCoordinator = null;\r\n    allStudents = null;\r\n    allSuppliers = null;\r\n    allMSV = null;\r\n    ownDonator = null;\r\n    ownTrendCoordinator = null;\r\n    ownStudent = null;\r\n    ownSupplier = null;\r\n    ownMsv = null;\r\n    loader = false;\r\n    existDonator = null;\r\n    existTrendCoordinator = null;\r\n    existStudent = null;\r\n    existSupplier = null;\r\n    existMsv = null;\r\n\r\n    setLoader = (value) => {\r\n        this.loader = value;\r\n    }\r\n\r\n    setOwnDonator = (value) => {\r\n        this.ownDonator = value;\r\n    }\r\n\r\n    setOwnTrendCoordinator = (value) => {\r\n        this.ownTrendCoordinator = value;\r\n    }\r\n\r\n    setOwnStudent = (value) => {\r\n        this.ownStudent = value;\r\n    }\r\n\r\n    setOwnSupplier = (value) => {\r\n        this.ownSupplier = value;\r\n    }\r\n\r\n    setOwnMsv = (value) => {\r\n        this.ownMsv = value;\r\n    }\r\n\r\n    setAllMSV = (allMSV) => {\r\n        this.allMSV = allMSV;\r\n        allMSV?.length === 0 && this.setMSV(' ');\r\n    }\r\n\r\n    setAllDonators = (allDonators) => {\r\n        this.allDonators = allDonators;\r\n        allDonators?.length === 0 && this.setDonator(' ');\r\n    }\r\n\r\n    setAllTrendCoordinator = (allTrendCoordinator) => {\r\n        this.allTrendCoordinator = allTrendCoordinator;\r\n        allTrendCoordinator?.length === 0 && this.setTrendCoordinator(' ');\r\n    }\r\n\r\n    setAllStudents = (allStudents) => {\r\n        this.allStudents = allStudents;\r\n        allStudents?.length === 0 && this.setStudent(' ');\r\n    }\r\n\r\n    setAllSuppliers = (allSuppliers) => {\r\n        this.allSuppliers = allSuppliers;\r\n        allSuppliers?.length === 0 && this.setSupplier(' ');\r\n    }\r\n\r\n    setMakeLink = (item) => {\r\n        this.makeLink = item;\r\n        item && this.fetchMSV(item.transaction_amount, item.date.slice(0, 10))\r\n            .then(res => {\r\n                this.setComment(item.comment);\r\n\r\n                const data = item.expense?.length > 0 ? item.expense[0] : item.income?.length > 0 ? item.income[0] : null;\r\n                if (data) {\r\n                    const donator = data.fk_donator_id !== null && this.allDonators.find(d => d.id === data.fk_donator_id);\r\n                    const trend = data.fk_trend_coordinator_id !== null && this.allTrendCoordinator.find(t => t.id === data.fk_trend_coordinator_id);\r\n                    const student = data.attribution === 'student' && data.attribution_id !== null && this.allStudents.find(s => s.id === data.attribution_id);\r\n                    const supplier = data.attribution === 'supplier' && data.attribution_id !== null && this.allSuppliers.find(s => s.id === data.attribution_id);\r\n                    const msv = !(item.income?.length !== 0) && data.fk_msv_file_id !== null && res?.find(m => m.id === data.fk_msv_file_id);\r\n\r\n                    if (donator) {\r\n                        const value = `${donator.first_name} ${donator.last_name} - ${donator.identity}`;\r\n                        this.setDonator(value);\r\n                        this.setOwnDonator(donator);\r\n                    }\r\n\r\n                    if (trend) {\r\n                        const value = `${trend.name} - ${trend.id}`;\r\n                        this.setTrendCoordinator(value);\r\n                        this.setOwnTrendCoordinator(value);\r\n                    }\r\n\r\n                    if (student) {\r\n                        const value = `${student.first_name} ${student.last_name} - ${student.identity}`;\r\n                        this.setStudent(value);\r\n                        this.setOwnStudent(value);\r\n                    }\r\n\r\n                    if (supplier) {\r\n                        const value = `${supplier.name} - ${supplier.identity}`;\r\n                        this.setSupplier(value);\r\n                        this.setOwnSupplier(value);\r\n                    }\r\n\r\n                    if (msv) {\r\n                        const value = `${msv.amount} - ${msv.date} - ${msv.id}`;\r\n                        this.setMSV(value);\r\n                        this.setOwnMsv(value);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    setIndex = (value) => {\r\n        this.index = value;\r\n    }\r\n\r\n    setRightBankAccount = (value) => {\r\n        this.rightBankAccount = value;\r\n    }\r\n\r\n    setDonator = (value) => {\r\n        this.donator = value && value.trim() !== '' ? value : null;\r\n\r\n        const donator = value && value.split(' - ');\r\n        this.existDonator = value ? this.allDonators?.find(d => d.identity === donator[donator.length - 1])?.id : null;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value && value.trim() !== '' ? value : null;\r\n\r\n        const trendCoordinator = value && value.split(' - ');\r\n        this.existTrendCoordinator = value ? this.allTrendCoordinator?.find(t => `${t.id}` === trendCoordinator[trendCoordinator.length - 1])?.id : null;\r\n    }\r\n\r\n    setStudent = (value) => {\r\n        this.student = value && value.trim() !== '' ? value : null;\r\n\r\n        const student = value && value.split(' - ');\r\n        this.existStudent = value ? this.allStudents?.find(s => s.identity === student[student.length - 1])?.id : null;\r\n    }\r\n\r\n    setSupplier = (value) => {\r\n        this.supplier = value && value.trim() !== '' ? value : null;\r\n\r\n        const supplier = value && value.split(' - ');\r\n        this.existSupplier = value ? this.allSuppliers?.find(s => s.identity === supplier[supplier.length - 1])?.id : null;\r\n    }\r\n\r\n    setMSV = (value) => {\r\n        this.msv = value && value.trim() !== '' ? value : null;\r\n\r\n        const msv = value && value.split(' - ');\r\n        this.existMsv = value ? this.allMSV?.find(m => `${m.id}` === msv[msv.length - 1])?.id : null;\r\n    }\r\n\r\n    setComment = (value) => {\r\n        this.comment = value && value.trim() !== '' ? value : null;\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('link_ca/trend_coordinator')\r\n            .then(res => this.setAllTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchStudens = () => {\r\n        Fetch.Get('link_ca/student')\r\n            .then(res => this.setAllStudents(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSuppliers = () => {\r\n        Fetch.Get('link_ca/supplier')\r\n            .then(res => this.setAllSuppliers(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchMSV = async (amount, date) => {\r\n        return await Fetch.Get(`link_ca/msv?amount=${amount}&date=${date}`)\r\n            .then(res => this.setAllMSV(res.error ? [] : res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDonators = () => {\r\n        Fetch.Get('donator')\r\n            .then(res => this.setAllDonators(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSave = () => {\r\n        this.setLoader(true);\r\n\r\n        if (this.donator !== this.ownTrendCoordinator) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                fk_trend_coordinator_id: this.existDonator,\r\n            }\r\n\r\n            var trendCoordinatorFetch = Fetch.Put('link_ca/donator', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n\r\n        if (this.trendCoordinator !== this.ownTrendCoordinator) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                fk_trend_coordinator_id: this.existTrendCoordinator,\r\n            }\r\n\r\n            var trendCoordinatorFetch = Fetch.Put('link_ca/trend_coordinator', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        if (this.student !== this.ownStudent) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                attribution: 'student',\r\n                attribution_id: this.existStudent,\r\n            }\r\n\r\n            var studentFetch = Fetch.Put('link_ca/student', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        if (this.supplier !== this.ownSupplier) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                attribution: 'supplier',\r\n                attribution_id: this.existSupplier,\r\n            }\r\n\r\n            var supplierFetch = Fetch.Put('link_ca/supplier', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n\r\n        if (this.msv !== this.ownMsv) {\r\n            const msv = this.ownMsv && this.ownMsv.split(' - ');\r\n            const msvID = this.existMsv || msv ? msv[msv.length - 1] : null;\r\n\r\n            if (msvID !== null) {\r\n                const body = {\r\n                    fk_current_account_id: this.makeLink.id,\r\n                    fk_msv_file_id: msvID,\r\n                    delete: this.existMsv !== null ? false : true\r\n                }\r\n\r\n                var msvFetch = Fetch.Put('link_ca/msv', body)\r\n                    .catch(err => console.error(err));\r\n            }\r\n        }\r\n\r\n\r\n        if (this.comment !== this.makeLink.comment) {\r\n            const body = { comment: this.comment };\r\n            var commentFetch = Fetch.Put(`current_account/${this.makeLink.id}`, body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        const ClearDataIfNotExist = () => {\r\n            !this.existTrendCoordinator && this.setTrendCoordinator(null);\r\n            !this.existSupplier && this.setSupplier(null);\r\n            !this.existStudent && this.setStudent(null);\r\n            !this.existMsv && this.setMSV(null);\r\n        }\r\n\r\n        Promise.all([trendCoordinatorFetch, studentFetch, supplierFetch, msvFetch, commentFetch])\r\n            .then(() => {\r\n                this.setLoader(false);\r\n                this.fetchCurrentAccount();\r\n                ClearDataIfNotExist();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    // #endregion\r\n}\r\n\r\nexport default new BankAccountStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass ReceptionBasketStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allReceptionBasket = null;\r\n    leftTableReceptionBasket = Array(10).fill('');\r\n    rightTableReceptionBasket = Array(10).fill('');\r\n    receptionBasketFilters = [];\r\n    receptionBasketFiltersToSend = { income_filters: [] }; //, expense_filters: [], student_filters: []\r\n    // receptionBasketFiltersDateToSend = {\r\n    //     expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     student_filters: []\r\n    // };\r\n    receptionBasketFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'donations';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    // dateFrom = '';\r\n    // dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    generalLists = [];\r\n    bankAccount = [];\r\n    trendCoordinator = [];\r\n\r\n    setBankAccount = (value) => {\r\n        this.bankAccount = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    print = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allReceptionBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.income_id]));\r\n        // Object.values(this.allReceptionBasket[0]).map(tab => tab.map(item => item.is_printable && (body = [...body, item.expense_id])));\r\n\r\n        return await this.fetchPrint(onlyShown, body);\r\n    }\r\n\r\n    delete = (item, tableIndex) => {\r\n        if (tableIndex === 0) {\r\n            this.fetchDeleteIncome(item.income_id, {})\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.deleteSelectedItem(item, tableIndex);\r\n                    }\r\n                })\r\n        }\r\n        if (tableIndex === 1) {\r\n            let body = [];\r\n            this.leftTableReceptionBasket.map((leftTableItem) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (body = [...body, leftTableItem.income_id]))\r\n            this.fetchDeleteIncome(null, body)\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.leftTableReceptionBasket.map((leftTableItem) =>\r\n                            item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                            this.deleteSelectedItem(leftTableItem, tableIndex))\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    deleteSelectedItem = (item, tableIndex) => {\r\n        const data = this.leftTableReceptionBasket.filter(data => data !== item);\r\n        this.setLeftTableReceptionBasket(data, true);\r\n        this.allReceptionBasket[tableIndex][this.selectedLeftTableTab] = this.allReceptionBasket[tableIndex][this.selectedLeftTableTab]?.filter(leftItem => leftItem !== item);\r\n    }\r\n\r\n    checkIncome = (data, item, tableIndex, index, position, chengePosition) => {\r\n        let leftTable = this.leftTableReceptionBasket;\r\n        let body = {};\r\n        body[position] = data;\r\n        chengePosition && (position = chengePosition);\r\n        if (tableIndex === 0)\r\n            (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(item))) &&\r\n                this.fetchEditIncome(item.income_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTableReceptionBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n        else if (tableIndex === 1)\r\n            this.leftTableReceptionBasket.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(leftTableItem))) &&\r\n                this.fetchEditIncome(leftTableItem.income_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTableReceptionBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n            )\r\n    }\r\n\r\n    checkIsPrintAllow = (item) => {\r\n        this.leftTableReceptionBasket = this.leftTableReceptionBasket.map(leftBasket => {\r\n            leftBasket === item && (delete leftBasket['show_error']);\r\n            return leftBasket;\r\n        })\r\n        if (!item.for_month || item.for_month === 0) {\r\n            this.leftTableReceptionBasket = this.leftTableReceptionBasket.map(leftBasket => {\r\n                leftBasket === item && (leftBasket['show_error'] = true);\r\n                return leftBasket;\r\n            })\r\n            return false\r\n        }\r\n        return true;\r\n    }\r\n\r\n    changeLeftTableReceptionBasket = (leftTable, index, position, data) => {\r\n        leftTable[index][position] = data;\r\n        this.leftTableReceptionBasket = [...leftTable];\r\n    }\r\n\r\n    changeCheckDate = (date, item, tableIndex, index) => {\r\n        this.checkIncome(date, item, tableIndex, index, 'check_date');\r\n    }\r\n\r\n    changeForMonth = (date, item, tableIndex, index) => {\r\n        this.checkIncome(date, item, tableIndex, index, 'for_month');\r\n    }\r\n\r\n    changeCheckSum = (sum, item, tableIndex, index) => {\r\n        this.checkIncome(sum, item, tableIndex, index, 'amount', 'expense_sum');\r\n    }\r\n\r\n    changePaymentMethod = (paymentMethod, item, tableIndex, index) => {\r\n        this.checkIncome(paymentMethod, item, tableIndex, index, 'method');\r\n    }\r\n\r\n    changeCheckbox = (checked, item, tableIndex, index) => {\r\n        this.checkIncome(checked, item, tableIndex, index, 'is_printable');\r\n    }\r\n\r\n    changeBankAccountId = (id, item, tableIndex, index) => {\r\n        this.checkIncome(id, item, tableIndex, index, 'fk_bank_account_id');\r\n    }\r\n\r\n    changeTrendCoordinatorId = (id, item, tableIndex, index) => {\r\n        this.checkIncome(id, item, tableIndex, index, 'fk_trend_coordinator_id');\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        this.rightTableReceptionBasket = this.rightTableReceptionBasket.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableReceptionBasket.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableReceptionBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                    leftTableItem.is_printable).length;\r\n                this.rightTableReceptionBasket[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n                this.rightTableReceptionBasket[index][`print_${this.selectedLeftTableTab}_sum`] = countLeftTableWithSameFkIdToPrint;\r\n                this.rightTableReceptionBasket[index][`${this.selectedLeftTableTab}_sum`] = this.leftTableReceptionBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allReceptionBasket[0][this.selectedLeftTableTab] : this.leftTableReceptionBasket;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableReceptionBasket(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableReceptionBasket(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    // setDateFromTo = (from, to) => {\r\n    //     from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n    //     to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    // }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allReceptionBasket[tableIndex])[this.selectedLeftTableTab].filter(search =>\r\n                search.identity.includes(value) || search.full_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                (search.for_month && search.for_month.includes(value)) || search.amount.toString().includes(value) ||\r\n                search.method.includes(value));\r\n            this.setLeftTableReceptionBasket(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allReceptionBasket[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.expense_sum.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setRightTableReceptionBasket(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTableReceptionBasket((this.allReceptionBasket[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableReceptionBasket((this.allReceptionBasket[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setReceptionBasketFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.ReceptionBasketFiltersToSend = { income_filters: [] }); //, expense_filters: [], student_filters: [] \r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                (this.checkedFilters[titleIndex][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.receptionBasketFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.receptionBasketFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.receptionBasketFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.receptionBasketFiltersToSend[filters.name] = [...this.receptionBasketFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.receptionBasketFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    // setReceptionBasketFiltersDateToSend = (date, dateIndex, fill) => {\r\n    //     const selectedOption = this.peceptionBasketFiltersDateSelectedOption;\r\n    //     let existIndex = this.receptionBasketFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n    //     if (existIndex === -1) {\r\n    //         existIndex = this.receptionBasketFiltersDateToSend[selectedOption[2]].length;\r\n    //         this.receptionBasketFiltersDateToSend[selectedOption[2]] = [...this.receptionBasketFiltersDateToSend[selectedOption[2]],\r\n    //         { name: selectedOption[1], checked: ['', ''] }]\r\n    //     }\r\n\r\n    //     fill === 'clear' ?\r\n    //         this.receptionBasketFiltersDateToSend = {\r\n    //             expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //             income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n    //         } :\r\n    //         (this.receptionBasketFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    // }\r\n\r\n    // setReceptionBasketFiltersDateSelectedOption = (option) => {\r\n    //     this.receptionBasketFiltersDateSelectedOption = option;\r\n    //     const exist = this.receptionBasketFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n    //     exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    // }\r\n\r\n    setReceptionBasketFilters = (data) => {\r\n        this.receptionBasketFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        // const date = data.filter(filter => filter.name === 'date_filters')[0]?.filters[0];\r\n        // this.receptionBasketFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableReceptionBasket = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableReceptionBasket = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTableReceptionBasket = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = data.map(item => ({ checked: item.is_printable, fk_id: -1 }));\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableReceptionBasket = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllReceptionBasket = (data) => {\r\n        data && data.length > 1 && Object.keys(data[1]).map(rightTableTabName =>\r\n            data[1][rightTableTabName].map((rightTableItem, index) =>\r\n                Object.keys(data[0]).map(leftTableTabName =>\r\n                (data[1][rightTableTabName][index][`${leftTableTabName}_sum`] = data[0][leftTableTabName].filter(leftTableItem =>\r\n                    rightTableItem[`fk_${rightTableTabName}_id`] === leftTableItem[`fk_${rightTableTabName}_id`]\r\n                ).length))\r\n            )\r\n        )\r\n\r\n        this.allReceptionBasket = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTableReceptionBasket(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableReceptionBasket(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredReceptionBasket = (body) => {\r\n        this.setAllReceptionBasket(null);\r\n        Fetch.Post('reception_basket', body)\r\n            .then(res => this.setAllReceptionBasket(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchReceptionBasketFilters = async () => {\r\n        return await Fetch.Get('reception_basket_filters')\r\n            .then(res => this.setReceptionBasketFilters(res))\r\n            .then(() => {\r\n                this.fetchGeneralLists();\r\n                this.fetchBankAccount();\r\n                this.fetchTrendCoordinator();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchEditIncome = async (id, body) => {\r\n        return await Fetch.Put(`income/${id}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteIncome = async (id, body) => {\r\n        return await Fetch.Delete(`income${id ? `/${id}` : ''}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPrint = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allReceptionBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n\r\n        if (!(onlyShown && body.length === 0)) {\r\n            return await Fetch.Post('income/print_payment', body, true)\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new ReceptionBasketStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PeriodicReceptionStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allPeriodicReception = null;\r\n    leftTablePeriodicReception = Array(10).fill('');\r\n    rightTablePeriodicReception = Array(10).fill('');\r\n    periodicReceptionFilters = [];\r\n    periodicReceptionFiltersToSend = { pr_filters: [] };\r\n    periodicReceptionFiltersDateToSend = {\r\n        pr_filters: [{ name: 'periodic_reception_create_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }]\r\n    };\r\n    periodicReceptionFiltersDateSelectedOption = [];\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n    checkIncome = true;\r\n    checkExpense = true;\r\n\r\n    changeCheckBox = (input, value) => {\r\n        if (input === 'income') this.checkIncome = value;\r\n        else if (input === 'expense') this.checkExpense = value;\r\n        this.leftTableSearch = '';\r\n        this.setLeftTablePeriodicReception(this.allPeriodicReception[0], true);\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTablePeriodicReception = this.rightTablePeriodicReception.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTablePeriodicReception.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTablePeriodicReception[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTablePeriodicReception = newRightTablePeriodicReception;\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allPeriodicReception[0] : this.leftTablePeriodicReception;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`reception_${this.selectedRightTableTab}_id`] ? rightItem[`reception_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTablePeriodicReception(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTablePeriodicReception(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTablePeriodicReception.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allPeriodicReception[tableIndex]).filter(search => search.identity?.includes(value) ||\r\n                search.heb_attribution?.includes(value) || search.full_name?.toLowerCase()?.includes(value.toLowerCase()) ||\r\n                search.payment_status?.includes(value) || search.amount?.toString()?.includes(value) || search.payment_method?.includes(value) ||\r\n                (search.for_month?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.printing_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.reception_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value));\r\n            this.setLeftTablePeriodicReception(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allPeriodicReception[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name?.toLowerCase()?.includes(value.toLowerCase()) || search.balance?.toString()?.includes(value) ||\r\n                search.balance_total?.toString()?.includes(value));\r\n            this.setRightTablePeriodicReception(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTablePeriodicReception((this.allPeriodicReception[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setPeriodicReceptionFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.periodicReceptionFiltersToSend = { pr_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.periodicReceptionFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.periodicReceptionFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.periodicReceptionFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.periodicReceptionFiltersToSend[filters.name] = [...this.periodicReceptionFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.periodicReceptionFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setPeriodicReceptionFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.periodicReceptionFiltersDateSelectedOption;\r\n        let existIndex = this.periodicReceptionFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.periodicReceptionFiltersDateToSend[selectedOption[2]].length;\r\n            this.periodicReceptionFiltersDateToSend[selectedOption[2]] = [...this.periodicReceptionFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' ?\r\n            this.periodicReceptionFiltersDateToSend = {\r\n                pr_filters: [{ name: 'periodic_reception_create_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n            } :\r\n            (this.periodicReceptionFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setPeriodicReceptionFiltersDateSelectedOption = (option) => {\r\n        this.periodicReceptionFiltersDateSelectedOption = option;\r\n        const exist = this.periodicReceptionFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setPeriodicReceptionFilters = (data) => {\r\n        this.periodicReceptionFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name && filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data[0].filters[0];\r\n        this.periodicReceptionFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTablePeriodicReception = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTablePeriodicReception = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTablePeriodicReception = (data, dontCheckRightTable) => {\r\n        data = data.filter(row => (this.checkIncome && row.amount >= 0) || (this.checkExpense && row.amount < 0))\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTablePeriodicReception = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllPeriodicReception = (data) => {\r\n        data && data.length > 0 && (data[0] = Object.keys(data[0]).map(key => data[0][key]).flat());\r\n        this.allPeriodicReception = data;\r\n        data && data.length > 0 && this.setLeftTablePeriodicReception(data[0]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTablePeriodicReception(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredPeriodicReception = (body) => {\r\n        body = {}; // need to check\r\n        this.setAllPeriodicReception(null);\r\n        Fetch.Post('periodic_reception_report', body)\r\n            .then(res => this.setAllPeriodicReception(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPeriodicReceptionFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('periodic_reception_filters')\r\n            .then(res => this.setPeriodicReceptionFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTablePeriodicReception.length).fill({ checked: false });\r\n    }\r\n}\r\n\r\nexport default new PeriodicReceptionStore();","import React from \"react\";\r\nimport  ReactDOM from \"react-dom\";\r\nimport PaymentReportStore from \"../../store/PaymentReportStore\";\r\n\r\nimport classes from './Modal.module.css'\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlays\");\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <>\r\n      {console.log('Modal')}\r\n      {ReactDOM.createPortal(<Backdrop onClose={props.onClose} />, portalElement)}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import * as React from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport {Paper} from \"@mui/material\";\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n  [`&.${tableCellClasses.head}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  [`&.${tableCellClasses.body}`]: {\r\n    fontSize: 14,\r\n  },\r\n}));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n  \"&:nth-of-type(odd)\": {\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  // hide last border\r\n  \"&:last-child td, &:last-child th\": {\r\n    border: 0,\r\n  },\r\n}));\r\n\r\nconst TableTemplate = (props) => {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{marginRight:'30px' , minWidth: 700 }} aria-label=\"customized table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            {props.Headers.map((field) => (\r\n              <StyledTableCell align=\"right\">{field}</StyledTableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {props.bodyCellData.map((rows) => {\r\n            const cellData = Object.values(rows);\r\n            return (\r\n              <StyledTableRow key={rows.error}>\r\n                {cellData.map((cell) => (\r\n                  <StyledTableCell align=\"right\">{cell}</StyledTableCell>\r\n                ))}\r\n              </StyledTableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport default TableTemplate;\r\n","import { borderRadius } from \"@mui/system\";\r\nimport React, { useEffect ,useState} from \"react\";\r\nimport TableTemplate from \"../UI/TableTemplate\";\r\n\r\n\r\nconst CSVFilePopup = (props) => {\r\n  console.log('CSVFilePopup');\r\n  const [headers,setHeaders]=useState([])\r\n\r\n\r\n  const {data}=props\r\n  console.log(data);\r\n  useEffect(()=>{\r\n    if(data.errors.length>0){\r\n      const tableTitles= Object.keys(data.errors[0])\r\n      setHeaders(tableTitles)\r\n\r\n    }\r\n\r\n  },[data])\r\n  const convertTableData=()=>{\r\n\r\n  }\r\n\r\n  return (\r\n    <div style={{direction: 'rtl',padding:'20px', backgroundColor: 'gray' ,borderRadius:'15px'}}>\r\n      <h3  style={{width:'100%', textAlign:'center'}}>{data.title}</h3>\r\n      <div  className=\"success\">\r\n        <label> :</label>\r\n        <p  style={{marginRight:'30px'}}>{data.success}</p>\r\n      </div>\r\n    \r\n      <div className=\"table\">\r\n        <label> :</label>\r\n        {headers?<TableTemplate Headers={headers} bodyCellData={data.errors} />:'0'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CSVFilePopup;\r\n","import React from \"react\";\r\nimport Store from '../../store/RootStore';\r\n\r\nimport Modal from \"../UI/Modal\";\r\nimport CSVFilePopup from \"./CSVFilePopup\";\r\nimport { Spin } from \"react-loading-io\";\r\n\r\nconst Popup = (props) => {\r\n  const { uploadCSVFile } = Store;\r\n\r\n  console.log('popuptem');\r\n  console.log(props.data);\r\n\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {uploadCSVFile.loader ? <div style={{ display: 'flex', justifyContent: 'center', alignContent:'center' }}>\r\n        <Spin size={150} color='rgba(0 0 0 / 0.7)' />\r\n      </div>:<div style={{ width:'100%', height:'90%', overflowY:'scroll',display: 'flex', gap: '25PX', alignContent:'center', flexDirection:'column' }}>\r\n      <div style={{ width:'20px' }}>\r\n      <button onClick={props.onClose}>Close</button>\r\n\r\n      </div>\r\n      {props.data.map((info) => {\r\n        if(!info.popup_results){\r\n          return props.downloadJson(true)\r\n        }\r\n        props.downloadJson(false)\r\n        return info.popup_results.map((index)=><CSVFilePopup key={index.name} data={index} />) \r\n      }\r\n      )}</div>}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useEffect,useState } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport SelectData from './SelectData';\r\nimport { Spin } from \"react-loading-io\";\r\nimport Store from '../../store/RootStore';\r\nimport PopupTemplate from '../popup/PopupTemplate'\r\nconst fileDownload = require('js-file-download');\r\n\r\n\r\n\r\nconst UploadCSVFile = (props) => {\r\n    const { uploadCSVFile } = Store;\r\n    const [uploadData,setUploadData]=useState(null)\r\n    const [popupIsShown,setPopupIsShown]=useState(false)\r\n    const [googleSheetsToogle,setGoogleSheetsToogle]=useState(false)\r\n    const [downloadJson,setDownloadJson]=useState(false)\r\n\r\n\r\n    const regexNumber = /^\\d+$/\r\n    useEffect(() => {\r\n        uploadCSVFile.callFetch();\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('useEffect');\r\n\r\n        if(downloadJson){\r\n        uploadCSVFile.sendData()\r\n            .then(res => {\r\n                console.log(downloadJson);\r\n\r\n                    const newBlob = new Blob([JSON.stringify(res)], { type: 'application/json' });\r\n                    const url = window.URL || window.webkitURL;\r\n                    const link = document.createElement('a');\r\n                    link.download = 'data.json';\r\n                    link.href = url.createObjectURL(newBlob);\r\n                    link.target = '_blank';\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                    document.body.removeChild(link);\r\n            })\r\n        }\r\n\r\n\r\n    \r\n    },[downloadJson])\r\n\r\n    const HandleUploadCSV = () => {\r\n        uploadCSVFile.sendData()\r\n            .then(res => {\r\n                const filteredData = res.filter(data=>data !==undefined)\r\n                console.log(filteredData);\r\n                setUploadData(filteredData)\r\n                if(!googleSheetsToogle){\r\n\r\n                    setPopupIsShown(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    const Title = ({ title, template_from }) => {\r\n        const HandleDownloadTemplate = () => {\r\n            uploadCSVFile.fetchDownloadTemplate(template_from)\r\n                .then(res => {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                })\r\n        }\r\n\r\n        return <div style={{ display: 'flex' }}>\r\n            <div style={{ fontSize: '1.1em', fontWeight: 'bolder' }}>{title}</div>\r\n            {template_from && <span style={{ marginRight: '10px', color: 'blue', cursor: 'pointer' }} onClick={HandleDownloadTemplate}>template</span>}\r\n        </div>\r\n    }\r\n\r\n\r\n    const Label = ({ setFile, file, update, setUpdate, googleSheetsToggle,googleSheets,name }) => {\r\n        console.log(update);\r\n        console.log(setUpdate);\r\n\r\n        return <div style={{ display: 'flex' }}>\r\n            <label style={{ display: 'flex', cursor:!googleSheets?'pointer':'not-allowed',  width: 'fit-content',backgroundColor:!googleSheets?'none':'#858282'  }}>\r\n                <input type='file' accept='.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel'\r\n                    style={{ display: 'none', backgroundColor:!googleSheets?'none':'#858282' }} disabled={uploadCSVFile.loader?uploadCSVFile.loader:googleSheets} cursor={!googleSheets?'pointer':'not-allowed'} value={e=> e.target.value} onClick={e => e.target.value=''} onChange={e => setFile(e.target.files[0] || null)} />\r\n                <div style={{ display: 'flex', alignItem: 'center', paddingRight: '5px', border: '1px solid black', width: '20em', marginLeft: '5px', overflow: 'hidden' }}>{file?.name}</div>\r\n                <div className='button paymentReportFiltersResetButton'\r\n                    style={{ padding: '0.2em 0.5em',backgroundColor:!googleSheets?'none':'#858282',cursor:!googleSheets?'pointer':'not-allowed', disabled:googleSheets} }>\r\n                    \r\n                </div>\r\n            </label>\r\n            <div style={{ display: 'flex', flexDirection:\"column\" }}>\r\n            <label style={{ display: 'flex', alignItems: 'center',  marginRight: '5px' }}>\r\n                <input type='checkbox' checked={!!update}  onChange={e => setUpdate && setUpdate(e.target.checked)} />\r\n                \r\n            </label>\r\n            <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', marginRight: '5px' }}>\r\n                <input type='checkbox'  name={name} checked={googleSheets}  onChange={e => googleSheetsToggle(e.target.checked)} />\r\n                Google Sheets\r\n            </label>\r\n\r\n            </div >\r\n        </div>\r\n    }\r\n\r\n    const hidePopupHandler =()=>{\r\n        setPopupIsShown(false)\r\n\r\n    }\r\n    return (\r\n        <Container title='   -   ' >\r\n            <div>\r\n                {(popupIsShown || uploadCSVFile.loader) && <PopupTemplate  onClose = {hidePopupHandler}  data={uploadData} downloadJson={setDownloadJson}/>  }\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                           \r\n                    <div>   - </div>\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <div style={{ width: '50%' }}>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='institution_bank_account' />\r\n                            <Label name='institution_bank_account' setFile={file => uploadCSVFile.setInstitutionBankAccount(file)} file={uploadCSVFile.institutionBankAccount} googleSheets={uploadCSVFile.googleSheetsInstitutionBankAccount} googleSheetsToggle={uploadCSVFile.setGoogleSheetsInstitutionBankAccount} update={uploadCSVFile.institutionBankAccountUpdate} setUpdate={uploadCSVFile.setInstitutionBankAccountUpdate}/>\r\n                            {uploadCSVFile.errorInstitutionBankAccount.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorInstitutionBankAccount}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='branch' />\r\n                            <Label name='branch' setFile={file => uploadCSVFile.setBranch(file)} file={uploadCSVFile.branch} googleSheetsToggle={uploadCSVFile.setGoogleSheetsBranch} googleSheets={uploadCSVFile.googleSheetsBranch} update={uploadCSVFile.branchUpdate} setUpdate={uploadCSVFile.setBranchUpdate}/>\r\n                            {uploadCSVFile.errorBranch.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorBranch}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='trend_coordinator' />\r\n                            <Label name='trend_coordinator' setFile={file => uploadCSVFile.setTrendCoordinator(file)} file={uploadCSVFile.trendCoordinator} googleSheetsToggle={uploadCSVFile.setGoogleSheetsTrendCoordinator} googleSheets={uploadCSVFile.googleSheetsTrendCoordinator} update={uploadCSVFile.trendCoordinatorUpdate} setUpdate={uploadCSVFile.setTrendCoordinatorUpdate} />\r\n                            {uploadCSVFile.errorTrendCoordinator.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorTrendCoordinator}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='course_enrollment_trend_coordinator_attribution' />\r\n                            <Label name='course_enrollment_trend_coordinator_attribution' setFile={file => uploadCSVFile.setCourseEnrollmentTrendCoordinatorAttribution(file)} file={uploadCSVFile.courseEnrollmentTrendCoordinatorAttribution} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution} googleSheets={uploadCSVFile.googleSheetsCourseEnrollmentTrendCoordinatorAttribution} update={uploadCSVFile.courseEnrollmentTrendCoordinatorAttributionUpdate} setUpdate={uploadCSVFile.setCourseEnrollmentTrendCoordinatorAttributionUpdate} />\r\n                            {uploadCSVFile.errorCourseEnrollmentTrendCoordinatorAttribution.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCourseEnrollmentTrendCoordinatorAttribution}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='student' />\r\n                            <Label name='student' setFile={file => uploadCSVFile.setStudents(file)} file={uploadCSVFile.students} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudents}   googleSheets={uploadCSVFile.googleSheetsStudents}  update={uploadCSVFile.studentsUpdate} setUpdate={uploadCSVFile.setStudentsUpdate}/>\r\n                            {uploadCSVFile.errorStudents.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudents}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='course_enrollment' />\r\n                            <Label name='course_enrollment' setFile={file => uploadCSVFile.setCourseEnrollment(file)} file={uploadCSVFile.courseEnrollment} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCourseEnrollment} googleSheets={uploadCSVFile.googleSheetsCourseEnrollment}  update={uploadCSVFile.courseEnrollmentUpdate} setUpdate={uploadCSVFile.setCourseEnrollmentUpdate}/>\r\n                            {uploadCSVFile.errorCourseEnrollment.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCourseEnrollment}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='supplier' />\r\n                            <Label name='supplier' setFile={file => uploadCSVFile.setSupplier(file)} file={uploadCSVFile.supplier} googleSheetsToggle={uploadCSVFile.setGoogleSheetsSupplier} googleSheets={uploadCSVFile.googleSheetsSupplier}  update={uploadCSVFile.supplierUpdate} setUpdate={uploadCSVFile.setSupplierUpdate}/>\r\n                            {uploadCSVFile.errorSupplier.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorSupplier}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='donator' />\r\n                            <Label name='donator' setFile={file => uploadCSVFile.setDonator(file)} file={uploadCSVFile.donator} googleSheetsToggle={uploadCSVFile.setGoogleSheetsDonator} googleSheets={uploadCSVFile.googleSheetsDonator}  update={uploadCSVFile.donatorUpdate} setUpdate={uploadCSVFile.setDonatorUpdate} />\r\n                            {uploadCSVFile.errorDonator.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorDonator}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='general_bank_account' />\r\n                            <SelectData titles={['']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.generalBanksAttribution} onChange={(e) => uploadCSVFile.setGeneralBanksAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='general_bank_account' setFile={file => uploadCSVFile.setGeneralBanks(file)} file={uploadCSVFile.generalBanks} googleSheetsToggle={uploadCSVFile.setGoogleSheetsGeneralBanks} googleSheets={uploadCSVFile.googleSheetsGeneralBanks}  update={uploadCSVFile.generalBanksUpdate} setUpdate={uploadCSVFile.setGeneralBanksUpdate}/>\r\n                            {uploadCSVFile.errorGeneralBanks.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorGeneralBanks}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='periodic_reception' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.periodicReceptionBankAccountNumber} onChange={(e) => uploadCSVFile.setPeriodicReceptionBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='periodic_reception' setFile={file => uploadCSVFile.setPeriodicReception(file)} file={uploadCSVFile.periodicReception} googleSheetsToggle={uploadCSVFile.setGoogleSheetsPeriodicReception} googleSheets={uploadCSVFile.googleSheetsPeriodicReception}  update={uploadCSVFile.periodicReceptionUpdate} setUpdate={uploadCSVFile.setPeriodicReceptionUpdate} />\r\n                            {uploadCSVFile.errorPeriodicReception.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorPeriodicReception}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='clearing_platform' />\r\n                            <SelectData titles={['']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.clearingPlatformTrendCoordinatorID} onChange={(e) => uploadCSVFile.setClearingPlatformTrendCoordinatorID(e.target.value)}>\r\n                                        <option key={''} value={''} />\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='clearing_platform' setFile={file => uploadCSVFile.setClearingPlatform(file)} file={uploadCSVFile.clearingPlatform} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearingPlatform} googleSheets={uploadCSVFile.googleSheetsClearingPlatform}  update={uploadCSVFile.clearingPlatformUpdate} setUpdate={uploadCSVFile.setClearingPlatformUpdate} />\r\n                            {uploadCSVFile.errorClearingPlatform.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearingPlatform}</div>}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '50%' }}>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='current_account' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.currentAccountBankAccountNumber} onChange={(e) => uploadCSVFile.setCurrentAccountBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='current_account' setFile={file => uploadCSVFile.setCurrentAccount(file)} file={uploadCSVFile.currentAccount} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCurrentAccount}  googleSheets={uploadCSVFile.googleSheetsCurrentAccount}  update={uploadCSVFile.currentAccountUpdate} setUpdate={uploadCSVFile.setCurrentAccountUpdate}/>\r\n                            {uploadCSVFile.errorCurrentAccount.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCurrentAccount}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='income'/>\r\n                            <SelectData titles={['  ', ' ', ' ', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesSourceID} onChange={(e) => uploadCSVFile.setStudentsIncomesSourceID(e.target.value)}>\r\n                                        {uploadCSVFile.incomeSource.map(income => <option key={income.id} value={income.id}>{income.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesMethod} onChange={(e) => uploadCSVFile.setStudentsIncomesMethod(e.target.value)}>\r\n                                        {uploadCSVFile.paymentMethods.map(payment => <option key={payment} value={payment}>{payment}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesBankAccountNumber} onChange={(e) => uploadCSVFile.setStudentsIncomesBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsPaymentStatus} onChange={(e) => uploadCSVFile.setStudentsPaymentStatus(e.target.value)}>\r\n                                        {uploadCSVFile.paymentStatus.map(status => <option key={status} value={status}>{status}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='income' setFile={file => uploadCSVFile.setStudentsIncomes(file)} file={uploadCSVFile.studentsIncomes} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentsIncomes} googleSheets={uploadCSVFile.googleSheetsStudentsIncomes}   update={uploadCSVFile.studentsIncomesUpdate} setUpdate={uploadCSVFile.setStudentsIncomesUpdate}/>\r\n                            {uploadCSVFile.errorStudentsIncomes.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentsIncomes}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='payment_failure' />\r\n                            <Label name='payment_failure' setFile={file => uploadCSVFile.setStudentsPaymentFailure(file)} file={uploadCSVFile.studentsPaymentFailure} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentsPaymentFailure} googleSheets={uploadCSVFile.googleSheetsStudentsPaymentFailure}  update={uploadCSVFile.studentsPaymentFailureUpdate} setUpdate={uploadCSVFile.setStudentsPaymentFailureUpdate} />\r\n                            {uploadCSVFile.errorStudentsPaymentFailure.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentsPaymentFailure}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='clearing' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.clearingPlatformID} onChange={(e) => uploadCSVFile.setClearingPlatformID(e.target.value)}>\r\n                                        {uploadCSVFile.platforms.map(platform => <option key={platform.id} value={platform.id}>{platform.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='clearing' setFile={file => uploadCSVFile.setClearing(file)} file={uploadCSVFile.clearing} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearing} googleSheets={uploadCSVFile.googleSheetsClearing}  update={uploadCSVFile.clearingUpdate} setUpdate={uploadCSVFile.setClearingUpdate}/>\r\n                            {uploadCSVFile.errorClearing.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearing}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='clearing_validation' />\r\n                            <Label name='clearing_validation'  setFile={file => uploadCSVFile.setClearingValidation(file)} file={uploadCSVFile.clearingValidation} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearingValidation} googleSheets={uploadCSVFile.googleSheetsClearingValidation}  update={uploadCSVFile.clearingValidationUpdate} setUpdate={uploadCSVFile.setClearingValidationUpdate} />\r\n                            {uploadCSVFile.errorClearingValidation.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearingValidation}</div>}\r\n                        </div>\r\n                        {/*   \" */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   - \"' template_from='msv' />\r\n                            <SelectData titles={['', ' ', ' ', ' ', '']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvAttribution} onChange={(e) => uploadCSVFile.setMsvAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvBankAccountNumber} onChange={(e) => uploadCSVFile.setMsvBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvForDate} onChange={e => uploadCSVFile.setMsvForDate(e.target.value)} />\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvSendingDate} onChange={e => uploadCSVFile.setMsvSendingDate(e.target.value)} />\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvTrendCoordinator} onChange={(e) => uploadCSVFile.setMsvTrendCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='msv' setFile={file => uploadCSVFile.setMSV(file)} file={uploadCSVFile.msv} googleSheetsToggle={uploadCSVFile.setGoogleSheetsMSV}  googleSheets={uploadCSVFile.googleSheetsMSV}  update={uploadCSVFile.msvUpdate} setUpdate={uploadCSVFile.setMsvUpdate} />\r\n                            {uploadCSVFile.errorMSV.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorMSV}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   - ' template_from='check' />\r\n                            <SelectData titles={['', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.checksAttribution} onChange={(e) => uploadCSVFile.setChecksAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.checksBankAccountNumber} onChange={(e) => uploadCSVFile.setChecksBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='check' setFile={file => uploadCSVFile.setChecks(file)} file={uploadCSVFile.checks} googleSheetsToggle={uploadCSVFile.setGoogleSheetsChecks} googleSheets={uploadCSVFile.googleSheetsChecks}  update={uploadCSVFile.checksUpdate} setUpdate={uploadCSVFile.setChecksUpdate}/>\r\n                            {uploadCSVFile.errorChecks.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorChecks}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' />\r\n                            <SelectData key='invoice' titles={['', '', '', ' ', '', ' ', '  ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceInstitutionBranchCoordinator} onChange={(e) => uploadCSVFile.setInvoiceInstitutionBranchCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.institutionBranchCoordinators.map(institution => <option key={institution.id} value={institution.identity}>{institution.identity} - {institution.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceTrendCoordinator} onChange={(e) => uploadCSVFile.setInvoiceTrendCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.name}>{trend.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceSupplier} onChange={(e) => uploadCSVFile.setInvoiceSupplier(e.target.value)}>\r\n                                        {uploadCSVFile.suppliers.map(supplier => <option key={supplier.id} value={supplier.identity}>{supplier.identity} - {supplier.name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceDate} onChange={e => uploadCSVFile.setInvoiceDate(e.target.value)} />\r\n                                    <input style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceSum}\r\n                                        onChange={e => regexNumber.test(e.target.value) && uploadCSVFile.setInvoiceSum(e.target.value || '0')} />\r\n                                    <input style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceNumber}\r\n                                        onChange={e => uploadCSVFile.setInvoiceNumber(e.target.value)} />\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceLastDate} onChange={e => uploadCSVFile.setInvoiceLastDate(e.target.value)} />\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='invoice' setFile={file => uploadCSVFile.setInvoice(file)} file={uploadCSVFile.invoice} googleSheetsToggle={uploadCSVFile.setGoogleSheetsInvoice} googleSheets={uploadCSVFile.googleSheetsInvoice}  update={uploadCSVFile.invoiceUpdate} setUpdate={uploadCSVFile.setInvoiceUpdate} />\r\n                            {uploadCSVFile.errorInvoice.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorInvoice}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='student_insurance' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentInsuranceBankAccountNumber} onChange={(e) => uploadCSVFile.setStudentInsuranceBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='student_insurance' setFile={file => uploadCSVFile.setStudentInsurance(file)} file={uploadCSVFile.studentInsurance} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentInsurance} googleSheets={uploadCSVFile.googleSheetsStudentInsurance}  update={uploadCSVFile.studentInsuranceUpdate} setUpdate={uploadCSVFile.setStudentsInsuranceUpdate}/>\r\n                            {uploadCSVFile.errorStudentInsurance.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentInsurance}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='expense_draft' />\r\n                            <SelectData titles={uploadCSVFile.expenseDraftAttribution === 'student' ?\r\n                                ['', ' ', '', ' ', ' ', ' '] :\r\n                                ['', ' ', '', ' ', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftAttribution} onChange={(e) => uploadCSVFile.setExpenseDraftAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftForMonth} onChange={e => uploadCSVFile.setExpenseDraftForMonth(e.target.value)} />\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftTrendCoordinator} onChange={(e) => uploadCSVFile.setExpenseDraftTrendCoordinator(e.target.value)}>\r\n                                        <option value=''>  ()</option>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftBankAccountNumber} onChange={(e) => uploadCSVFile.setExpenseDraftBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftPaymentMethod} onChange={(e) => uploadCSVFile.setExpenseDraftPaymentMethod(e.target.value)}>\r\n                                        <option value=''>   ()</option>\r\n                                        {uploadCSVFile.paymentMethods.map(payment => <option key={payment} value={payment}>{payment}</option>)}\r\n                                    </select>\r\n                                    {uploadCSVFile.expenseDraftAttribution === 'student' &&\r\n                                        <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftScholarshipType} onChange={(e) => uploadCSVFile.setExpenseDraftScholarshipType(e.target.value)}>\r\n                                            {uploadCSVFile.scholarshipTypes.map(type => <option key={type} value={type}>{type}</option>)}\r\n                                        </select>}\r\n                                </div>\r\n                            </SelectData>\r\n                            <div style={{ display: 'flex' }}>\r\n                                <Label name='expense_draft' setFile={file => uploadCSVFile.setExpenseDraft(file)} file={uploadCSVFile.expenseDraft} googleSheetsToggle={uploadCSVFile.setGoogleSheetsExpenseDraft} googleSheets={uploadCSVFile.googleSheetsExpenseDraft}  update={uploadCSVFile.expenseDraftFixedUpdate} setUpdate={uploadCSVFile.setExpenseDraftFixedUpdate}/>\r\n                                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', marginRight: '5px' }}>\r\n                                    <input type='checkbox' checked={uploadCSVFile.expenseDraftFixed} onChange={e => uploadCSVFile.setExpenseDraftFixed(e.target.checked)} />\r\n                                    fixed\r\n                                </label>\r\n                            </div>\r\n\r\n                            {uploadCSVFile.errorExpenseDraft.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorExpenseDraft}</div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start', width: 'fit-content', margin: '2em auto 0' }}>\r\n                    <input disabled={uploadCSVFile.loader} className='button' type='button' value='' style={{ padding: '0.2em 0.5em', fontSize: '1.1em' }} onClick={HandleUploadCSV} />\r\n                </div>\r\n\r\n            </div>\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default observer(UploadCSVFile);","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TopDetails = (props) => {\r\n    const { student, balance, branch, coordinator, allowEdit } = props;\r\n\r\n    // #region new Change\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newStudent, setNewStudent] = useState(null);\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newBranch, setNewBranch] = useState(null);\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newCoordinator, setNewCoordinator] = useState(null);\r\n    // #endregion\r\n\r\n    // const [change, setChange] = useState(0);\r\n\r\n    useEffect(() => {\r\n        setNewStudent(student);\r\n        setNewBranch(branch);\r\n        setNewCoordinator(coordinator);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    // #region Edit Student Details\r\n    // const [studentName, setStudentName] = useState(false);\r\n    const [studentFirstName, setStudentFirstName] = useState(false);\r\n    const [studentLastName, setStudentLastName] = useState(false);\r\n    const [studentID, setStudentID] = useState(false);\r\n    const [studentIdType, setStudentIdType] = useState(false);\r\n    const [studentPhone, setStudentPhone] = useState(false);\r\n    const [studentAnotherPhone, setStudentAnotherPhone] = useState(false);\r\n    const [studentCountry, setStudentCountry] = useState(false);\r\n    const [studentAddress, setStudentAddress] = useState(false);\r\n    const [studentBirthDate, setStudentBirthDate] = useState(false);\r\n    // #endregion\r\n\r\n    // #region Edit Course Details\r\n    const [branchInstitution, setBranchInstitution] = useState(false);\r\n    const [branchSymbol, setBranchSymbol] = useState(false);\r\n    const [coordinatorName, setCoordinatorName] = useState(false);\r\n    const [studentCourseType, setStudentCourseType] = useState(false);\r\n    const [studentEligibilityLevel, setStudentEligibilityLevel] = useState(false);\r\n    const [studentStartDate, setStudentStartDate] = useState(false);\r\n    const [studentEndDate, setStudentEndDate] = useState(false);\r\n    // #endregion\r\n\r\n    // #region Edit Bank Details\r\n    // const [studentBank, setStudentBank] = useState(false);\r\n    const [studentBankBankNumber, setStudentBankBankNumber] = useState(false);\r\n    const [studentBankBranchNumber, setStudentBankBranchNumber] = useState(false);\r\n    const [studentBankAccountNumber, setStudentBankAccountNumber] = useState(false);\r\n    // const [studentBankAnother, setStudentBankAnother] = useState(false);\r\n    const [studentBankAnotherBankNumber, setStudentBankAnotherBankNumber] = useState(false);\r\n    const [studentBankAnotherBranchNumber, setStudentBankAnotherBranchNumber] = useState(false);\r\n    const [studentBankAnotherAccountNumber, setStudentBankAnotherAccountNumber] = useState(false);\r\n    const [studentPaymentMethod, setStudentPaymentMethod] = useState(false);\r\n    // #endregion\r\n\r\n    const DetailContainer = (props) => {\r\n        return <div style={{ position: 'relative', border: '1px solid black', width: '22%' }}>\r\n            <div style={{ marginTop: '9px', marginBottom: '3px', marginRight: '3px' }}>\r\n                {props.children}\r\n            </div>\r\n            <div style={{ position: 'absolute', border: '1px solid black', backgroundColor: '#fff', left: '-1em', top: '-1em', ...props.titleStyle }}>{props.title}</div>\r\n        </div>\r\n    }\r\n\r\n    const HandleOnChange = (e, target, param, date, moreParam, changeAll, index) => {\r\n        const value = date ? new Date(e.target.value).toISOString() : e.target.value;\r\n        // const value = date ? e.target.value.split('-').reverse().join('/') : e.target.value;\r\n        const splitParams = param.split('.');\r\n\r\n        splitParams[0] === 'bank' && student.bank.length === 0 && setNewStudent(student[splitParams[0]] = new Array(2).fill({ bank_number: '', branch_number: '', account_number: '' }));\r\n\r\n        target === 'student' && setNewStudent(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? student[splitParams[0]][index - 1][splitParams[1]] = value : student[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? student[splitParams[0]][index - 1] = value : student[splitParams[0]] = value));\r\n        target === 'branch' && setNewBranch(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? branch[splitParams[0]][index - 1][splitParams[1]] = value : branch[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? branch[splitParams[0]][index - 1] = value : branch[splitParams[0]] = value));\r\n        target === 'coordinator' && setNewCoordinator(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? coordinator[splitParams[0]][index - 1][splitParams[1]] = value : coordinator[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? coordinator[splitParams[0]][index - 1] = value : coordinator[splitParams[0]] = value));\r\n\r\n        props.onChange(target, splitParams, value, changeAll, index);\r\n        moreParam && moreParam.map(change => props.onChange(change['target'], change['param'].split('.'),\r\n            (date ? change['value'].split('-').reverse().join('/') : change['value'])));\r\n    }\r\n\r\n    // const HandleBankDetails = (index) => {\r\n    //     return <div style={{ display: 'flex' }}>\r\n    //         <input onClick={() => setChange(1)} autoFocus={change === 1} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='5' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].bank_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, index + 1)} />\r\n    //         <input onClick={() => setChange(2)} autoFocus={change === 2} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='5' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].branch_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, index + 1)} />\r\n    //         <input onClick={() => setChange(3)} autoFocus={change === 3} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='15' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].account_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, index + 1)} />\r\n    //     </div>\r\n    // }\r\n\r\n    return (\r\n        <div className='studentDetails'>\r\n            <DetailContainer title=' ' titleStyle={{ left: '35%' }}>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentName(true)} onBlur={() => setStudentName(false)}>\r\n                    : {student && (studentName ? <div style={{ display: 'flex' }}>\r\n                        <input onClick={() => setChange(1)} autoFocus={change === 1} onBlur={() => setChange(0)} type='text'\r\n                            placeholder='' value={student.first_name || ''} onChange={e => HandleOnChange(e, 'student', 'first_name')} />\r\n                        <input onClick={() => setChange(2)} autoFocus={change === 2} onBlur={() => setChange(0)} type='text'\r\n                            placeholder='' value={student.last_name || ''} onChange={e => HandleOnChange(e, 'student', 'last_name')} />\r\n                    </div> : `${student.first_name} ${student.last_name}`)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentFirstName(true)} onBlur={() => setStudentFirstName(false)}>\r\n                     : {student && (studentFirstName ? <input autoFocus type='text' value={student.first_name || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'first_name')} /> : student.first_name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentLastName(true)} onBlur={() => setStudentLastName(false)}>\r\n                     : {student && (studentLastName ? <input autoFocus type='text' value={student.last_name || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'last_name')} /> : student.last_name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentID(true)} onBlur={() => setStudentID(false)}>\r\n                     : {student && (studentID ? <input autoFocus type='text' value={student.identity || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'identity')} /> : student.identity)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentIdType(true)} onBlur={() => setStudentIdType(false)}>\r\n                     : {student && (studentIdType ? <input autoFocus type='text' value={student.identity_type || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'identity_type')} /> : student.identity_type)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentPhone(true)} onBlur={() => setStudentPhone(false)}>\r\n                    : {student && (studentPhone ? <input autoFocus type='text' value={student.main_phone_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'main_phone_number')} /> : student.main_phone_number)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentAnotherPhone(true)} onBlur={() => setStudentAnotherPhone(false)}>\r\n                     : {student && (studentAnotherPhone ? <input autoFocus type='text' value={student.secondary_phone_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'secondary_phone_number')} /> : student.secondary_phone_number)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentCountry(true)} onBlur={() => setStudentCountry(false)}>\r\n                    : {student && (studentCountry ? <input autoFocus type='text' value={student.state || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'state')} /> : student.state)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentAddress(true)} onBlur={() => setStudentAddress(false)}>\r\n                    : {student && (studentAddress ? <input autoFocus type='text' value={student.address || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'address')} /> : student.address)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBirthDate(true)} onBlur={() => setStudentBirthDate(false)}>\r\n                     : {student && (studentBirthDate ? <input autoFocus type='date' value={(student.birth_date && student.birth_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'birth_date', true)} /> : student.birth_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title=' ' titleStyle={{ left: '35%' }}>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setBranchInstitution(true)} onBlur={() => setBranchInstitution(false)}>\r\n                    : {branch && branch.institution && (branchInstitution ? <select autoFocus value={branch.institution.identity || ''}\r\n                        onChange={e => HandleOnChange(e, 'branch', 'institution.identity', false,\r\n                            [{ target: 'branch', param: 'institution.name', value: props.institutionBranchCoordinator[e.target.value]['name'] },\r\n                            { target: 'branch', param: 'symbol', value: Object.keys(props.institutionBranchCoordinator[e.target.value]['branches'])[0] }])}>\r\n                        {props.institutionBranchCoordinator && Object.values(props.institutionBranchCoordinator).map(res =>\r\n                            <option key={res.identity} value={res.identity}>{`${res.name} - ${res.identity}`}</option>)}\r\n                    </select>\r\n                        : `${branch.institution.name} ${branch.institution.identity}`)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setBranchSymbol(true)} onBlur={() => setBranchSymbol(false)}>\r\n                    : {branch && (branchSymbol ? <select autoFocus value={branch.symbol || ''}\r\n                        onChange={e => HandleOnChange(e, 'branch', 'symbol')}>\r\n                        {props.institutionBranchCoordinator && branch.institution && branch.institution.identity &&\r\n                            Object.keys(props.institutionBranchCoordinator[branch.institution.identity]['branches']).map(res =>\r\n                                <option key={res} value={res}>{res}</option>)}\r\n                    </select> : branch.symbol)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setCoordinatorName(true)} onBlur={() => setCoordinatorName(false)}>\r\n                     : {coordinator && (coordinatorName ? <select autoFocus value={coordinator.id || ''}\r\n                        onChange={e => HandleOnChange(e, 'coordinator', 'id', false,\r\n                            [{ target: 'student', param: 'fk_trend_coordinator_id', value: parseInt(e.target.value) }],\r\n                            props.trendCoordinator.find(res => res.id === parseInt(e.target.value)))} >\r\n                        {props.trendCoordinator && props.trendCoordinator.map(res =>\r\n                            <option key={res.id} value={res.id}>{res.name}</option>)} </select> : coordinator.name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentCourseType(true)} onBlur={() => setStudentCourseType(false)}>\r\n                    : {student && props.generalLists && (studentCourseType ? <select autoFocus value={student.course_type || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'course_type')} >\r\n                        {props.generalLists.course_types && Object.keys(props.generalLists.course_types).map(res =>\r\n                            <option key={res} value={res}>{props.generalLists.course_types[res]}</option>)}\r\n                    </select> : props.generalLists.course_types[student.course_type])}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentEligibilityLevel(true)} onBlur={() => setStudentEligibilityLevel(false)}>\r\n                     : {student && (studentEligibilityLevel ? <input autoFocus type='text' value={student.eligibility_level || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'eligibility_level')} /> : student.eligibility_level)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentStartDate(true)} onBlur={() => setStudentStartDate(false)}>\r\n                     : {student && (studentStartDate ? <input autoFocus type='date' value={(student.start_date && student.start_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'start_date', true)} /> : student.start_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentEndDate(true)} onBlur={() => setStudentEndDate(false)}>\r\n                     : {student && (studentEndDate ? <input autoFocus type='date' value={(student.end_date && student.end_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'end_date', true)} /> : student.end_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title=' ' titleStyle={{ left: '45%' }}>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentBank(true)} onBlur={() => setStudentBank(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ?\r\n                        (studentBank ? HandleBankDetails(0) :\r\n                            `${student.bank[0].bank_number}, ${student.bank[0].branch_number}, ${student.bank[0].account_number}`) :\r\n                        studentBank && HandleBankDetails(0)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankBankNumber(true)} onBlur={() => setStudentBankBankNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankBankNumber ? <input autoFocus type='text' value={student.bank[0]?.bank_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 1)} /> : student.bank[0]?.bank_number) :\r\n                        studentBankBankNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.bank_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 1)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankBranchNumber(true)} onBlur={() => setStudentBankBranchNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankBranchNumber ? <input autoFocus type='text' value={student.bank[0]?.branch_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 1)} /> : student.bank[0]?.branch_number) :\r\n                        studentBankBranchNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.branch_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 1)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAccountNumber(true)} onBlur={() => setStudentBankAccountNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankAccountNumber ? <input autoFocus type='text' value={student.bank[0]?.account_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 1)} /> : student.bank[0]?.account_number) :\r\n                        studentBankAccountNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.account_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 1)} />}</div>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnother(true)} onBlur={() => setStudentBankAnother(false)}>\r\n                     : {student && student.bank && student.bank.length > 1 ?\r\n                        (studentBankAnother ? HandleBankDetails(1) :\r\n                            `${student.bank[1].bank_number}, ${student.bank[1].branch_number}, ${student.bank[1].account_number}`) :\r\n                        studentBankAnother && HandleBankDetails(1)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherBankNumber(true)} onBlur={() => setStudentBankAnotherBankNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherBankNumber ? <input autoFocus type='text' value={student.bank[1]?.bank_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 2)} /> : student.bank[1]?.bank_number) :\r\n                        studentBankAnotherBankNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.bank_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherBranchNumber(true)} onBlur={() => setStudentBankAnotherBranchNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherBranchNumber ? <input autoFocus type='text' value={student.bank[1].branch_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 2)} /> : student.bank[1]?.branch_number) :\r\n                        studentBankAnotherBranchNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.branch_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherAccountNumber(true)} onBlur={() => setStudentBankAnotherAccountNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherAccountNumber ? <input autoFocus type='text' value={student.bank[1]?.account_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 2)} /> : student.bank[1]?.account_number) :\r\n                        studentBankAnotherAccountNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.account_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentPaymentMethod(true)} onBlur={() => setStudentPaymentMethod(false)}>\r\n                      : {student && props.generalLists && (studentPaymentMethod ? <select autoFocus value={student.payment_method || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'payment_method')} >\r\n                        {props.generalLists.expense_payment_methods && Object.keys(props.generalLists.expense_payment_methods).map(res =>\r\n                            <option key={res} value={res}>{props.generalLists.expense_payment_methods[res]}</option>)}\r\n                    </select> : props.generalLists.expense_payment_methods[student.payment_method])}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title='' titleStyle={{ left: '40%' }}>\r\n                <div> : {balance ? (balance.yearly_income >= 0 ? balance.yearly_income : `${Math.abs(balance.yearly_income)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.yearly_expense >= 0 ? balance.yearly_expense : `${Math.abs(balance.yearly_expense)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.monthly_balance >= 0 ? balance.monthly_balance : `${Math.abs(balance.monthly_balance)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.yearly_balance >= 0 ? balance.yearly_balance : `${Math.abs(balance.yearly_balance)}-`) : 0}</div>\r\n                <div> : { }</div>\r\n                <div>  : { }</div>\r\n                <div>  : { }</div>\r\n            </DetailContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nTopDetails.propTypes = {\r\n    student: PropTypes.any,\r\n    balance: PropTypes.any,\r\n    branch: PropTypes.any,\r\n    coordinator: PropTypes.any,\r\n    onChange: PropTypes.func,\r\n}\r\n\r\nexport default TopDetails;","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Container from '../containers/Container';\r\nimport TopDetails from './TopDetails';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/student/StudentDetails.css';\r\n\r\nconst StudentProfile = (props) => {\r\n    const history = useHistory();\r\n    const { studentStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem('student_id')) {\r\n            studentStore.fetchStudentById(sessionStorage.getItem('student_id'))\r\n        }\r\n        else {\r\n            sessionStorage.setItem('route', '/finance-report');\r\n            history.push('/finance-report');\r\n        }\r\n\r\n        return () => {\r\n            studentStore.resetDetails();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n        e.currentTarget.classList.add('selectedTab');\r\n        studentStore.setSelectedTableTab(tab);\r\n    }\r\n\r\n    const HandleEditStudent = () => {\r\n        studentStore.fetchSaveStudentDetails();\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' goBack childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <TopDetails\r\n                allowEdit={studentStore.tableData !== null}\r\n                student={studentStore.studentDetails}\r\n                balance={studentStore.studentBalanceDetails}\r\n                branch={studentStore.branchDetails}\r\n                coordinator={studentStore.coordinatorDetails}\r\n                institutionBranchCoordinator={studentStore.institutionBranchCoordinator}\r\n                trendCoordinator={studentStore.trendCoordinator}\r\n                generalLists={studentStore.generalLists}\r\n                onChange={(target, param, value, changeAll, index) => studentStore.changeSelectedData(target, param, value, changeAll, index)} />\r\n            <div style={{ display: 'flex', width: 'fit-content', marginRight: '20px' }}>\r\n                <input className='button' type='button' value=' ' style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => { }} />\r\n                <input className='button' type='button' value=' ' style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => { }} />\r\n                <input className='button' type='button' value='' disabled={!studentStore.editStudent} style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={HandleEditStudent} />\r\n                <input className='button' type='button' value='' title={studentStore.studentDetails?.deleted && '  '} disabled={studentStore.studentDetails?.deleted} style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => studentStore.fetchDeleteStudent()} />\r\n            </div>\r\n            <Table header={studentStore.selectedTableTab === 'course_enrollments' ?\r\n                ['  ', '  ', ' ', ' - ', ' ', ' ', ' ', ' ', ' ', '  ', '  '] :\r\n                ['', '', '', ' ', '', '']}\r\n                data={studentStore.tableData || []}\r\n                style={{ hight: '100%' }}\r\n                tableStyle={{ width: '100%' }}>\r\n                <div style={{ position: 'absolute', display: 'flex', left: '1em', top: '-2.4em' }}>\r\n                    <div className='studentDetailsTableTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.studentDetailsTableTab')}></div>\r\n                    <div className='studentDetailsTableTab' onClick={e => HandleSelectedTableTab(e, 'course_enrollments', 0, '.studentDetailsTableTab')}> </div>\r\n                    <div className='studentDetailsTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'payments', 0, '.studentDetailsTableTab')}></div>\r\n                </div>\r\n                {!studentStore.tableData && <div className='studentDetailsTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n            </Table>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentProfile));","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { MdClose, MdNavigateBefore, MdNavigateNext } from 'react-icons/md';\r\nimport { BiShekel } from 'react-icons/bi';\r\nimport { Spin } from \"react-loading-io\";\r\n\r\nconst MakeLinkPopUp = (props) => {\r\n    const { bankAccountStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        const makeLinkIndex = bankAccountStore.leftTableBankAccount.findIndex(makeLink => makeLink === bankAccountStore.makeLink);\r\n        bankAccountStore.setIndex(makeLinkIndex);\r\n\r\n        const rightBankAccount = bankAccountStore.rightTableBankAccount.find(bankAccount => bankAccount.id === bankAccountStore.makeLink.fk_bank_account_id);\r\n        bankAccountStore.setRightBankAccount(rightBankAccount);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [bankAccountStore.makeLink])\r\n\r\n    const HandleClose = () => {\r\n        if (!bankAccountStore.loader) {\r\n            bankAccountStore.setMakeLink(null);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const HandleNext = () => {\r\n        if (!bankAccountStore.loader && !!bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1]) {\r\n            bankAccountStore.setMakeLink(bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1]);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const HandlePrev = () => {\r\n        if (!bankAccountStore.loader && bankAccountStore.index > 0) {\r\n            bankAccountStore.setMakeLink(bankAccountStore.leftTableBankAccount[bankAccountStore.index - 1]);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const ClearData = () => {\r\n        bankAccountStore.setTrendCoordinator(null);\r\n        bankAccountStore.setStudent(null);\r\n        bankAccountStore.setSupplier(null);\r\n        bankAccountStore.setMSV(null);\r\n        bankAccountStore.setComment(null);\r\n    }\r\n\r\n    const ShowIncomeExpenseDetails = () => {\r\n\r\n        const bank_account = bankAccountStore.makeLink.bank_account.length > 0 && bankAccountStore.makeLink.bank_account[0];\r\n        const donator = bankAccountStore.ownDonator\r\n        return bankAccountStore.makeLink.bank_account.length > 0 && <div>\r\n            <div>{`  : ${bank_account.username} |  : ${bank_account.branch_number} |  : ${bank_account.account_number} |  :  ${bank_account.bank_number}`}</div>\r\n            {donator && <div>{`  : ${donator.first_name} ${donator.last_name} |  : ${donator.billing_name} | .: ${donator.identity}`}</div>}\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div id='popupContainer'>\r\n            <div className='makeLinkPopup' >\r\n                <div className='makeLinkPopup__close' >\r\n                    <MdClose size='1em' style={{ cursor: 'pointer' }} onClick={HandleClose} />\r\n                </div>\r\n                <div className='makeLinkPopup__header' >\r\n                    <div className='makeLinkPopup__header__newAccount' onClick={HandlePrev} style={{ cursor: bankAccountStore.index === 0 ? 'not-allowed' : 'pointer', opacity: bankAccountStore.index === 0 && '0.4' }}>\r\n                        <MdNavigateNext size='2em' /> \r\n                    </div>\r\n                    <div style={{ textDecoration: 'underline' }}>{bankAccountStore.rightBankAccount && `${bankAccountStore.rightBankAccount.institution_name},  : ${bankAccountStore.rightBankAccount.account_number}`}</div>\r\n                    <div className='makeLinkPopup__header__newAccount' onClick={HandleNext} style={{ cursor: !bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1] ? 'not-allowed' : 'pointer', opacity: !bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1] && '0.4' }}>\r\n                         <MdNavigateBefore size='2em' />\r\n                    </div>\r\n                </div>\r\n                <div className='makeLinkPopup__details' >\r\n                    <div>{bankAccountStore.makeLink.date.slice(0, 10).split('-').reverse().join('/')}</div>\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <div>: {bankAccountStore.makeLink.transaction_description}</div>\r\n                        <div>: {bankAccountStore.makeLink.reference_number}</div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}><BiShekel size='1.1em' />{Math.abs(bankAccountStore.makeLink.transaction_amount)}{bankAccountStore.makeLink.transaction_amount < 0 ? '-' : ''}</div>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\r\n                    <ShowIncomeExpenseDetails />\r\n                </div>\r\n                <div className='makeLinkPopup__form' >\r\n\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label' ></div>\r\n                        <div>\r\n                            <datalist id='donator-list' style={{ fontSize: '0.5em' }} >\r\n                                {bankAccountStore.allDonators.map(donator =>\r\n                                    <option key={donator.id} value={`${donator.first_name} ${donator.last_name} - ${donator.identity}`} style={{ fontSize: '0.5em' }} />)}\r\n                            </datalist>\r\n                            <input list='donator-list' className='makeLinkPopup__listInput' disabled={!bankAccountStore.makeLink.is_linked} placeholder=' '\r\n                                value={bankAccountStore.donator || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setDonator(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label' ></div>\r\n                        <div>\r\n                            <datalist id='trends-list' style={{ fontSize: '0.5em' }} >\r\n                                {bankAccountStore.allTrendCoordinator.map(trend =>\r\n                                    <option key={trend.id} value={`${trend.name} - ${trend.id}`} style={{ fontSize: '0.5em' }} />)}\r\n                            </datalist>\r\n                            <input list='trends-list' className='makeLinkPopup__listInput' disabled={!bankAccountStore.makeLink.is_linked} placeholder=' '\r\n                                value={bankAccountStore.trendCoordinator?.split(' - ')[0] || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setTrendCoordinator(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'></div>\r\n                        <div>\r\n                            <datalist id='students-list'>\r\n                                {bankAccountStore.allStudents.map(student =>\r\n                                    <option key={student.id} value={`${student.first_name} ${student.last_name} - ${student.identity}`} />)}\r\n                            </datalist>\r\n                            <input list='students-list' readOnly={bankAccountStore.allStudents?.length === 0} disabled={!bankAccountStore.makeLink.is_linked || bankAccountStore.existMsv || bankAccountStore.existSupplier} placeholder=' '\r\n                                className='makeLinkPopup__listInput' value={bankAccountStore.student || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setStudent(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'></div>\r\n                        <div>\r\n                            <datalist id='supplier-list'>\r\n                                {bankAccountStore.allSuppliers.map(supplier =>\r\n                                    <option key={supplier.id} value={`${supplier.name} - ${supplier.identity}`} />)}\r\n                            </datalist>\r\n                            <input list='supplier-list' readOnly={bankAccountStore.allSuppliers?.length === 0} disabled={!bankAccountStore.makeLink.is_linked || bankAccountStore.existMsv || bankAccountStore.existStudent} placeholder=' '\r\n                                className='makeLinkPopup__listInput' value={bankAccountStore.supplier || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setSupplier(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'> \"</div>\r\n                        <div>\r\n                            <datalist id='msv-list'>\r\n                                {bankAccountStore.allMSV && bankAccountStore.allMSV.map(msv =>\r\n                                    <option key={msv.id} value={`${msv.amount} - ${msv.date} - ${msv.id}`} />)}\r\n                            </datalist>\r\n                            <input list='msv-list' readOnly={bankAccountStore.allMSV?.length === 0} placeholder='  \"' className='makeLinkPopup__listInput' disabled={bankAccountStore.existStudent || bankAccountStore.existSupplier}\r\n                                value={bankAccountStore.msv?.split(' - ')[0] || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setMSV(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {!bankAccountStore.makeLink.is_linked && <div style={{ textAlign: 'center' }}> \" \"       ,     ,   .</div>}\r\n                {(bankAccountStore.existMsv || bankAccountStore.existStudent || bankAccountStore.existSupplier) && <div style={{ textAlign: 'center' }}>  {(bankAccountStore.existMsv && '\"') || (bankAccountStore.existStudent && '') || (bankAccountStore.existSupplier && '')},       {(bankAccountStore.existMsv && '  ') || (bankAccountStore.existStudent && '  \"') || (bankAccountStore.existSupplier && '  ')}.    \"     </div>}\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly', alignItems: 'center', marginTop: '50px' }}>\r\n                    <textarea style={{ resize: 'none', width: '60%', height: '35vh' }} placeholder=' ' value={bankAccountStore.comment || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setComment(e.target.value)}>\r\n\r\n                    </textarea>\r\n                    <div className='makeLinkPopup__button__container' >\r\n                        <div className='button makeLinkPopup__button' style={{ visibility: 'hidden' }}> </div>\r\n                        <div className='button makeLinkPopup__button' style={{ marginTop: '20px' }} onClick={() => !bankAccountStore.loader && bankAccountStore.fetchSave()}></div>\r\n                    </div>\r\n                </div>\r\n                {bankAccountStore.loader && <div className='makeLinkPopup__loader' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(MakeLinkPopUp));","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport MakeLink from './MakeLinkPopUp';\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst BankAccount = (props) => {\r\n    const { bankAccountStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        bankAccountStore.fetchBankAccount();\r\n        bankAccountStore.fetchCurrentAccount();\r\n        bankAccountStore.fetchTrendCoordinator();\r\n        bankAccountStore.fetchStudens();\r\n        bankAccountStore.fetchSuppliers();\r\n        bankAccountStore.fetchDonators();\r\n\r\n        return () => {\r\n            bankAccountStore.setDateFromTo('', '');\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        ((bankAccountStore.allBankAccount && tableIndex === 1) || (bankAccountStore.allCurrentAccount && tableIndex === 0)) &&\r\n            bankAccountStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleChangeCheckBox = (e, position) => {\r\n        e && position ? bankAccountStore.changeCheckBoxFilter(e.target.checked, position) :\r\n            Object.keys(bankAccountStore.checkBoxFilter).map(key => bankAccountStore.changeCheckBoxFilter(true, key));\r\n    }\r\n\r\n    return (\r\n        <Container title='  -  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div style={{ marginLeft: '10px', whiteSpace: 'nowrap' }}> :</div>\r\n                <input type='date' value={bankAccountStore.dateFrom} style={{ fontSize: '1em', marginLeft: '10px' }} onChange={e => bankAccountStore.setDateFromTo(e.target.value)} />\r\n                <input type='date' value={bankAccountStore.dateTo} style={{ fontSize: '1em', marginLeft: '10px' }} onChange={e => bankAccountStore.setDateFromTo(null, e.target.value)} />\r\n                <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer', marginLeft: '10px' }} onClick={() => bankAccountStore.setDateFromTo('', '')}></div>\r\n                <div className='button' onClick={() => bankAccountStore.allCurrentAccount && bankAccountStore.fetchCurrentAccount()}\r\n                    style={{ display: 'flex', padding: '0.2em 1em' }} >\r\n                    <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                    \r\n                </div>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }}>\r\n                <label style={{ cursor: 'pointer' }}>\r\n                    <input className='checkboxFinanceReportFilter' type='checkbox'\r\n                        checked={bankAccountStore.checkBoxFilter.linked} onChange={e => HandleChangeCheckBox(e, 'linked')} />\r\n                     \r\n                </label>\r\n                <label style={{ cursor: 'pointer', marginRight: '10px' }}>\r\n                    <input className='checkboxFinanceReportFilter' type='checkbox'\r\n                        checked={bankAccountStore.checkBoxFilter.unlinked} onChange={e => HandleChangeCheckBox(e, 'unlinked')} />\r\n                      \r\n                </label>\r\n                <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer', marginRight: '10px' }} onClick={HandleChangeCheckBox}> </div>\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: bankAccountStore.leftTableHeight < bankAccountStore.rightTableHeight ? bankAccountStore.leftTableHeight : bankAccountStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: bankAccountStore.rightTableBankAccount.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={bankAccountStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={[' ', '', '', '', '', '', '', ' ', '']}\r\n                        data={bankAccountStore.rightTableBankAccount}\r\n                        tableSelectedItems={bankAccountStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => bankAccountStore.allCurrentAccount && bankAccountStore.setRightTableSelectedItems(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => bankAccountStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab selectedTab ${bankAccountStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => { }}></div>\r\n\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!bankAccountStore.allBankAccount && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: bankAccountStore.leftTableBankAccount.length < 10 && 'fit-content' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={bankAccountStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', '', ' ']}\r\n                        data={bankAccountStore.leftTableBankAccount}\r\n                        doNotSum={['']}\r\n                        makeLink={item => bankAccountStore.setMakeLink(item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => bankAccountStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!bankAccountStore.allCurrentAccount && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            {bankAccountStore.makeLink && <MakeLink />}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(BankAccount));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst ReceptionBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { receptionBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.fetchReceptionBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [receptionBasketStore.leftTableReceptionBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = receptionBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        receptionBasketStore.allReceptionBasket && receptionBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (receptionBasketStore.allReceptionBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            receptionBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        receptionBasketStore.fetchFilteredReceptionBasket(receptionBasketStore.receptionBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        receptionBasketStore.fetchPrint(onlyShown)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={receptionBasketStore.receptionBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {receptionBasketStore.receptionBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' style={{ margin: '0.5em 0' }} onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} />\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight ? receptionBasketStore.leftTableHeight : receptionBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: receptionBasketStore.rightTableReceptionBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', ' ', ' ']}\r\n                        rightTable\r\n                        data={receptionBasketStore.rightTableReceptionBasket}\r\n                        tableCheckbox={receptionBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={receptionBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => receptionBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item) => receptionBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => receptionBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => receptionBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight && receptionBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: receptionBasketStore.leftTableReceptionBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', ' ', ' ']}\r\n                        data={receptionBasketStore.leftTableReceptionBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={receptionBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item, index) => receptionBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => receptionBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => receptionBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 0)}\r\n                        bankAccount={receptionBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => receptionBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => receptionBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={receptionBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight > receptionBasketStore.rightTableHeight && receptionBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}> </div>\r\n                        </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(ReceptionBasket));","import React, { useEffect, useState } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PeriodicReception = (props) => {\r\n    // const history = useHistory();\r\n    const { periodicReceptionStore } = props.rootStore;\r\n    const [isAddingData,setIsAddingData] =useState(false)\r\n    const [leftTableData,setLeftTableData]= useState(periodicReceptionStore.leftTablePeriodicReception)\r\n\r\n    console.log(periodicReceptionStore.leftTablePeriodicReception);\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.fetchPeriodicReceptionFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                periodicReceptionStore.setDateFromTo(dateFrom, dateTo);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [periodicReceptionStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = periodicReceptionStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        periodicReceptionStore.setDateFromTo(date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        periodicReceptionStore.setDateFromTo(null, date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        periodicReceptionStore.setDateFromTo('', '');\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (periodicReceptionStore.allPeriodicReception) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            periodicReceptionStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = periodicReceptionStore.periodicReceptionFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.pr_filters = [...body.pr_filters.filter(data => data.name !== 'pr_filters'),\r\n        ...periodicReceptionStore.periodicReceptionFiltersDateToSend.pr_filters.map(expense => setDates(expense))];\r\n        !sessionStorage.getItem('reload') ? periodicReceptionStore.fetchFilteredPeriodicReception(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const addingDataPeriodicReceptionHandler = (rowData)=>{\r\n        console.log(rowData);\r\n        setLeftTableData(rowData)\r\n        setIsAddingData(false)\r\n       // periodicReceptionStore.setLeftTablePeriodicReception(rowData)\r\n    }\r\n\r\n    console.log(leftTableData);\r\n\r\n    return (\r\n        <Container title='  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={periodicReceptionStore.periodicReceptionFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={periodicReceptionStore.dateFrom}\r\n                    dateTo={periodicReceptionStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {periodicReceptionStore.periodicReceptionFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: periodicReceptionStore.leftTableHeight < periodicReceptionStore.rightTableHeight ? periodicReceptionStore.leftTableHeight : periodicReceptionStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: periodicReceptionStore.rightTablePeriodicReception.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '50%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={['', ' ', ' ']}\r\n                        rightTable\r\n                        data={periodicReceptionStore.rightTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.rightTableCheckbox}\r\n                        tableSelectedItems={periodicReceptionStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: periodicReceptionStore.leftTablePeriodicReception.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <input type='button' value='  ' style={{ marginRight: '1em' }} onClick={()=>setIsAddingData(true)} />\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '20%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={[' ', '', ' ', '', ' ', '', '', ' ', ' ', ' ', '\"  ', ' ', '  ', '  ', ' ']}\r\n                        noEdit\r\n                        noFottTitle={['']}\r\n                        isAddingData={isAddingData}\r\n                        addingData={addingDataPeriodicReceptionHandler}\r\n                        data={periodicReceptionStore.leftTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PeriodicReception));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst StudentsBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { receptionBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.fetchReceptionBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [receptionBasketStore.leftTableReceptionBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = receptionBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        receptionBasketStore.allReceptionBasket && receptionBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (receptionBasketStore.allReceptionBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            receptionBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        receptionBasketStore.fetchFilteredReceptionBasket(receptionBasketStore.receptionBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        receptionBasketStore.fetchPrint(onlyShown)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={receptionBasketStore.receptionBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {receptionBasketStore.receptionBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' style={{ margin: '0.5em 0' }} onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} />\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight ? receptionBasketStore.leftTableHeight : receptionBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: receptionBasketStore.rightTableReceptionBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', ' ', ' ']}\r\n                        rightTable\r\n                        data={receptionBasketStore.rightTableReceptionBasket}\r\n                        tableCheckbox={receptionBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={receptionBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => receptionBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item) => receptionBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => receptionBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => receptionBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight && receptionBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: receptionBasketStore.leftTableReceptionBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', ' ', '', ' ', ' ', ' ', ' ', ' ']}\r\n                        data={receptionBasketStore.leftTableReceptionBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={receptionBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item, index) => receptionBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => receptionBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => receptionBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 0)}\r\n                        bankAccount={receptionBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => receptionBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => receptionBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={receptionBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight > receptionBasketStore.rightTableHeight && receptionBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentsBasket));","import React, { useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PeriodicStudents = (props) => {\r\n    // const history = useHistory();\r\n    const { periodicReceptionStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.fetchPeriodicReceptionFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                periodicReceptionStore.setDateFromTo(dateFrom, dateTo);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [periodicReceptionStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = periodicReceptionStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        periodicReceptionStore.setDateFromTo(date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        periodicReceptionStore.setDateFromTo(null, date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        periodicReceptionStore.setDateFromTo('', '');\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (periodicReceptionStore.allPeriodicReception) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            periodicReceptionStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = periodicReceptionStore.periodicReceptionFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.pr_filters = [...body.pr_filters.filter(data => data.name !== 'pr_filters'),\r\n        ...periodicReceptionStore.periodicReceptionFiltersDateToSend.pr_filters.map(expense => setDates(expense))];\r\n        !sessionStorage.getItem('reload') ? periodicReceptionStore.fetchFilteredPeriodicReception(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={periodicReceptionStore.periodicReceptionFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={periodicReceptionStore.dateFrom}\r\n                    dateTo={periodicReceptionStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {periodicReceptionStore.periodicReceptionFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: periodicReceptionStore.leftTableHeight < periodicReceptionStore.rightTableHeight ? periodicReceptionStore.leftTableHeight : periodicReceptionStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: periodicReceptionStore.rightTablePeriodicReception.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' ,minHeight: '30em'}}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '100%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={['', ' ']}\r\n                        rightTable\r\n                        data={periodicReceptionStore.rightTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.rightTableCheckbox}\r\n                        tableSelectedItems={periodicReceptionStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', height: '100%', minHeight: '15em' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: periodicReceptionStore.leftTablePeriodicReception.length < 10 && 'fit-content', marginLeft: '4em' ,minHeight: '30em'}}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '10%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={[' ', '-', '-', '-', '', ' ', '', '', '', '\"', ' ', ' ', ' ',' ',' ','-','-']}\r\n                        noEdit\r\n                        // noFottTitle={['']}\r\n                        data={periodicReceptionStore.leftTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)'  }}\r\n                        tableHeight={height => periodicReceptionStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', height: '100%', minHeight: '15em' }} >\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PeriodicStudents));","import React, { useEffect, useState  } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport * as Fetch from '../../fetches/Fetch';\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst formIds =[\r\n    {\r\n        display_name: ' ',\r\n        id: 'social-services-form'\r\n    },\r\n    {\r\n        display_name: ' ',\r\n        id: 'student-approval-form'\r\n    },\r\n    {\r\n        display_name: '   ',\r\n        id: 'student-approval-form-with-course'\r\n    },\r\n    {\r\n        display_name: ' ',\r\n        id: 'property-tax-form'\r\n    }\r\n]\r\n\r\nconst SelectData = ({ titles, children }) => {\r\n    return <div style={{ display: 'flex', marginBottom: '5px' }}>\r\n        <div style={{ marginLeft: '5px' }}>\r\n            {titles.map((title, index) => <div key={index} style={{ marginTop: index > 0 && '5px' }}>{title}:</div>)}\r\n        </div>\r\n        {children}\r\n    </div>\r\n}\r\n\r\nconst StudentForm = (props) => {\r\n    const [formId, setFormId] = useState(0);\r\n    const [formAttributes, setFormAttributes] = useState({});\r\n    const [inputData, setInputData] = useState({});\r\n    const [formComp, setFormComp] = useState(null);\r\n    const [formAttributesArr, setFormAttributesArr] = useState([]);\r\n    const [studentCourseRegistrationId, setStudentCourseRegistrationId] = useState(1);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    const HandleFormChoosing = (formId) => {\r\n        console.log(formId);\r\n        setFormId(formId)\r\n\r\n        // Fetch.Get(`form_attributes?form_id=${formId}`)\r\n        Fetch.Get(`form_attributes?form_id=${formId}`)\r\n            .then(res => {\r\n                setFormAttributes(res);\r\n                console.log(\"got: \" + JSON.stringify(res))\r\n                BuildFormComp();\r\n                })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    const HandleSubmit = (event) => {\r\n        event.preventDefault()\r\n        const body = {'args_dict': inputData}\r\n        Fetch.Post(`generate_pdf?form_id=${formId}&student_course_registration_id=${studentCourseRegistrationId}`, inputData, true)\r\n            .then((response) => response.blob())\r\n            .then((blob) => {\r\n                // Create blob link to download\r\n                const url = window.URL.createObjectURL(\r\n                    new Blob([blob]),\r\n                );\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n                link.setAttribute(\r\n                    'download',\r\n                    `${formId}.pdf`,\r\n                );\r\n\r\n                // Append to html link element page\r\n                document.body.appendChild(link);\r\n\r\n                // Start download\r\n                link.click();\r\n\r\n                // Clean up and remove the link\r\n                link.parentNode.removeChild(link);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    const HandleInputData = (key, value) => {\r\n        let currInputData = inputData;\r\n        currInputData[key] = value;\r\n        setInputData(currInputData);\r\n    }\r\n\r\n    const BuildFormComp = () => {\r\n        // if(formAttributes) {\r\n            let formAttr = []\r\n            Object.keys(formAttributes).map(key => {formAttr.push(formAttributes[key].display_name)})\r\n            setFormAttributesArr(formAttr)\r\n\r\n            const comp = Object.keys(formAttributes).map(key => {\r\n                console.log(key);\r\n                if(formAttributes[key].type !== 'radio') {\r\n                    return (\r\n                        <div>\r\n                            <label style={{cursor: 'pointer'}} key={key}>\r\n                                <input className={key}\r\n                                       type={formAttributes[key].type}\r\n                                       onChange={e => HandleInputData(key, e.target.value)}\r\n                                       style={{\r\n                                           marginTop: '5px',\r\n                                           width: 'fit-content',\r\n                                           height: '1em',\r\n                                           fontSize: '1em',\r\n                                           outline: 'none'\r\n                                       }}/>\r\n                            </label>\r\n                            <br/>\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    const choices = formAttributes[key].values;\r\n                    const radioComp = choices.map(choice => {\r\n                        return (\r\n                            <div>\r\n                                <input className={choice}\r\n                                       name={formAttributes[key]}\r\n                                       type='radio'\r\n                                       onChange={e => HandleInputData(key, e.target.value)}\r\n                                       />\r\n                                <label style={{cursor: 'pointer'}} key={choice}>\r\n                                    {choice}\r\n                                </label>\r\n                            </div>\r\n                        )\r\n                    })\r\n                return radioComp;\r\n                }\r\n            })\r\n            setFormComp(comp);\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div style={{ marginLeft: '10px', whiteSpace: 'nowrap' }}> :</div>\r\n                <select style={{ width: 'fit-content', fontSize: '1em' }} onChange={(e) => HandleFormChoosing(e.target.value)}>\r\n                    {formIds.map((option, optionIndex) =>\r\n                        <option key={optionIndex} value={option.id}>{option.display_name}</option>)}\r\n                </select>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                    <SelectData titles={formAttributesArr} >\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <form>\r\n                                {formComp}\r\n                                {formComp &&\r\n                                    <div>\r\n                                        <button type=\"submit\" onClick={HandleSubmit}> </button>\r\n                                    </div>\r\n                                }\r\n                            </form>\r\n                        </div>\r\n                    </SelectData>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentForm));","import React from 'react';\r\nimport './App.css';\r\n\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Login from './components/login/Login';\r\nimport PaymentReport from './components/payment report/PaymentReport';\r\nimport PaymentsBasket from './components/payment report/PaymentsBasket';\r\nimport TransactionsReport from './components/transactions report/TransactionsReport';\r\nimport UploadCSVFile from \"./components/upload cvs file/UploadCSVFile\";\r\nimport StudentProfile from './components/student/StudentProfile';\r\nimport BankAccount from './components/bank account/BankAccount';\r\nimport ReceptionBasket from './components/reception basket/ReceptionBasket';\r\nimport PeriodicReception from './components/reception basket/PeriodicReception';\r\nimport StudentsBasket from './components/students basket/StudentsBasket';\r\nimport PeriodicStudents from './components/students basket/PeriodicStudents';\r\nimport StudentForm from \"./components/student-form/StudentForm\";\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter basename='/'>\r\n      <Redirect to='/login' />\r\n      {localStorage.getItem('remember') === 'true' && sessionStorage.setItem('login', 'true')}\r\n      {!sessionStorage.getItem('route') && localStorage.getItem('remember') === 'true' && sessionStorage.setItem('route', '/finance-report')}\r\n      {sessionStorage.getItem('login') && <Redirect to={`${sessionStorage.getItem('route') || '/login'}`} />}\r\n      <Switch>\r\n        <Route path='/import-data' component={UploadCSVFile} />\r\n\r\n        <Route path='/bank-account' component={BankAccount} />\r\n\r\n        <Route path='/transactions-report' component={TransactionsReport} />\r\n\r\n        <Route path='/periodic-reception/reception-basket' component={ReceptionBasket} />\r\n        <Route path='/periodic-reception' component={PeriodicReception} />\r\n\r\n        <Route path='/students-reception/students-basket' component={StudentsBasket} />\r\n        <Route path='/students-reception' component={PeriodicStudents} />\r\n\r\n        <Route path='/finance-report/payments-basket' component={PaymentsBasket} />\r\n        <Route path='/finance-report/student-profile' component={StudentProfile} />\r\n        <Route path='/finance-report' component={PaymentReport} />\r\n\r\n        <Route path='/student-form' component={StudentForm} />\r\n\r\n        <Route path='/login' component={Login} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from 'mobx-react';\r\nimport RootStore from './store/RootStore';\r\n\r\nReactDOM.render(\r\n  <Provider rootStore={RootStore}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}