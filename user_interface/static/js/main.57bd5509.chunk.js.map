{"version":3,"sources":["components/UI/Modal.module.css","components/login/Login.js","components/containers/ContainerHeader.js","components/containers/ContainerNavbar.js","components/containers/Container.js","components/payment report/FinanceReportFilters.js","components/Table.js","components/UI/GoogleSheetsLink.jsx","components/payment report/PaymentReport.js","components/payment report/PaymentsBasket.js","components/transactions report/TransactionsReport.js","components/upload cvs file/SelectData.js","fetches/Fetch.js","store/RootStore.js","store/LoginStore.js","store/PaymentReportStore.js","store/PaymentsBasketStore.js","store/TransactionsReportStore.js","store/StudentStore.js","store/UploadCSVFileStore.js","store/BankAccountStore.js","store/ReceptionBasketStore.js","store/PeriodicReceptionStore.js","components/UI/Modal.jsx","components/UI/TableTemplate.jsx","components/popup/CSVFilePopup.jsx","components/popup/PopupTemplate.jsx","components/upload cvs file/UploadCSVFile.js","components/student/TopDetails.js","components/student/StudentProfile.js","components/bank account/MakeLinkPopUp.js","components/bank account/BankAccount.js","components/reception basket/ReceptionBasket.js","components/reception basket/PeriodicReception.js","components/students basket/StudentsBasket.js","components/students basket/PeriodicStudents.js","components/student-form/StudentForm.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","inject","observer","props","history","useHistory","loginStore","rootStore","className","onSubmit","event","preventDefault","login","then","res","setLoader","undefined","localStorage","setItem","rememberMe","userName","sessionStorage","setErrorMessage","push","type","placeholder","onChange","e","changeUserName","target","value","changePassword","errorMessage","includes","loader","style","display","justifyContent","marginTop","marginBottom","Spin","size","color","checked","changeRememberMe","ContainerHeader","goBack","onClick","location","pathname","split","marginRight","title","ContainerNavbar","name","underTab","map","tab","minWidth","replace","HandleChangePage","marginLeft","Container","id","direction","height","minHeight","backgroundColor","textAlign","width","childrenStyle","children","FinanceReportFilters","console","log","data","filters","titleIndex","Fragment","flexDirection","alignItems","fontSize","dateSelectOption","option","optionIndex","display_name","filter_key","dateFrom","onDateFrom","dateTo","onDateTo","textDecoration","cursor","cleanDate","filter","filterIndex","position","fontWeight","checkboxes","checkboxIndex","title_index","filter_index","checkbox_index","margin","border","borderLeft","Table","useState","edit","setEdit","editText","setEditText","editTextTitle","setEditTextTitle","newData","setNewData","setTitle","inputType","setInputType","incomeSum","expanseSum","balanceSum","balanceTotalSum","cashSum","commitmentSum","flowSum","monthlyFlowSum","lineOfCreditSum","loanSum","transactionAmountSum","expenseSum","expenseTotalSum","periodicSum","periodicTotalSum","totalChargedAmountSum","tableRef","useRef","regNumber","useEffect","tableHeight","current","scrollHeight","ShowWithMinus","item","isNaN","toString","Math","abs","toFixed","convertIsoDate","date","Date","toISOString","slice","reverse","join","HandleTableData","index","whiteSpace","identity","full_name","parseFloat","income_sum","expense_sum","balance","balance_total","visibility","disabled","amount","payment_status","deleted","tableCheckbox","is_printable","rightTable","changeCheckbox","all_selected","expense_amount","income_amount","course_type","coordinator_name","institution_name","account_number","line_of_credit","loan","commitment","cash","flow","monthly_flow","transaction_date","printing_date","value_date","allowEdit","show_error","autoFocus","test","onBlur","changeSum","transaction_amount","reference_number","makeLink","payment_method","method","borderColor","changePaymentMethod","hidden","paymentMethods","Object","keys","expense_sum_total","noEdit","transmission_date","changeCheckDate","for_month","changeForMonth","employee_sum","student_sum","print_employee_sum","print_student_sum","print_supplier_sum","fk_bank_account_id","changeBankAccountId","bankAccount","fk_trend_coordinator_id","changeTrendCoordinatorId","trendCoordinator","transaction_description","length","heb_attribution","pr_num","pr_amount_sum","charge_date","comment","periodic_reception_status","num_failed_payment","num_success_payment","charges_remainder","total_charged_amount","charges","bank_permission_end_date","bank_permission_start_date","last_charge_date","end_date_course_enrollment","start_date_course_enrollment","day_part","eligibility_min","eligibility_method","eligibility_level","end_date_trend_attribution","start_date_trend_attribution","merged_printing_number","splitPayment","mergedCheckbox","expense_id","changeMergedCheckbox","delete","ShowSumWithMinus","HandleTableFootData","noFottTitle","tempObj","forEach","element","ref","borderCollapse","tableStyle","header","head","top","boxShadow","isAddingData","maxWidth","maxHeight","outline","tempData","newRowDataHandler","addingData","changeTableSelectedItems","tableSelectedItems","wordBreak","withoutSum","bottom","doNotSum","right","GoogleSheetsLink","headers","store","table","setJsonFile","exportObj","i","entries","key","convertedData","JSON","stringify","fetchGoogleSheets","paymentReportStore","fetchFinanceReportFilters","getFullYear","setDateFromTo","setFinanceReportFiltersDateToSend","HandleCheckAll","HandleSearchByCheckBox","afterLeftTableUpdate","leftTableCheckbox","getItem","document","querySelectorAll","checkedFilters","getAttribute","setFinanceReportFiltersToSend","HandleSearch","tableIndex","allFinanceReport","setTableSearch","HandleSelectedTableTab","tableClass","classList","remove","currentTarget","add","setSelectedTableTab","body","financeReportFiltersToSend","setDate","expense_filters","financeReportFiltersDateToSend","expense","income_filters","income","student_filters","student","removeItem","fetchFilteredFinanceReport","financeReportFilters","titleName","setFinanceReportFiltersDateSelectedOption","padding","fill","expenseMessage","trim","setTimeout","changeExpenseMessage","left","fetchExpense","leftTableHeight","rightTableHeight","rightTableFinanceReport","rightTableSearch","filename","selectedRightTableTab","rightTableFinanceReportDownloadCSV","label","rightTableCheckbox","rightTableSelectedItems","setRightTableSelectedItems","setRightTableCheckbox","setRightTableHeight","overflow","leftTableFinanceReport","leftTableSearch","selectedLeftTableTab","leftTableFinanceReportDownloadCSV","setLeftTableCheckbox","attribution_id","HandleSelectedLeftTableSelectedItem","setLeftTableHeight","fileDownload","require","paymentsBasketStore","window","innerWidth","windowWidth","setWindowWidth","checkConsolidation","setCheckConsolidation","fetchPaymentsBasketFilters","onresize","leftTablePaymentsBasket","setPaymentsBasketFiltersToSend","allPaymentsBasket","fetchFilteredPaymentsBasket","paymentsBasketFiltersToSend","HandlePrint","onlyShown","fetchPrint","ok","get","fileName","indexOf","blob","file","paymentsBasketFilters","selected","fetchMerge","rightTablePaymentsBasket","paymentMethod","generalLists","expense_payment_methods","sum","changeCheckSum","merged_number","fetchSplit","transactionsReportStore","fetchTransactionsReportFilters","setTransactionsReportFiltersDateToSend","setTransactionsReportFiltersToSend","allTransactionsReport","transactionsReportFiltersToSend","setDates","transactionsReportFiltersDateToSend","attribution_filters","fetchFilteredTransactionsReport","HandleRestoreExpense","checkboxRestoreLength","HandleClosePopup","setShowPopup","fetchRestoreExpense","transactionsReportFilters","setTransactionsReportFiltersDateSelectedOption","rightTableTransactionsReport","rightTableTransactionsReportDownloadCSV","leftTableTransactionsReport","checkExpense","changeCheckBox","checkIncome","leftTableTransactionsReportDownloadCSV","fetchRawTable","showPopup","SelectData","titles","url","Get","controller","a","fetch","statusText","json","clear","catch","err","error","GetHeader","Post","withoutJson","PostFormData","formData","Put","PutFormData","Delete","RootStore","password","load","Fetch","username","remember_me","message","makeAutoObservable","this","Array","financeReportFiltersDateSelectedOption","setLeftTableFinanceReportDownloadCSV","stringifyData","parse","reduce","obj","itemKey","setRightTableFinanceReportDownloadCSV","newRightTableFinanceReport","rightTableItem","countLeftTableWithSameFkId","leftTableItem","countLeftTableWithSameFkIdToPrint","leftTableCheckboxItem","msg","setCheckedFilters","checkbox","fk_id","newSet","haveFilter","some","exist","filteredData","check","rightItem","Set","has","setLeftTableFinanceReport","from","to","filteredSearch","search","toLowerCase","setRightTableFinanceReport","dateIndex","selectedOption","existIndex","findIndex","find","setFinanceReportFilters","moreRows","concat","dontCheckRightTable","setAllFinanceReport","resetCheckbox","attribution","fk_branch_id","fk_institution_id","paymentsBasketFiltersDateSelectedOption","setBankAccount","setTrendCoordinator","print","fetchDeleteExpense","deleteSelectedItem","setLeftTablePaymentsBasket","leftItem","checkExpence","chengePosition","leftTable","checkIsPrintAllow","fetchEditExpense","changeLeftTablePaymentsBasket","leftBasket","setGeneralLists","setRightTablePaymentsBasket","setPaymentsBasketFilters","setAllPaymentsBasket","rightTableTabName","leftTableTabName","fetchGeneralLists","fetchBankAccount","fetchTrendCoordinator","transactionsReportFiltersDateSelectedOption","setLeftTableTransactionsReportDownloadCSV","setRightTableTransactionsReportDownloadCSV","show","input","setLeftTableTransactionsReport","newRightTableTransactionsReport","setRightTableTransactionsReport","setTransactionsReportFilters","row","setAllTransactionsReport","flat","expense_ids","withError","withoutError","messageWithError","messageWithoutError","tables","start_date","end_date","dates_attributes","studentStore","newStudentDetails","studentDetails","studentBalanceDetails","branchDetails","coordinatorDetails","tableData","editStudent","institutionBranchCoordinator","allInstitution","postBank","selectedTableTab","setAllInstitution","setInstitutionBranchCoordinator","changeSelectedData","param","changeAll","newTarget","setEditStudent","bank","bank_number","branch_number","institution","branch","branches","symbol","parseInt","allow","resetDetails","payments","course_enrollments","setTableData","setCoordinatorDetails","details","setBranchDetailsDetails","setStudentBalanceDetails","arrayPayments","pay","setStudentDetails","fetchStudentById","fetchStudentBalanceById","fetchBranchById","fetchCoordinatorById","fetchInstitutionBranchCoordinator","fetchInstitution","fetchDeleteStudent","replaceState","fetchSaveStudentDetails","fetchSaveBankAccount","attribution_type","uploadCSVFile","institutionBankAccount","courseEnrollmentTrendCoordinatorAttribution","students","courseEnrollment","studentsIncomes","studentsIncomesSourceID","studentsIncomesMethod","studentsIncomesBankAccountNumber","studentsIncomesUpdate","institutionBankAccountUpdate","branchUpdate","trendCoordinatorUpdate","courseEnrollmentTrendCoordinatorAttributionUpdate","studentsUpdate","courseEnrollmentUpdate","supplierUpdate","donatorUpdate","generalBanksUpdate","periodicReceptionUpdate","clearingPlatformUpdate","currentAccountUpdate","studentsPaymentFailureUpdate","clearingUpdate","clearingValidationUpdate","msvUpdate","checksUpdate","invoiceUpdate","studentInsuranceUpdate","expenseDraftFixedUpdate","studentsPaymentStatus","studentsPaymentFailure","currentAccount","currentAccountBankAccountNumber","clearingPlatform","clearingPlatformTrendCoordinatorID","clearing","clearingPlatformID","clearingValidation","msv","msvAttribution","msvBankAccountNumber","msvForDate","msvTrendCoordinator","msvSendingDate","checks","checksAttribution","checksBankAccountNumber","generalBanks","generalBanksAttribution","supplier","invoice","invoiceInstitutionBranchCoordinator","invoiceTrendCoordinator","invoiceSupplier","invoiceDate","invoiceSum","invoiceNumber","invoiceLastDate","studentInsurance","studentInsuranceBankAccountNumber","expenseDraft","expenseDraftAttribution","expenseDraftForMonth","expenseDraftTrendCoordinator","expenseDraftBankAccountNumber","expenseDraftPaymentMethod","expenseDraftScholarshipType","expenseDraftFixed","donator","periodicReception","periodicReceptionBankAccountNumber","incomeSource","attributions","paymentStatus","scholarshipTypes","bankAccounts","institutionBranchCoordinators","trendCoordinators","suppliers","platforms","errorInstitutionBankAccount","errorBranch","errorTrendCoordinator","errorCourseEnrollmentTrendCoordinatorAttribution","errorStudents","errorCourseEnrollment","errorStudentsIncomes","errorStudentsPaymentFailure","errorCurrentAccount","errorClearingPlatform","errorClearing","errorClearingValidation","errorMSV","errorChecks","errorGeneralBanks","errorSupplier","errorInvoice","errorStudentInsurance","errorExpenseDraft","errorDonator","errorPeriodicReception","googleSheetsInstitutionBankAccount","googleSheetsBranch","googleSheetsTrendCoordinator","googleSheetsCourseEnrollmentTrendCoordinatorAttribution","googleSheetsStudents","googleSheetsCourseEnrollment","googleSheetsSupplier","googleSheetsDonator","googleSheetsGeneralBanks","googleSheetsPeriodicReception","googleSheetsClearingPlatform","googleSheetsCurrentAccount","googleSheetsStudentsIncomes","googleSheetsStudentsPaymentFailure","googleSheetsClearing","googleSheetsClearingValidation","googleSheetsMSV","googleSheetsChecks","googleSheetsInvoice","googleSheetsStudentInsurance","googleSheetsExpenseDraft","setErrorInstitutionBankAccount","setErrorBranch","setErrorTrendCoordinator","setErrorCourseEnrollmentTrendCoordinatorAttribution","setErrorStudents","setErrorCourseEnrollment","setErrorStudentsIncomes","setErrorStudentsPaymentFailure","setErrorCurrentAccount","setErrorClearingPlatform","errorclearingPlatform","setErrorClearing","setErrorClearingValidation","setErrorMSV","setErrorChecks","setErrorGeneralBanks","setErrorSupplier","setErrorInvoice","setErrorStudentInsurance","setErrorExpenseDraft","setErrorDonator","setErrorPeriodicReception","setPeriodicReception","setGoogleSheetsPeriodicReception","setPeriodicReceptionBankAccountNumber","setDonator","setGoogleSheetsDonator","setExpenseDraft","setGoogleSheetsExpenseDraft","setExpenseDraftAttribution","setExpenseDraftForMonth","setExpenseDraftTrendCoordinator","setExpenseDraftBankAccountNumber","setExpenseDraftPaymentMethod","setExpenseDraftScholarshipType","setExpenseDraftFixed","setStudentInsurance","setGoogleSheetsStudentInsurance","setStudentInsuranceBankAccountNumber","setInvoice","setGoogleSheetsInvoice","setInvoiceInstitutionBranchCoordinator","setInvoiceTrendCoordinator","setInvoiceSupplier","setInvoiceDate","setInvoiceSum","setInvoiceNumber","setInvoiceLastDate","setSupplier","setGeneralBanks","setGoogleSheetsGeneralBanks","setGeneralBanksAttribution","setChecks","setGoogleSheetsChecks","setChecksAttribution","setChecksBankAccountNumber","setMSV","setGoogleSheetsMSV","setMsvAttribution","setMsvBankAccountNumber","setMsvForDate","setMsvTrendCoordinator","setMsvSendingDate","setClearingPlatform","setGoogleSheetsClearingPlatform","setClearingValidation","setGoogleSheetsClearingValidation","setClearingPlatformTrendCoordinatorID","setClearing","setGoogleSheetsClearing","setClearingPlatformID","setAttributions","firstAttribution","setBankAccounts","firstBankAccountNumber","setStudentsIncomesBankAccountNumber","setCurrentAccountBankAccountNumber","setIncomeSource","setStudentsIncomesSourceID","setPaymentMethods","setStudentsIncomesMethod","setPaymentStatus","setStudentsPaymentStatus","setScholarshipTypes","setInstitutionBranchCoordinators","objValue","values","setTrendCoordinators","setSuppliers","setGoogleSheetsSupplier","setPlatforms","setInstitutionBankAccount","setGoogleSheetsInstitutionBankAccount","setBranch","setGoogleSheetsBranch","setGoogleSheetsTrendCoordinator","setCourseEnrollmentTrendCoordinatorAttribution","setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution","setStudents","setGoogleSheetsStudents","setCourseEnrollment","setGoogleSheetsCourseEnrollment","setStudentsIncomes","setGoogleSheetsStudentsIncomes","setStudentsPaymentFailure","setGoogleSheetsStudentsPaymentFailure","setStudentsIncomesUpdate","setInstitutionBankAccountUpdate","setBranchUpdate","setTrendCoordinatorUpdate","setCourseEnrollmentTrendCoordinatorAttributionUpdate","setStudentsUpdate","setCourseEnrollmentUpdate","setSupplierUpdate","setDonatorUpdate","setGeneralBanksUpdate","setPeriodicReceptionUpdate","setClearingPlatformUpdate","setCurrentAccountUpdate","setStudentsPaymentFailureUpdate","setClearingUpdate","setClearingValidationUpdate","setMsvUpdate","setChecksUpdate","setInvoiceUpdate","setStudentsInsuranceUpdate","setExpenseDraftFixedUpdate","setCurrentAccount","setGoogleSheetsCurrentAccount","sendData","fetch_1","fetchInstitutionBankAccount","fetch_2","fetchBranch","fetch_3","fetch_4","fetchCourseEnrollmentTrendCoordinatorAttribution","fetch_5","fetchStudents","fetch_6","fetchCourseEnrollment","fetch_7","fetchStudentsIncomes","fetch_8","fetchStudentsPaymentFailure","fetch_9","fetchCurrentAccount","fetch_10","fetchClearingPlatform","fetch_11","fetchClearing","fetch_12","fetchClearingValidation","fetch_13","fetchMSV","fetch_14","fetchChecks","fetch_15","fetchGeneralBanks","fetch_16","fetchSupplier","fetch_17","fetchInvoice","fetch_18","fetchStudentInsurance","fetch_19","fetchExpenseDraft","fetch_20","fetchDonator","fetch_21","fetchPeriodicReception","Promise","all","FormData","append","inserted_records","payment_due_date","fetchIncomeSource","fetchPaymentMethods","income_payment_methods","education_payment_status","scholarship_types","fetchBankAccounts","fetchInstitutionBranchCoordinators","fetchTrendCoordinators","fetchSuppliers","fetchPlatforms","callFetch","fetchDownloadTemplate","template_from","bankAccountStore","allBankAccount","allCurrentAccount","leftTableBankAccount","rightTableBankAccount","checkBoxFilter","linked","unlinked","changeCheckBoxFilter","setLeftTableBankAccount","setRightTableBankAccount","bankDetail","is_linked","setAllCurrentAccount","setAllBankAccount","encodeURIComponent","encodeDate","rightBankAccount","allDonators","allTrendCoordinator","allStudents","allSuppliers","allMSV","ownDonator","ownTrendCoordinator","ownStudent","ownSupplier","ownMsv","existDonator","existTrendCoordinator","existStudent","existSupplier","existMsv","setOwnDonator","setOwnTrendCoordinator","setOwnStudent","setOwnSupplier","setOwnMsv","setAllMSV","setAllDonators","setAllTrendCoordinator","setAllStudents","setStudent","setAllSuppliers","setMakeLink","setComment","fk_donator_id","d","trend","t","s","fk_msv_file_id","m","first_name","last_name","setIndex","setRightBankAccount","fetchStudens","fetchDonators","fetchSave","fk_current_account_id","ca_amount","trendCoordinatorFetch","studentFetch","supplierFetch","msvID","msvFetch","commentFetch","receptionBasketStore","allReceptionBasket","leftTableReceptionBasket","rightTableReceptionBasket","receptionBasketFilters","receptionBasketFiltersToSend","receptionBasketFiltersDateSelectedOption","income_id","fetchDeleteIncome","setLeftTableReceptionBasket","fetchEditIncome","changeLeftTableReceptionBasket","setRightTableReceptionBasket","setReceptionBasketFiltersToSend","ReceptionBasketFiltersToSend","setReceptionBasketFilters","setAllReceptionBasket","fetchFilteredReceptionBasket","fetchReceptionBasketFilters","periodicReceptionStore","allPeriodicReception","leftTablePeriodicReception","rightTablePeriodicReception","periodicReceptionFilters","periodicReceptionFiltersToSend","pr_filters","periodicReceptionFiltersDateToSend","periodicReceptionFiltersDateSelectedOption","setLeftTablePeriodicReception","newRightTablePeriodicReception","reception_date","setRightTablePeriodicReception","setPeriodicReceptionFiltersToSend","setPeriodicReceptionFiltersDateToSend","setPeriodicReceptionFiltersDateSelectedOption","setPeriodicReceptionFilters","setAllPeriodicReception","fetchFilteredPeriodicReception","fetchPeriodicReceptionFilters","Backdrop","classes","backdrop","onClose","ModalOverlay","modal","content","portalElement","getElementById","Modal","ReactDOM","createPortal","StyledTableCell","styled","TableCell","theme","tableCellClasses","palette","common","black","white","StyledTableRow","TableRow","action","hover","TableTemplate","TableContainer","component","Paper","sx","aria-label","TableHead","Headers","field","align","TableBody","bodyCellData","rows","cellData","cell","CSVFilePopup","setHeaders","errors","tableTitles","borderRadius","success","Popup","Store","alignContent","overflowY","gap","info","popup_results","downloadJson","uploadData","setUploadData","popupIsShown","setPopupIsShown","googleSheetsToogle","setDownloadJson","regexNumber","newBlob","Blob","URL","webkitURL","link","createElement","download","href","createObjectURL","appendChild","click","removeChild","Title","Label","setFile","update","setUpdate","googleSheetsToggle","googleSheets","accept","files","alignItem","paddingRight","PopupTemplate","payment","status","platform","TopDetails","coordinator","setNewStudent","setNewBranch","setNewCoordinator","studentFirstName","setStudentFirstName","studentLastName","setStudentLastName","studentID","setStudentID","studentIdType","setStudentIdType","studentPhone","setStudentPhone","studentAnotherPhone","setStudentAnotherPhone","studentCountry","setStudentCountry","studentAddress","setStudentAddress","studentBirthDate","setStudentBirthDate","branchInstitution","setBranchInstitution","branchSymbol","setBranchSymbol","coordinatorName","setCoordinatorName","studentCourseType","setStudentCourseType","studentEligibilityLevel","setStudentEligibilityLevel","studentStartDate","setStudentStartDate","studentEndDate","setStudentEndDate","studentBankBankNumber","setStudentBankBankNumber","studentBankBranchNumber","setStudentBankBranchNumber","studentBankAccountNumber","setStudentBankAccountNumber","studentBankAnotherBankNumber","setStudentBankAnotherBankNumber","studentBankAnotherBranchNumber","setStudentBankAnotherBranchNumber","studentBankAnotherAccountNumber","setStudentBankAnotherAccountNumber","studentPaymentMethod","setStudentPaymentMethod","DetailContainer","titleStyle","HandleOnChange","moreParam","splitParams","change","identity_type","main_phone_number","secondary_phone_number","state","address","birth_date","course_types","banks","yearly_income","yearly_expense","monthly_balance","yearly_balance","hight","makeLinkIndex","ClearData","ShowIncomeExpenseDetails","bank_account","billing_name","opacity","list","readOnly","resize","HandleChangeCheckBox","setIsAddingData","leftTableData","setLeftTableData","rowData","formIds","formId","setFormId","formAttributes","setFormAttributes","inputData","setInputData","formComp","setFormComp","formAttributesArr","setFormAttributesArr","studentCourseRegistrationId","HandleInputData","currInputData","BuildFormComp","formAttr","comp","choice","HandleFormChoosing","response","setAttribute","parentNode","App","basename","path","UploadCSVFile","BankAccount","TransactionsReport","ReceptionBasket","PeriodicReception","StudentsBasket","PeriodicStudents","PaymentsBasket","StudentProfile","PaymentReport","StudentForm","Login","Boolean","hostname","match","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+HACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,QAAU,uBAAuB,MAAQ,qBAAqB,aAAa,4B,kTCmDjHC,cAAO,YAAPA,CAAoBC,aA9CrB,SAACC,GACX,IAAMC,EAAUC,cAERC,EAAeH,EAAMI,UAArBD,WAkBR,OACI,qBAAKE,UAAU,YAAf,SACI,sBAAKA,UAAU,cAAf,cACI,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,aAAf,4CACA,uBAAMA,UAAU,YAAYC,SAtBvB,SAACC,GAClBA,EAAMC,iBACNL,EAAWM,QACNC,MAAK,SAAAC,GACFR,EAAWS,WAAU,GAChBD,QAAeE,IAARF,IACRG,aAAaC,QAAQ,WAAYZ,EAAWa,YAC5CF,aAAaC,QAAQ,WAAYZ,EAAWc,UAC5CC,eAAeH,QAAQ,QAAS,QAChCG,eAAeH,QAAQ,QAAS,mBAChCZ,EAAWgB,gBAAgB,IAC3BlB,EAAQmB,KAAK,wBAWb,UACI,uBAAOf,UAAU,aAAagB,KAAK,OAAOC,YAAY,8CAAWC,SAAU,SAACC,GAAD,OAAOrB,EAAWsB,eAAeD,EAAEE,OAAOC,UACrH,uBAAOtB,UAAU,aAAagB,KAAK,WAAWC,YAAY,iCAAQC,SAAU,SAACC,GAAD,OAAOrB,EAAWyB,eAAeJ,EAAEE,OAAOC,UACtH,qBAAKtB,UAAU,oBAAf,SACKF,EAAW0B,aAAaC,SAAS,aAAe,+HAA6B3B,EAAW0B,eAE5F1B,EAAW4B,QAAU,qBAAKC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUC,UAAW,OAAQC,aAAc,OAA1F,SAAmG,cAACC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,wBAC/I,wBAAQlC,UAAU,+CAAlB,4CACA,wBAAOA,UAAU,sDAAjB,UACI,uBAAOgB,KAAK,WAAWC,YAAY,WAAWkB,QAASrC,EAAWa,WAAYO,SAAU,SAAAC,GAAC,OAAIrB,EAAWsC,iBAAiBjB,EAAEE,OAAOc,YADtI,sE,uBCITE,G,MAtCS,SAAC1C,GACrB,IAAMC,EAAUC,cAchB,OACI,sBAAKG,UAAU,kBAAf,UACKL,EAAM2C,QAAU,sBAAKtC,UAAU,wBAAwBuC,QAd3C,WACjB,IAAMC,EAAW5C,EAAQ4C,SAASC,SAASC,MAAM,KAAK,GACtD7B,eAAeH,QAAQ,SAAU,QACjCG,eAAeH,QAAQ,QAAvB,WAAoC8B,IACpC5C,EAAQmB,KAAKyB,IAUQ,qCAEb,cAAC,IAAD,CAAaP,KAAK,QAAQN,MAAO,CAAEgB,YAAa,YAEpD,qBAAK3C,UAAU,uBAAf,SACKL,EAAMiD,SAGThD,EAAQ4C,SAASC,SAAShB,SAAS,oBAAsB,qBAAKzB,UAAU,sBAAf,SACvD,cAAC,IAAD,CAAgBiC,KAAK,MAAMM,QAhBf,WACpB1B,eAAeH,QAAQ,QAAS,mCAChCd,EAAQmB,KAAK,6C,QCqEN8B,G,MAnFS,SAAClD,GACrB,IAAMC,EAAUC,cAmEhB,MAjEa,CACT,CACIiD,KAAM,2DACNN,SAAU,mBAGd,CACIM,KAAM,0DACNN,SAAU,kCACVO,UAAU,GAGd,CACID,KAAM,sEACNN,SAAU,uBAGd,CACIM,KAAM,0DACNN,SAAU,uCACVO,UAAU,GAGd,CACID,KAAM,sEACNN,SAAU,uBAGd,CACIM,KAAM,yFACNN,SAAU,sCACVO,UAAU,GAGd,CACID,KAAM,2DACNN,SAAU,wBAGd,CACIM,KAAM,qGACNN,SAAU,gBAGd,CACIM,KAAM,8GACNN,SAAU,iBAGd,CACIM,KAAM,oDACNN,SAAU,kBAcLQ,KAAI,SAAAC,GAAG,OAAI,qBAAoBjD,UAAU,YAA9B,SACpB,sBAAKA,UAAU,gBACX2B,MAAO,CACHO,MAAOtC,EAAQ4C,SAASC,SAAShB,SAASwB,EAAIT,WAAa,UAAWG,YAAaM,EAAIF,UAAY,OACnGG,SAAUD,EAAIF,UAAY,KAE9BR,QAAS,kBAfQ,SAACU,GAClBrD,EAAQ4C,SAASC,WAAaQ,EAAIT,SAClC5C,EAAQuD,QAAQF,EAAIT,WAEpB3B,eAAeH,QAAQ,QAASuC,EAAIT,UACpC5C,EAAQmB,KAAKkC,EAAIT,WAUFY,CAAiBH,IALpC,UAMKA,EAAIF,UAAY,cAAC,IAAD,CAAgBd,KAAK,QAAQN,MAAO,CAAEO,MAAOtC,EAAQ4C,SAASC,SAAShB,SAASwB,EAAIT,WAAa,UAAWa,WAAY,SAExIJ,EAAIH,SATqBG,EAAIH,WCvC3BQ,G,MA5BG,SAAC3D,GACf,OACI,qBAAK4D,GAAG,gBAAgBvD,UAAU,iDAAlC,SACI,sBAAK2B,MAAO,CAAEC,QAAS,OAAQ4B,UAAW,OAA1C,UACI,sBAAK7B,MAAO,CAAE8B,OAAQ,QAASC,UAAW,OAAQC,gBAAiB,WAAnE,UACI,oBAAIhC,MAAO,CAAEiC,UAAW,UAAxB,4BACA,cAAC,EAAD,OAEJ,sBAAKjC,MAAO,CAAEkC,MAAO,OAAQ9B,aAAc,QAA3C,UACI,cAAC,EAAD,CAAiBa,MAAOjD,EAAMiD,MAAON,OAAQ3C,EAAM2C,SAEnD,qBAAKX,MAAOhC,EAAMmE,cAAlB,SACKnE,EAAMoE,qBCmChBC,EAlDc,SAACrE,GAE1B,OADAsE,QAAQC,IAAIvE,EAAMwE,MAEd,qBAAKnE,UAAU,iEAAf,SACKL,EAAMwE,KAAKnB,KAAI,SAACoB,EAASC,GAAV,OAAyB,eAAC,IAAMC,SAAP,WACrC,sBAAKtE,UAAU,+BAAf,UACI,qBAAKA,UAAU,4BAAf,SAA6CoE,EAAQxB,QAE/B,+CAAlBwB,EAAQxB,MACJ,qBAAKjB,MAAO,CAAEC,QAAS,OAAQ6B,OAAQ,OAAvC,SACI,sBAAK9B,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,eAAgB2C,WAAY,UAApG,UACI,wBAAQ7C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,OAASvD,SAAU,SAACC,GAAD,OAAOxB,EAAM+E,iBAAiBvD,EAAEE,OAAOC,QAA3G,SACK8C,EAAQA,QAAQpB,KAAI,SAAC2B,EAAQC,GAAT,OACjB,wBAA0BtD,MAAO,CAACqD,EAAOE,aAAcF,EAAO7B,KAAM6B,EAAOG,YAA3E,SAAyFH,EAAOE,cAAnFD,QAErB,uBAAO5D,KAAK,OAAOW,MAAO,CAAE8C,SAAU,OAASnD,MAAO3B,EAAMoF,SAAU7D,SAAU,SAAAC,GAAC,OAAIxB,EAAMqF,WAAW7D,EAAEE,OAAOC,UAC/G,uBAAON,KAAK,OAAOW,MAAO,CAAE8C,SAAU,OAASnD,MAAO3B,EAAMsF,OAAQ/D,SAAU,SAAAC,GAAC,OAAIxB,EAAMuF,SAAS/D,EAAEE,OAAOC,UAC3G,qBAAKK,MAAO,CAAEO,MAAO,OAAQiD,eAAgB,YAAaC,OAAQ,WAAa7C,QAAS,kBAAM5C,EAAM0F,aAApG,qCAGR,qBAAK1D,MAAO,CAAEC,QAAS,QAAvB,SACKwC,EAAQA,QAAQpB,KAAI,SAACsC,EAAQC,GAAT,OAAyB,sBAAuBvF,UAAU,sBAAsB2B,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ2C,cAAe,SAAU5B,YAAa4C,EAAc,GAAK,SAAhK,UAC1C,qBAAK5D,MAAO,CAAE8D,WAAY,MAAON,eAAgB,aAAjD,SAAiEG,EAAOT,eACvES,EAAOI,WAAW1C,KAAI,SAAC1B,EAAOqE,GAAR,OAA0B,8BAC7C,wBAAOhE,MAAO,CAAEyD,OAAQ,WAAxB,UACI,uBAAOpF,UAAU,8BAA8BgB,KAAK,WAAW4E,YAAavB,EAAYwB,aAAcN,EAClGO,eAAgBH,EAAezE,SAAU,SAAAC,GAAC,OAAIxB,EAAMuB,SAASkD,EAAQtB,KAAMwC,EAAOxC,KAAMxB,EAAO+C,EAAYkB,EAAaI,MAC3HrE,MAJkDqE,QAFPJ,WAYxE,oBAAI5D,MAAO,CAAEoE,OAAQ,WAAYC,OAAQ,OAAQC,WAAY,qCAAsCxC,OAAQ,MAAOI,MAAO,WA7B/DO,EAAQxB,a,+BC+anEsD,G,MAjbD,SAACvG,GACX,MAAwBwG,oBAAU,GAAlC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0CJ,mBAAS,IAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KACA,EAA8BN,mBAAS,IAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAA0BR,mBAAS,IAAnC,mBAAOvD,EAAP,KAAcgE,EAAd,KACA,EAAkCT,mBAAS,IAA3C,mBAAOU,EAAP,KAAkBC,EAAlB,KAEIC,EAAY,EACZC,EAAa,EACbC,EAAa,EACbC,EAAkB,EAClBC,EAAU,EACVC,EAAgB,EAChBC,EAAU,EACVC,EAAiB,EACjBC,EAAkB,EAClBC,EAAU,EACVC,EAAuB,EACvBC,EAAa,EACbC,EAAkB,EAClBC,EAAc,EACdC,EAAmB,EACnBC,EAAwB,EAEtBC,EAAWC,iBAAO,MAElBC,EAAY,QAElBC,qBAAU,WACNvI,EAAMwI,aAAeJ,EAASK,SAAWzI,EAAMwI,YAAYJ,EAASK,QAAQC,gBAE7E,CAAC1I,EAAMwE,OAEV,IAAMmE,EAAgB,SAACC,EAAMpE,GACzB,OAAOoE,GAAQpE,IAASqE,MAAMrE,GAASA,EAAKsE,WAAWhH,SAAS,KAAzB,UAAmCiH,KAAKC,IAAIxE,EAAO,IAAM,EAAIA,EAAKyE,QAAQ,GAAKzE,GAA/E,eAChCuE,KAAKC,IAAIxE,EAAO,IAAM,EAAIA,EAAKyE,QAAQ,GAAKzE,IAAW,IAI5D0E,EAAiB,SAACC,GACpB,OAAOA,GAAQ,IAAIC,KAAKD,GAAME,cAAcC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,MAGjFC,EAAkB,SAACxG,EAAO2F,EAAMc,GAAW,IAAD,QAC5C,OAAQzG,GACJ,IAAK,2BACD,OAAO,qBAAKjB,MAAO,CAAE2H,WAAY,UAA1B,SAAuCf,EAAKgB,WACvD,IAAK,eACD,OAAOhB,EAAKzF,KAChB,IAAK,kCACD,OAAOyF,EAAKiB,UAChB,IAAK,uCAED,OADAjB,IAASxB,GAAa0C,WAAWlB,EAAKmB,aAC/BpB,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMmB,YACrC,IAAK,uCAED,OADAnB,IAASvB,GAAcyC,WAAWlB,EAAKoB,cAChCrB,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMoB,aACrC,IAAK,2BAED,OADApB,IAAStB,GAAcwC,WAAWlB,EAAKqB,UAChCtB,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMqB,SACrC,IAAK,0DAED,OADArB,IAASrB,GAAmBuC,WAAWlB,EAAKsB,gBACrCtB,EAAOD,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMsB,eAAiB,qBAAKlI,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC7D,IAAK,0DACL,IAAK,0DACL,IAAK,0DACD,OAAO,gCACH,uBAAOwB,SAAqB,4DAAVnH,KAA+B,OAAJ2F,QAAI,IAAJA,OAAA,EAAAA,EAAMyB,SAAU,GAA8B,oCAArB,OAAJzB,QAAI,IAAJA,OAAA,EAAAA,EAAM0B,iBAAuD,8BAArB,OAAJ1B,QAAI,IAAJA,OAAA,EAAAA,EAAM0B,kBAC7F,4DAAVrH,GAA0B2F,EAAK2B,QAChCtH,MAAkB,4DAAVA,KAA+B,OAAJ2F,QAAI,IAAJA,OAAA,EAAAA,EAAM2B,SAAU,oFAAwB,OAAJ3B,QAAI,IAAJA,OAAA,EAAAA,EAAMyB,SAAU,EAAI,4GAC7D,oCAArB,OAAJzB,QAAI,IAAJA,OAAA,EAAAA,EAAM0B,iBAAuD,8BAArB,OAAJ1B,QAAI,IAAJA,OAAA,EAAAA,EAAM0B,gBAA3C,uKAAyG1B,QAAzG,IAAyGA,OAAzG,EAAyGA,EAAM0B,gBAAmB,KACvH,4DAAVrH,GAA0B2F,EAAK2B,SAAW,oFAAsB,GACrElJ,KAAK,WAAWmB,UAASoG,IAAQ5I,EAAMwK,cAAgBxK,EAAMwK,cAAcd,GAAOlH,QAAUoG,EAAK6B,cACjGzI,MAAO,CACHmI,aAAcvB,GAAQ5I,EAAM0K,aAAe,SAAU7E,SAAW+C,GAAQ5I,EAAM0K,YAAe,WAC7FjF,OAAQ,WACTlE,SAAU,SAAAC,GAAC,OAAIxB,EAAM2K,eAAenJ,EAAEE,OAAOc,QAASkH,EAAOd,MACnEA,GAAQ5I,EAAM0K,YAAc,sBAAK1I,MAAO,CAAEC,QAAS,OAAQC,eAAgB,gBAA/C,UACzB,cAAC,IAAD,CAAeI,KAAK,MAAMN,MAAO,CAAEyD,OAAQ,WAAa7C,QAAS,kBAAM5C,EAAM2K,gBAAe,EAAOjB,EAAOd,MAC1G,cAAC,IAAD,CAAetG,KAAK,MAAMN,MAAO,CAAEyD,OAAQ,UAAWlD,MAAOqG,EAAKgC,cAAgB,WAAahI,QAAS,kBAAM5C,EAAM2K,gBAAe,EAAMjB,EAAOd,YAG5J,IAAK,iCACD,OAAOD,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMiC,gBACrC,IAAK,iCACD,OAAOlC,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMkC,eACrC,IAAK,iCACD,OAAOlC,EAAKmC,YAChB,IAAK,0DACD,OAAOnC,EAAKoC,iBAChB,IAAK,2BACD,OAAOpC,EAAKqC,iBAChB,IAAK,2BACD,OAAOrC,EAAKO,KAChB,IAAK,0DACD,OAAOP,EAAOA,EAAKsC,eAAiB,qBAAKlJ,MAAO,CAAEmI,WAAY,UAA1B,eACxC,IAAK,iCAED,OADAvB,IAAShB,GAAmBkC,WAAWlB,EAAKuC,iBACrCxC,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMuC,gBACrC,IAAK,6CAED,OADAvC,IAASf,GAAWiC,WAAWlB,EAAKwC,OAC7BzC,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMwC,MACrC,IAAK,+DAED,OADAxC,IAASnB,GAAiBqC,WAAWlB,EAAKyC,aACnC1C,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMyC,YACrC,IAAK,2BAED,OADAzC,IAASpB,GAAWsC,WAAWlB,EAAK0C,OAC7B3C,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAM0C,MACrC,IAAK,iCAED,OADA1C,IAASlB,GAAWoC,WAAWlB,EAAK2C,OAC7B5C,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAM2C,MACrC,IAAK,gEAED,OADA3C,IAASjB,GAAkBmC,WAAWlB,EAAK2C,OACpC5C,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAM4C,cACrC,IAAK,iCACL,IAAK,gEACL,IAAK,gEACD,IAAMrC,EAAiB,mCAAVlG,EAAoB2F,EAAKO,KAAiB,kEAAVlG,EAA0B2F,EAAK6C,iBAA/B,OAAkD7C,QAAlD,IAAkDA,OAAlD,EAAkDA,EAAM8C,cACrG,OAAOxC,EAAeC,GAC1B,IAAK,wCACD,OAAOD,EAAeN,EAAK+C,YAC/B,IAAK,2BACD,IAAQ,OAAJ/C,QAAI,IAAJA,OAAA,EAAAA,EAAMyB,SAAuC,QAAzB,OAAJzB,QAAI,IAAJA,GAAA,UAAAA,EAAMyB,cAAN,eAAcvB,aAAoD,OAAzB,OAAJF,QAAI,IAAJA,GAAA,UAAAA,EAAMyB,cAAN,eAAcvB,YAAoB,CACvFhB,GAAwBgC,WAAWlB,EAAKyB,QACxC,IAAMA,EAAS1B,EAAcC,EAAMA,EAAKyB,QACxC,OAAO,qBAAKrI,MAAO,CAAEO,MAAO8H,EAAOvI,SAAS,KAAO,MAAQ,SAApD,SAAgEuI,IAE3E,OAAIzB,GAAQ5I,EAAM4L,WAEd9D,GAAwBgC,WAAWlB,EAAKoB,aACjC,qBAAKpH,QAAS,WAAQ8D,EAAQgD,GAAQ5C,EAAiB7D,GAAQ2D,EAAYgC,EAAKoB,cACnFhI,MAAO,CAAEyD,OAAQ,OAAQY,OAAQuC,EAAKiD,cAAgBjD,EAAKoB,aAAoC,IAArBpB,EAAKoB,cAAsB,iBADlG,SAEFvD,IAASiD,GAAS7C,IAAkB5D,EAAQ,uBAAO5B,KAAK,OAAOyK,WAAS,EAACnK,MAAOgF,EAC7E3E,MAAO,CAAEkC,MAAO,MAAOY,SAAU,OAASvD,SAAU,SAAAC,GAAC,OAAI8G,EAAUyD,KAAKvK,EAAEE,OAAOC,QAAUiF,EAAYpF,EAAEE,OAAOC,QAChHqK,OAAQ,SAAAxK,GAAOoH,EAAKoB,cAAgBxI,EAAEE,OAAOC,OAAS3B,EAAMiM,UAAUtF,EAAUiC,EAAMc,GAAQhD,EAAQ,OACtGiC,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMoB,iBAEtCpB,IAASd,GAAwBgC,WAAU,OAAClB,QAAD,IAACA,OAAD,EAACA,EAAMsD,qBAC3CvD,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMsD,qBACrC,IAAK,uCACD,OAAOtD,EAAKuD,iBAChB,IAAK,oDACD,OAAO,cAAC,IAAD,CAAc7J,KAAK,MAAMN,MAAO,CAAEyD,OAAQ,UAAW0E,YAAavB,GAAQ,UAAYhG,QAAS,kBAAM5C,EAAMoM,SAASxD,MAC/H,IAAK,0DACD,OAAOA,GAAQ,yBAAQjH,MAAOiH,EAAKyD,gBAAkBzD,EAAK0D,OAAQtK,MAAO,CAAEuK,aAAe3D,EAAKiD,aAAejD,EAAKyD,gBAAoBzD,EAAKiD,aAAejD,EAAK0D,SAAY,MAAOxH,SAAU,MAAOZ,MAAO,OAAQX,SAAU,QACzNhC,SAAU,SAAAC,GAAC,MAAuB,KAAnBA,EAAEE,OAAOC,OAAgB3B,EAAMwM,oBAAoBhL,EAAEE,OAAOC,MAAOiH,EAAMc,IAD7E,UAEX,wBAAQ/H,MAAM,GAAG8K,QAAM,EAAvB,gCACCzM,EAAM0M,gBAAkBC,OAAOC,KAAK5M,EAAM0M,gBAAgBrJ,KAAI,SAAA1C,GAAG,OAC9D,wBAAkBgB,MAAO3B,EAAM0M,eAAe/L,GAA9C,SAAqDX,EAAM0M,eAAe/L,IAA7DA,SAEzB,IAAK,gEACD,OAAIiI,GAAQ5I,EAAM4L,UACP,qBAAKhJ,QAAS,WAAQ8D,EAAQgD,GAAQ5C,EAAiB7D,GAAQ2D,EAAY,IAAO5E,MAAO,CAAEyD,OAAQ,QAAnG,SACFgB,IAASiD,GAAS7C,IAAkB5D,EAAQ,uBAAO5B,KAAK,OAAOyK,WAAS,EAACnK,MAAOgF,EAC7E3E,MAAO,CAAEkC,MAAO,MAAOY,SAAU,OAASvD,SAAU,SAAAC,GAAC,OAAI8G,EAAUyD,KAAKvK,EAAEE,OAAOC,QAAUiF,EAAYpF,EAAEE,OAAOC,QAChHqK,OAAQ,SAAAxK,GAAO,IAAMA,EAAEE,OAAOC,OAAS3B,EAAMiM,UAAUtF,EAAUiC,EAAMc,GAAQhD,EAAQ,OAAa,KAEhHkC,IAASb,GAAc+B,WAAWlB,EAAKoB,cAChCrB,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMoB,cACrC,IAAK,oDAED,OADApB,IAASZ,GAAmB8B,WAAWlB,EAAKiE,oBACrClE,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMiE,mBACrC,IAAK,sEACD,OAAI7M,EAAM8M,OACC5D,EAAeN,EAAKmE,mBACxBnE,GAAQ,qBAAKhG,QAAS,WAAQ8D,EAAQgD,GAAQ5C,EAAiB7D,GAAQ2D,EAAYgC,EAAKmE,oBAC3F/K,MAAO,CAAEyD,OAAQ,OAAQY,OAAQuC,EAAKiD,cAAgBjD,EAAKmE,mBAAgD,IAA3BnE,EAAKmE,oBAA4B,iBADtG,SAEVtG,IAASiD,GAAS7C,IAAkB5D,EAAQ,uBAAO5B,KAAK,OAAOyK,WAAS,EAACnK,MAAOgF,GAAYA,EAAS2C,MAAM,EAAG,IAC3GtH,MAAO,CAAEkC,MAAO,MAAOY,SAAU,OAASvD,SAAU,SAAAC,GAAC,OAAIoF,EAAY,GAAD,OAAIpF,EAAEE,OAAOC,MAAb,YACpEqK,OAAQ,SAAAxK,GACJoH,EAAKmE,oBAAsBvL,EAAEE,OAAOC,OAAS3B,EAAMgN,gBAAgBrG,EAAUiC,EAAMc,GACnFhD,EAAQ,OAEZkC,EAAKmE,kBAAoB7D,EAAeN,EAAKmE,mBAAqB,IAC9E,IAAK,oDACD,OAAI/M,EAAM8M,OACC5D,EAAeN,EAAKqE,WACxBrE,GAAQ,qBAAKhG,QAAS,WAAQ8D,EAAQgD,GAAQ5C,EAAiB7D,GAAQ2D,EAAYgC,EAAKqE,YAC3FjL,MAAO,CAAEyD,OAAQ,OAAQY,OAAQuC,EAAKiD,aAAejD,EAAKqE,WAAa,iBAD5D,SAEVxG,IAASiD,GAAS7C,IAAkB5D,EAAQ,uBAAO5B,KAAK,OAAOyK,WAAS,EAACnK,MAAOgF,GAAYA,EAAS2C,MAAM,EAAG,IAC3GtH,MAAO,CAAEkC,MAAO,MAAOY,SAAU,OAASvD,SAAU,SAAAC,GAAC,OAAIoF,EAAY,GAAD,OAAIpF,EAAEE,OAAOC,MAAb,YACpEqK,OAAQ,SAAAxK,GACJoH,EAAKqE,YAAczL,EAAEE,OAAOC,OACxB3B,EAAMkN,eAAevG,EAAUiC,EAAMc,GAAQhD,EAAQ,OAE7DkC,EAAKqE,UAAY/D,EAAeN,EAAKqE,WAAa,IAC9D,IAAK,oDACD,OAAOrE,EAAKuE,aAChB,IAAK,0DACD,OAAOvE,EAAKwE,YAChB,IAAK,oDACD,OAAOxE,IAASA,EAAKyE,oBAAsBzE,EAAK0E,mBAAqB1E,EAAK2E,oBAAsB,GACpG,IAAK,oDACD,OAAO3E,GAAQ,yBAAQjH,MAAOiH,EAAK4E,mBAAoBxL,MAAO,CAAEuK,YAAa3D,EAAKiD,aAAejD,EAAK4E,oBAAsB,MAAO1I,SAAU,OACzIvD,SAAU,SAAAC,GAAC,MAAuB,KAAnBA,EAAEE,OAAOC,OAAgB3B,EAAMyN,oBAAoBjM,EAAEE,OAAOC,MAAOiH,EAAMc,IAD7E,UAEX,wBAAQ/H,MAAM,GAAG8K,QAAM,EAAvB,gCACCzM,EAAM0N,aAAe1N,EAAM0N,YAAYrK,KAAI,SAAA1C,GAAG,OAC3C,wBAAqBgB,MAAOhB,EAAIiD,GAAhC,SAAqCjD,EAAIuK,gBAA5BvK,EAAIiD,UAE7B,IAAK,2BACD,OAAOgF,GAAQ,yBAAQjH,MAAOiH,EAAK+E,wBAAyB3L,MAAO,CAAEuK,YAAa3D,EAAKiD,aAAejD,EAAK+E,yBAA2B,MAAO7I,SAAU,MAAOZ,MAAO,OAAQX,SAAU,QACnLhC,SAAU,SAAAC,GAAC,MAAuB,KAAnBA,EAAEE,OAAOC,OAAgB3B,EAAM4N,yBAAyBpM,EAAEE,OAAOC,MAAOiH,EAAMc,IADlF,UAEX,wBAAQ/H,MAAM,GAAG8K,QAAM,EAAvB,gCACCzM,EAAM6N,kBAAoB7N,EAAM6N,iBAAiBxK,KAAI,SAAA1C,GAAG,OACrD,wBAAqBgB,MAAOhB,EAAIiD,GAAhC,SAAqCjD,EAAIwC,MAA5BxC,EAAIiD,UAE7B,IAAK,iCAED,OADoB,UAAAgF,EAAKkF,+BAAL,eAA8BC,QAAS,GAAvC,UAA+CnF,EAAKkF,wBAAwBxE,MAAM,EAAG,IAArF,OAAgGV,EAAKkF,wBAE7H,IAAK,2BACD,cAAOlF,QAAP,IAAOA,OAAP,EAAOA,EAAMoF,gBACjB,IAAK,gEACD,cAAOpF,QAAP,IAAOA,OAAP,EAAOA,EAAM0B,eACjB,IAAK,iCACD,cAAO1B,QAAP,IAAOA,OAAP,EAAOA,EAAMyD,eACjB,IAAK,sEAED,OADAzD,IAASX,GAAe6B,WAAWlB,EAAKqF,SACjCrF,EAAOD,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMqF,QAAU,qBAAKjM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eACtD,IAAK,0DAED,OADAA,IAASV,GAAoB4B,WAAWlB,EAAKsF,gBACtCtF,EAAOD,EAAcC,EAAD,OAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMsF,eAAiB,qBAAKlM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC7D,IAAK,gEACD,OAAOM,EAAeN,EAAKuF,aAC/B,IAAK,iCACD,OAAO,UAAAvF,EAAKwF,eAAL,eAAcL,QAAS,GAAKnF,EAAKwF,QAAQ9E,MAAM,EAAG,IAAMV,EAAKwF,QACxE,IAAK,sEACD,OAAOxF,EAAKyF,0BAChB,IAAK,0DACD,OAAOzF,EAAOA,EAAK0F,mBAAqB,qBAAKtM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC5C,IAAK,oDACD,OAAOA,EAAOA,EAAK2F,oBAAsB,qBAAKvM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC7C,IAAK,gEACD,OAAOA,EAAOA,EAAK4F,kBAAoB,qBAAKxM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC3C,IAAK,8EAED,OADAA,IAAST,GAAyB2B,WAAWlB,EAAK6F,uBAC3C7F,EAAOA,EAAK6F,qBAAuB,qBAAKzM,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eAC9C,IAAK,gEACD,OAAOA,EAAOA,EAAK8F,QAAU,qBAAK1M,MAAO,CAAEmI,YAAavB,GAAQ,UAAnC,eACjC,IAAK,+FACD,OAAOM,EAAeN,EAAK+F,0BAC/B,IAAK,yFACD,OAAOzF,EAAeN,EAAKgG,4BAC/B,IAAK,gEACD,OAAO1F,EAAeN,EAAKiG,kBAC/B,IAAK,mFACD,OAAO3F,EAAeN,EAAKkG,4BAC/B,IAAK,yFACD,OAAO5F,EAAeN,EAAKmG,8BAC/B,IAAK,8CACD,OAAOnG,EAAKmC,YAChB,IAAK,sDACD,MAAO,GACX,IAAK,8CACD,OAAOnC,EAAKoG,SAChB,IAAK,wCACD,MAAO,GACX,IAAK,kFACD,OAAOpG,EAAKqG,gBAChB,IAAK,0DACD,OAAOrG,EAAKsG,mBAChB,IAAK,oDACD,OAAOtG,EAAKuG,kBAChB,IAAK,mFACD,OAAOjG,EAAeN,EAAKwG,4BAC/B,IAAK,yFACD,OAAOlG,EAAeN,EAAKyG,8BAC/B,IAAK,0DACD,OAAOzG,IAASA,EAAK0G,uBACjB,uBAAOjO,KAAK,SAASM,MAAM,gEAActB,UAAU,SAAS2B,MAAO,CAAE8C,SAAU,OAASlC,QAAS,kBAAM5C,EAAMuP,aAAa3G,EAAK0G,2BAC/H,uBAAOjO,KAAK,WAAWmB,QAASxC,EAAMwP,eAAe1N,SAAS8G,EAAK6G,YAAalO,SAAU,SAAAC,GAAC,OAAIxB,EAAM0P,qBAAqBlO,EAAEE,OAAOc,QAASoG,EAAK6G,gBACzJ,IAAK,gEACD,OAAO7G,GAAQA,EAAK0G,uBAAyB1G,EAAK0G,uBAAyB,KAC/E,IAAK,GACD,OAAO1G,GAAQ,cAAC,IAAD,CAAUtG,KAAK,QAAQN,MAAO,CAAEyD,OAAQ,UAAWlD,MAAO,OAASK,QAAS,kBAAM5C,EAAM2P,OAAO/G,QAMpHgH,EAAmB,SAACpL,GACtB,OAAQqE,MAAMrE,GACgD,EADvCA,EAAO,EAAP,UAAcuE,KAAKC,IAAIxE,EAAO,IAAM,EAAIA,EAAKyE,QAAQ,GAAKzE,GAA1D,eAChBuE,KAAKC,IAAIxE,EAAO,IAAM,EAAIA,EAAKyE,QAAQ,GAAKzE,KAGjDqL,EAAsB,SAAC5M,GAAW,IAAD,EACnC,OAAQA,GACJ,IAAK,2BACL,IAAK,2BACL,IAAK,eACL,IAAK,kCACL,IAAK,0DACL,IAAK,iCACD,OAAO,UAAAjD,EAAM8P,mBAAN,eAAmBhO,SAASmB,IAAS,GAArC,UAA6CjD,EAAMwE,KAAKmB,QAAO,SAAAnB,GAAI,MAAa,KAATA,KAAauJ,OAApF,yCACX,IAAK,uCACD,OAAO6B,EAAiBxI,GAC5B,IAAK,uCACD,OAAOwI,EAAiBvI,GAC5B,IAAK,2BACD,OAAOuI,EAAiBtI,GAC5B,IAAK,0DACD,OAAOsI,EAAiBrI,GAC5B,IAAK,iCACD,OAAOqI,EAAiBhI,GAC5B,IAAK,6CACD,OAAOgI,EAAiB/H,GAC5B,IAAK,+DACD,OAAO+H,EAAiBnI,GAC5B,IAAK,2BACD,OAAOmI,EAAiBpI,GAC5B,IAAK,iCACD,OAAOoI,EAAiBlI,GAC5B,IAAK,gEACD,OAAOkI,EAAiBjI,GAC5B,IAAK,2BACD,OAAOiI,EAAiB9H,GAC5B,IAAK,gEACD,OAAQ9H,EAAM4L,WAAagE,EAAiB7H,GAChD,IAAK,oDACD,OAAO6H,EAAiB5H,GAC5B,IAAK,sEACD,OAAO4H,EAAiB3H,GAC5B,IAAK,0DACD,OAAO2H,EAAiB1H,GAC5B,IAAK,8EACD,OAAO0H,EAAiBzH,KAK7ByE,EAAQ5M,EAAR4M,KACPrE,qBAAU,WACN,IAAMwH,EAAU,GACbnD,IAECA,EAAKoD,SAAQ,SAAAC,GACTF,EAAQE,GAAW,QAErBjJ,EAAW+I,MAEnB,CAACnD,IAaH,OANArE,qBAAU,WACK,6BAARtF,GAA8C,+BAARA,GAA8C,gBAARA,GAA+B,qBAARA,GAA2BkE,EAAa,QACnI,WAARlE,GAA4B,YAARA,GAA2B,sBAARA,GAAqC,aAARA,GAA4B,uBAARA,GAAsC,wBAARA,GAAuC,yBAARA,GAA+BkE,EAAa,UACpMA,EAAa,UAEf,CAAClE,IAEC,sBAAKjB,MAAK,aAAI6D,SAAU,WAAYO,OAAQ,OAAUpG,EAAMgC,OAA5D,UACI,wBAAOkO,IAAK9H,EAAUxE,GAAG,QAAQ5B,MAAK,aAAImO,eAAgB,YAAenQ,EAAMoQ,YAA/E,UACI,uBAAOpO,MAAO,CAAEgC,gBAAiB,WAAjC,SACI,6BACKhE,EAAMqQ,OAAOhN,KAAI,SAACiN,EAAM5G,GAAP,OAAiB,oBAC/B1H,MAAO,CACH6D,SAAU,SAAU0K,IAAK,OAAQlK,OAAQ,kBAAmBrC,gBAAiB,UAC7EwM,UAAW,yDAHgB,SAK/B,qBAAKxO,MAAO,CAAEoE,OAAQ,OAAtB,SAAgCkK,KALQA,UASpD,wBAAOjQ,UAAU,WAAjB,UACKL,EAAMyQ,cAAiB,+BACnB7D,EAAKvJ,KAAI,SAACiN,EAAM5G,GAAP,OAAiB,qBACvB1H,MAAO,CACHuO,IAAK,OAAQlK,OAAQ,kBAAmBrC,gBAAiB,WAFtC,UAGlBiD,EAASqJ,GACd,uBAAOjP,KAAM6F,EAAWlF,MAAO,CAAE0O,SAAU,OAAOC,UAAU,OAAQ3M,gBAAgB,UAAY4M,QAAS,OAAQJ,UAAW,OAAOnK,OAAO,QAAUpD,MAAOqN,EAAM/O,SAAY,SAACC,GAAD,OA/B3K,SAACA,GACvB,IAAIqP,EAAQ,eAAO9J,GACnB8J,EAASrP,EAAEE,OAAOuB,OAAOzB,EAAEE,OAAOC,MAClCqF,EAAW6J,GA4B2LC,CAAkBtP,QAJpK8O,MAQpC,uBAAOjP,KAAK,SAASM,MAAM,2BAAOK,MAAO,CAAE6D,SAAU,YAAcvD,KAAK,IAAIM,QAAS,kBAAI5C,EAAM+Q,WAAWhK,SAE7G/G,EAAMwE,KAAKnB,KAAI,SAACuF,EAAMc,GAAP,OAAiB,6BAC7B1J,EAAMqQ,OAAOhN,KAAI,SAACJ,GAAD,OAAW,oBAAgBjB,MAAO,CAC/CqE,OAAQ,kBAAmBZ,OAAQmD,GAAkB,4DAAV3F,GAAoC,4DAAVA,GAAoC,KAAVA,GACjF,4DAAVA,GAAoC,wEAAVA,GAAsC,sDAAVA,KAA2BjD,EAAM4L,WAAuB,6BAAV3I,MAClGjD,EAAM4L,WAAuB,kEAAV3I,IAA4BjD,EAAMgR,0BAA4B,UACvFhN,gBAAiB4E,GAAQ5I,EAAMiR,oBAAsBjR,EAAMiR,mBAAmBvH,GAAOlH,SAAW,WAEhGI,QAAS,kBAAMgG,GAAkB,4DAAV3F,GAAoC,4DAAVA,GAAoC,4DAAVA,GAAoC,KAAVA,GACvF,wEAAVA,GAAsC,sDAAVA,KAA2BjD,EAAM4L,WAAuB,6BAAV3I,MAAuBjD,EAAM4L,WAAuB,kEAAV3I,IACpHjD,EAAMgR,0BAA4BhR,EAAMgR,yBAAyBhR,EAAMiR,qBAClEjR,EAAMiR,mBAAmBvH,GAAOlH,QAASkH,EAAOd,IATjC,SAUxB,qBAAK5G,MAAO,CACRoE,OAAQ,MAAOsK,SAAU,OAAQQ,UAAW,aAAc3O,MAAOqG,EAAK2B,SAAW,QADrF,SAIKd,EAAgBxG,EAAO2F,EAAMc,MAdDzG,OADCyG,UAmB5C1J,EAAMmR,YAAc,uBAAOnP,MAAO,CAAEkC,MAAO,OAAQ4B,WAAY,QAA3C,SAClB,6BACK9F,EAAMqQ,OAAOhN,KAAI,SAACJ,EAAOyG,GAAR,OAAkB,qBAAgB1H,MAAO,CAAE6D,SAAU,SAAUuL,OAAQ,OAAQpN,gBAAiB,WAA9E,UAChC,qBAAKhC,MAAO,CAAEoE,OAAQ,OAAtB,WAAkCpG,EAAMqR,WAAarR,EAAMqR,SAASvP,SAASmB,KAAW4M,EAAoB5M,KACjG,IAAVyG,GAAe,qBAAK1H,MAAO,CAAEgC,gBAAiB,UAAW6B,SAAU,WAAYyL,MAAO,OAAQf,IAAK,IAAKrM,MAAO,MAAOJ,OAAQ,YAFtFb,aAOxDjD,EAAMoE,c,gBCzXJmN,EA/BU,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,QAAQhN,EAAsB,EAAtBA,KAAKiN,EAAiB,EAAjBA,MAAMC,EAAW,EAAXA,MAC1C,EAA+BlL,qBAA/B,mBAAgBmL,GAAhB,WAuBF,OACE,qBAAK/O,QAtBe,WAGhB,IAFA,IAAIgP,EAAU,GACV7K,EAAU,GACN8K,EAAE,EAAEA,EAAErN,EAAKuJ,OAAO8D,IAAI,CAG1B,IAFA,IAAI9B,EAAS,GAEb,MAA2BpD,OAAOmF,QAAQtN,EAAKqN,IAA/C,eAAoD,CAA/C,0BAAOE,EAAP,KAAYpQ,EAAZ,KACHoO,EAAQyB,EAAQO,IAAOpQ,EAEzBoF,EAAQ3F,KAAK2O,GAGjB6B,EAAS,MAAUF,EACnBE,EAAS,KAAS7K,EAElB,IAAIiL,EAAgBC,KAAKC,UAAUN,GACnCD,EAAYK,GACZP,EAAMU,kBAAkBH,IAKChQ,MAAO,CAAEgB,YAAY,OAAlD,SACA,cAAC,IAAD,CAAgBV,KAAK,QAAQW,MAAM,eAAejB,MAAO,CAAEyD,OAAQ,gBC8OxD3F,G,MAAAA,YAAO,YAAPA,CAAoBC,aA9Pb,SAACC,GACnB,IAAMC,EAAUC,cACRkS,EAAuBpS,EAAMI,UAA7BgS,mBAER7J,qBAAU,WACN6J,EAAmBC,4BACd3R,MAAK,WACF,IAAM0E,EAAQ,WAAM,IAAIgE,MAAOkJ,cAAjB,UACRhN,EAAM,WAAM,IAAI8D,MAAOC,cAAcC,MAAM,EAAG,KACpD8I,EAAmBG,cAAcnN,EAAUE,GAC3C8M,EAAmBI,kCAAkCpN,EAASrC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,GAC9F4I,EAAmBI,kCAAkClN,EAAOvC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,MAE/F9I,MAAK,kBAAM+R,OACX/R,MAAK,kBAAMgS,SAEjB,IAEHnK,qBAAU,WACN6J,EAAmBO,yBAEpB,CAACP,EAAmBQ,oBAEvB,IAIMH,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAU4P,EAAmBY,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALpIb,EAAmBc,8BAA8B,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YACrFJ,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAgCrF2Q,EAAe,SAACC,EAAY5R,GAC9B4Q,EAAmBiB,kBAAoBjB,EAAmBkB,eAAeF,EAAY5R,EAAEE,OAAOC,QAG5F4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5CpB,EAAmBiB,mBACnBP,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9BxB,EAAmByB,oBAAoBT,EAAY9P,KAIrDoP,EAAyB,WAC3B,IAAIoB,EAAO1B,EAAmB2B,2BACxBC,EAAU,SAACxP,GAGb,OAFAA,EAAKhC,QAAQ,GAAyB,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAtC,iBAAoD,IAAI4G,MAAOkJ,cAA/D,UAClB9N,EAAKhC,QAAQ,GAAyB,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAtC,WAA8C,IAAI4G,MAAOC,cAAcC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAA9G,UACXhF,GAGXsP,EAAKG,gBAAL,sBAA2BH,EAAKG,iBAAhC,YACG7B,EAAmB8B,+BAA+BD,gBAAgB5Q,KAAI,SAAA8Q,GAAO,OAAIH,EAAQG,QAC5FL,EAAKM,eAAL,sBAA0BN,EAAKM,gBAA/B,YACGhC,EAAmB8B,+BAA+BE,eAAe/Q,KAAI,SAAAgR,GAAM,OAAIL,EAAQK,QAC1FP,EAAKQ,gBAAL,sBAA2BR,EAAKQ,iBAAhC,YACGlC,EAAmB8B,+BAA+BI,gBAAgBjR,KAAI,SAAAkR,GAAO,OAAIP,EAAQO,QAC3FrT,eAAe2R,QAAQ,UAAkE3R,eAAesT,WAAW,UAAhFpC,EAAmBqC,2BAA2BX,IAoBtF,OADAxP,QAAQC,IAAI6N,EAAmBsC,sBAE3B,eAAC,EAAD,CAAWzR,MAAM,uLAAsCkB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAlI,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAsBmE,KAAM4N,EAAmBsC,qBAC3CnT,SAzFO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvEoM,EAAmBc,8BAA8ByB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,IAyFxFjB,iBAtEiB,SAACC,GAC9BoN,EAAmBwC,0CAA0C5P,EAAOjC,MAAM,OAsE9DqC,SAAUgN,EAAmBhN,SAC7BE,OAAQ8M,EAAmB9M,OAC3BD,WArEe,SAAC8D,GAC5BiJ,EAAmBG,cAAcpJ,GACjCiJ,EAAmBI,kCAAkCrJ,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IAoE9EjE,SAjEa,SAAC4D,GAC1BiJ,EAAmBG,cAAc,KAAMpJ,GACvCiJ,EAAmBI,kCAAkCrJ,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IAgE9E9D,UA7DQ,WACpB0M,EAAmBG,cAAc,GAAI,IACrCH,EAAmBI,kCAAkC,KAAM,KAAM,YA4DxDJ,EAAmBsC,qBAAqB3G,OAAS,GAAK,qBAAK1N,UAAU,2CAAf,SACnD,sBAAKA,UAAU,0CAA0C2B,MAAO,CAAE6D,SAAU,YAA5E,UACI,uBAAOxE,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QApFnF,WACrBwP,EAAmBc,8BAA8B,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cACrFJ,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QAmFnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS,kBAAMwP,EAAmBiB,kBAAoBX,KAC1E1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,sCAMJ,sBAAK9S,MAAO,CAAE6D,SAAU,WAAY0K,IAAK,OAAQtO,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,eAAzH,UACkD,KAA7CkO,EAAmB2C,eAAeC,SA/BvDC,YAAW,WACP7C,EAAmB8C,qBAAqB,MACzC,KAEI,qBAAKlT,MAAO,CAAE6D,SAAU,WAAYsP,KAAM,OAAQxL,WAAY,SAAUjG,WAAY,MAAOoB,SAAU,SAArG,SAAiHsN,EAAmB2C,kBA4BvH,qBAAK1U,UAAU,SAASuC,QAAS,kBAAMwP,EAAmBiB,kBAAoBjB,EAAmBgD,gBAC7FpT,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,OAD7E,0EAQhB,sBAAKzE,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OACX7M,OAAQsO,EAAmBiD,gBAAkBjD,EAAmBkD,iBAAmBlD,EAAmBiD,gBAAkBjD,EAAmBkD,kBAF/I,UAII,sBAAKtT,MAAO,CAAE8B,OAAQsO,EAAmBmD,wBAAwBxH,OAAS,IAAM,cAAe/K,YAAa,mBAA5G,UACI,sBAAKhB,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,UACI,sBAAK/B,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOyQ,EAAmBoD,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACjF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,cAAC,UAAD,CAASW,SAAQ,UAAKrD,EAAmBsD,sBAAxB,aAAiD,IAAItM,MAAOC,cAAcC,MAAM,EAAG,IAAnF,QACb9E,KAAM4N,EAAmBuD,mCACzBnE,QAAS,CACL,CAAEoE,MAAO,eAAM7D,IAAK,QACpB,CAAE6D,MAAO,uCAAU7D,IAAK,cACxB,CAAE6D,MAAO,uCAAU7D,IAAK,eACxB,CAAE6D,MAAO,2BAAQ7D,IAAK,WACtB,CAAE6D,MAAO,0DAAc7D,IAAK,kBAPpC,SASI,cAAC,IAAD,CAAezP,KAAK,QAAQW,MAAM,iCAAQjB,MAAO,CAAEyD,OAAQ,eAE/D,cAAC,EAAD,CAAkB+L,QAAS,CACjB,KAAQ,eACP,WAAa,uCACd,YAAc,uCACb,QAAU,2BACX,cAAgB,2DAErBhN,KAAM4N,EAAmBuD,mCACzBlE,MAAOW,EACPV,MAAOU,EAAmBsD,2BAInC,eAAC,EAAD,CAAOrF,OAAQ,CAAC,eAAM,uCAAU,uCAAU,2BAAQ,0DAAc,2DAC5D3F,YAAU,EACVlG,KAAM4N,EAAmBmD,wBACzB/K,cAAe4H,EAAmByD,mBAClC5E,mBAAoBmB,EAAmB0D,wBACvC9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0BwJ,EAAmBiB,kBAAoBjB,EAAmB2D,2BAA2BvT,EAASkH,EAAOd,IACzJ+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BwJ,EAAmB4D,sBAAsBxT,EAASkH,EAAOd,IACnG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIsO,EAAmB6D,oBAAoBnS,IAC9DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QAVvE,UAaI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAA6E,gBAA7C+R,EAAmBsD,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAAvL,kDACA,qBAAKnB,UAAS,qCAA6E,WAA7C+R,EAAmBsD,uBAAsC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,SAAU,EAAG,gCAA7K,4CACA,qBAAKnB,UAAS,qCAA6E,sBAA7C+R,EAAmBsD,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAAnM,+CAEJ,qBAAKnB,UAAU,6BAAf,sEACE+R,EAAmBiB,kBAAoB,qBAAKhT,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGhH,sBAAKP,MAAO,CAAE8B,OAAQsO,EAAmB+D,uBAAuBpI,OAAS,IAAM,cAAerK,WAAY,OAA1G,UACI,sBAAK1B,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,UACI,sBAAK/B,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOyQ,EAAmBgE,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAChF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,cAAC,UAAD,CAASW,SAAQ,UAAKrD,EAAmBiE,qBAAxB,aAAgD,IAAIjN,MAAOC,cAAcC,MAAM,EAAG,IAAlF,QACb9E,KAAM4N,EAAmBkE,kCACzB9E,QAAS,CACL,CAAEoE,MAAO,2BAAQ7D,IAAK,YACtB,CAAE6D,MAAO,kCAAU7D,IAAK,aACxB,CAAE6D,MAAO,uCAAU7D,IAAK,cACxB,CAAE6D,MAAO,uCAAU7D,IAAK,eACxB,CAAE6D,MAAO,2BAAQ7D,IAAK,WACtB,CAAE6D,MAAO,0DAAc7D,IAAK,kBARpC,SAUI,cAAC,IAAD,CAAezP,KAAK,QAAQW,MAAM,iCAAQjB,MAAO,CAAEyD,OAAQ,eAE/D,cAAC,EAAD,CAAkB+L,QAAS,CACvB,SAAW,2BACX,UAAY,kCACZ,WAAa,uCACb,YAAc,uCACd,QAAU,2BACV,cAAgB,2DAEhBhN,KAAM4N,EAAmBkE,kCACzB7E,MAAOW,EACPV,MAAOU,EAAmBiE,0BAGlC,eAAC,EAAD,CAAOhG,OAAQ,CAAC,2BAAQ,kCAAU,uCAAU,uCAAU,2BAAQ,0DAAc,2DACxE7L,KAAM4N,EAAmB+D,uBACzBrG,YAAa,CAAC,mCACdtF,cAAe4H,EAAmBQ,kBAClCjI,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BwJ,EAAmBmE,qBAAqB/T,EAASkH,EAAOd,IAClGoI,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0BwJ,EAAmBiB,kBA/I/C,SAACzK,GACO,YAA5CwJ,EAAmBiE,uBACnBnV,eAAeH,QAAQ,aAAc6H,EAAK4N,gBAC1CvW,EAAQmB,KAAK,mCACbF,eAAeH,QAAQ,QAAS,oCA2IuE0V,CAAoC7N,IAC/H5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIsO,EAAmBsE,mBAAmB5S,IAC7DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QATvE,UAYI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEsP,MAAO,QAAhE,UACI,qBAAKjR,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,+BAA7G,wDACA,qBAAKnB,UAAU,4BAA4BuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,WAAY,EAAG,+BAAlG,kDACA,qBAAKnB,UAAU,4BAA4BuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,WAAY,EAAG,+BAAlG,gDAEF4Q,EAAmBiB,kBAAoB,qBAAKhT,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,yCC3P1HoU,EAAeC,EAAQ,IAwMd9W,cAAO,YAAPA,CAAoBC,aAtMZ,SAACC,GAAW,IAAD,IAEtB6W,EAAwB7W,EAAMI,UAA9ByW,oBACR,EAAsCrQ,mBAASsQ,OAAOC,YAAtD,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAoDzQ,mBAAS,IAA7D,mBAAO0Q,EAAP,KAA2BC,EAA3B,KAEA5O,qBAAU,WAON,OANAsO,EAAoBO,6BAA6B1W,MAAK,kBAAM+R,OAAkB/R,MAAK,kBAAMgS,OAEzFoE,OAAOO,SAAW,SAAC7V,GACfyV,EAAezV,EAAEE,OAAOqV,aAGrB,WACHF,EAAoBnH,qBAAqB,KAAM,MAAM,MAG1D,IAEHnH,qBAAU,WACNsO,EAAoBlE,yBAErB,CAACkE,EAAoBS,0BAExB,IAIM7E,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAUqU,EAAoB7D,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALrI4D,EAAoBU,+BAA+B,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YACvFzE,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAarF2Q,EAAe,SAACC,EAAY5R,GAC9BqV,EAAoBW,mBAAqBX,EAAoBvD,eAAeF,EAAY5R,EAAEE,OAAOC,QAG/F4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5CqD,EAAoBW,oBACpB1E,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9BiD,EAAoBhD,oBAAoBT,EAAY9P,KAItDoP,EAAyB,WAC3BmE,EAAoBY,4BAA4BZ,EAAoBa,8BAMlEC,EAAc,SAACC,GACjBf,EAAoBgB,WAAWD,EAAUV,GACpCxW,MAAK,SAAAC,GACF,GAAIA,EAAImX,GAAI,CACR,IAAMzH,EAAS1P,EAAI6Q,QAAQuG,IAAI,uBAC/B,GAAI1H,EAAQ,CACRqC,IACA,IAAMsF,EAAW3H,EAAO/G,MAAM+G,EAAO4H,QAAQ,aAAe,EAAG5H,EAAOtC,OAAS,GAC/EpN,EAAIuX,OAAOxX,MAAK,SAAAyX,GAAI,OAAIxB,EAAawB,EAAMH,YAS/D,OACI,eAAC,EAAD,CAAW/U,MAAM,0DAAaN,QAAM,EAACwB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAhH,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAuBmE,KAAMqS,EAAoBuB,sBAC7C7W,SA5DO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvE6Q,EAAoBU,+BAA+B5C,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,MA4D7F6Q,EAAoBuB,sBAAsBrK,OAAS,GAAK,sBAAK1N,UAAU,2CAAf,UACrD,sBAAKA,UAAU,0CAAf,UACI,uBAAOgB,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAjDnF,WACrBiU,EAAoBU,+BAA+B,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cACvFzE,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QAgDnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS8P,EAC7B1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,yCAOR,sBAAKzU,UAAU,0CAA0C2B,MAAO,CAAEgB,YAAa,QAA/E,UACI,yBAAShB,MAAO,CAACkC,MAAM,QAAUvC,MAAOuV,EAAoB3V,SArB/C,SAACC,GAC9B2V,EAAsB3V,EAAEE,OAAOC,QAoBf,UACI,wBAAQA,MAAM,GAAG0W,UAAQ,EAACjO,UAAQ,EAAlC,2EACA,wBAAQzI,MAAM,oBAAd,sCACA,wBAAQA,MAAM,SAAd,yCAEJ,uBAAON,KAAK,SAASM,MAAM,8CAAWtB,UAAU,yCAAyCuC,QAAS,kBAAM+U,KAAe3V,MAAO,CAACkC,MAAM,UACrI,uBAAO7C,KAAK,SAASM,MAAM,gEAActB,UAAU,yCAAyCuC,QAAS,kBAAM+U,GAAY,IAAO3V,MAAO,CAACkC,MAAM,UAC5I,uBAAO7C,KAAK,SAASM,MAAM,oDAAYtB,UAAU,yCAAyCuC,QAAS,kBAAMiU,EAAoByB,cAActW,MAAO,CAACkC,MAAM,mBAKrK,sBAAK7D,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OAAQ7L,SAAUkS,GAAe,KAAO,SAAW,QAC9DlT,OAAQ+S,EAAoBxB,gBAAkBwB,EAAoBvB,iBAAmBuB,EAAoBxB,gBAAkBwB,EAAoBvB,kBAFnJ,UAII,sBAAKtT,MAAO,CAAE8B,OAAQ+S,EAAoB0B,yBAAyBxK,OAAS,IAAM,cAAe/K,YAAa,mBAA9G,UACI,sBAAK3C,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOkV,EAAoBrB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAClF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAsD,gBAA9CwG,EAAoBnB,sBAC9BsB,EAAc,KAAO,CAAC,eAAM,oDAAa,0DAAc,oDAAa,0DAAc,oDAAa,sEAAgB,gEAAe,oDAAa,0DAAc,0DAAc,IACpK,CAAC,eAAM,0DAAc,oDAAa,sEAAgB,gEAAe,oDAAa,0DAAc,0DAAc,IAC7GA,EAAc,KAAO,CAAC,eAAM,0DAAc,oDAAa,0DAAc,oDAAa,sEAAgB,gEAAe,oDAAa,0DAAc,0DAAc,IACvJ,CAAC,eAAM,0DAAc,oDAAa,sEAAgB,gEAAe,oDAAa,0DAAc,0DAAc,IAC9GtM,YAAU,EACVlG,KAAMqS,EAAoB0B,yBAC1B/N,cAAeqM,EAAoBhB,mBACnC5E,mBAAoB4F,EAAoBf,wBACxC9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0BiO,EAAoBd,2BAA2BvT,EAASkH,EAAOd,IACnH+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BiO,EAAoBlM,eAAenI,EAASoG,EAAM,IAC5F4D,oBAAqB,SAACgM,EAAe5P,GAAhB,OAAyBiO,EAAoBrK,oBAAoBgM,EAAe5P,EAAM,IAC3G8D,eAAc,UAAEmK,EAAoB4B,oBAAtB,aAAE,EAAkCC,wBAClD9M,WAAS,EACToB,gBAAiB,SAAC7D,EAAMP,GAAP,OAAgBiO,EAAoB7J,gBAAgB7D,EAAMP,EAAM,IACjFsE,eAAgB,SAAC/D,EAAMP,GAAP,OAAgBiO,EAAoB3J,eAAe/D,EAAMP,EAAM,IAC/EqD,UAAW,SAAC0M,EAAK/P,GAAN,OAAeiO,EAAoB+B,eAAeD,EAAK/P,EAAM,IACxE+G,OAAQ,SAAC/G,GAAD,OAAUiO,EAAoBlH,OAAO/G,EAAM,IACnD5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAI+S,EAAoBZ,oBAAoBnS,IAC/DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QArBvE,UAwBI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAA8E,gBAA9CwW,EAAoBnB,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAAxL,kDACA,qBAAKnB,UAAS,qCAA8E,WAA9CwW,EAAoBnB,uBAAsC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,SAAU,EAAG,gCAA9K,4CACA,qBAAKnB,UAAS,qCAA8E,sBAA9CwW,EAAoBnB,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAApM,+CAEJ,qBAAKnB,UAAU,6BAAf,sEACEwW,EAAoBW,mBAAqB,qBAAKnX,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGlH,sBAAKP,MAAO,CAAE8B,OAAQ+S,EAAoBS,wBAAwBvJ,OAAS,IAAM,cAAerK,WAAY,OAA5G,UACI,sBAAKrD,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOkV,EAAoBT,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACjF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,2BAAQ,kCAAU,2BAAQ,0DAAc,oDAAa,sEAAgB,0DAAc,oDAAa,2BAAQ,0DAAc,gEAAe,0DAAc,IAC/J7L,KAAMqS,EAAoBS,wBAC1BxH,YAAa,CAAC,mCAEdnF,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BiO,EAAoBlM,eAAenI,EAASoG,EAAM,EAAGc,IAC/F8F,eAAgBqH,EAAoBrH,eACpCE,qBAAsB,SAAClN,EAASoB,GAAV,OAAiBiT,EAAoBnH,qBAAqBlN,EAASoB,IACzF2L,aAAc,SAACsJ,GAAD,OAAmBhC,EAAoBiC,WAAWD,IAEhErM,oBAAqB,SAACgM,EAAe5P,EAAMc,GAAtB,OAAgCmN,EAAoBrK,oBAAoBgM,EAAe5P,EAAM,EAAGc,IACrHgD,eAAc,UAAEmK,EAAoB4B,oBAAtB,aAAE,EAAkCC,wBAClD9M,WAAS,EACToB,gBAAiB,SAAC7D,EAAMP,EAAMc,GAAb,OAAuBmN,EAAoB7J,gBAAgB7D,EAAMP,EAAM,EAAGc,IAC3FwD,eAAgB,SAAC/D,EAAMP,EAAMc,GAAb,OAAuBmN,EAAoB3J,eAAe/D,EAAMP,EAAM,EAAGc,IACzFuC,UAAW,SAAC0M,EAAK/P,EAAMc,GAAZ,OAAsBmN,EAAoB+B,eAAeD,EAAK/P,EAAM,EAAGc,IAClFiG,OAAQ,SAAC/G,GAAD,OAAUiO,EAAoBlH,OAAO/G,EAAM,IACnD8E,YAAamJ,EAAoBnJ,YACjCD,oBAAqB,SAACtE,EAAMP,EAAMc,GAAb,OAAuBmN,EAAoBpJ,oBAAoBtE,EAAMP,EAAM,EAAGc,IACnGkE,yBAA0B,SAACzE,EAAMP,EAAMc,GAAb,OAAuBmN,EAAoBjJ,yBAAyBzE,EAAMP,EAAM,EAAGc,IAC7GmE,iBAAkBgJ,EAAoBhJ,iBACtC7L,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAI+S,EAAoBH,mBAAmB5S,IAC9DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QAvBvE,UA0BI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEsP,MAAO,QAAhE,UACI,qBAAKjR,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,+BAA7G,wDACA,qBAAKnB,UAAU,4BAA4BuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,WAAY,EAAG,+BAAlG,kDACA,qBAAKnB,UAAU,4BAA4BuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,WAAY,EAAG,+BAAlG,gDAEFqV,EAAoBW,mBAAqB,qBAAKnX,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,wCC7L5HoU,EAAeC,EAAQ,IAmSd9W,cAAO,YAAPA,CAAoBC,aAjSR,SAACC,GAAW,IAAD,EAE1B+Y,EAA4B/Y,EAAMI,UAAlC2Y,wBACRzU,QAAQC,IAAIwU,GAEZxQ,qBAAU,WACNwQ,EAAwBC,iCACnBtY,MAAK,WACF,IAAM0E,EAAQ,WAAM,IAAIgE,MAAOkJ,cAAjB,UACRhN,EAAM,WAAM,IAAI8D,MAAOC,cAAcC,MAAM,EAAG,KACpDyP,EAAwBxG,cAAcnN,EAAUE,GAChDyT,EAAwBE,uCAAuC7T,EAASrC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,GACxGuP,EAAwBE,uCAAuC3T,EAAOvC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,MAEzG9I,MAAK,kBAAM+R,OACX/R,MAAK,kBAAMgS,SAEjB,IAEHnK,qBAAU,WACNwQ,EAAwBpG,yBAEzB,CAACoG,EAAwBnG,oBAE5B,IAIMH,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAUuW,EAAwB/F,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALzI8F,EAAwBG,mCAAmC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YAC/FpG,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAgCrF2Q,EAAe,SAACC,EAAY5R,GAC9BuX,EAAwBI,uBAAyBJ,EAAwBzF,eAAeF,EAAY5R,EAAEE,OAAOC,QAG3G4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5CuF,EAAwBI,wBACxBrG,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9BmF,EAAwBlF,oBAAoBT,EAAY9P,KAI1DoP,EAAyB,WAC3B,IAAIoB,EAAOiF,EAAwBK,gCAE7BC,EAAW,SAAC7U,GAGd,OAFAA,EAAKhC,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,iBAAuE,IAAI4G,MAAOkJ,cAAlF,UAClB9N,EAAKhC,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,WAAiE,IAAI4G,MAAOC,cAAcC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAjI,UACXhF,GAGXsP,EAAKG,gBAAL,sBAA2BH,EAAKG,gBAAgBtO,QAAO,SAAAnB,GAAI,MAAkB,iBAAdA,EAAKrB,SAApE,YACG4V,EAAwBO,oCAAoCrF,gBAAgB5Q,KAAI,SAAA8Q,GAAO,OAAIkF,EAASlF,QACvGL,EAAKM,eAAL,sBAA0BN,EAAKM,eAAezO,QAAO,SAAAnB,GAAI,MAAkB,gBAAdA,EAAKrB,SAAlE,YACG4V,EAAwBO,oCAAoClF,eAAe/Q,KAAI,SAAAgR,GAAM,OAAIgF,EAAShF,QACrGP,EAAKyF,oBAAL,YAA+BzF,EAAKyF,qBACnCrY,eAAe2R,QAAQ,UAA4E3R,eAAesT,WAAW,UAA1FuE,EAAwBS,gCAAgC1F,IAW1F2F,EAAuB,WACzB,IAAMC,EAAwBX,EAAwBnG,kBAAkBjN,QAAO,SAAAnB,GAAI,OAAIA,EAAKhC,WAASuL,OAU/F4L,EAAmB,WACrBZ,EAAwBa,cAAa,IAGzC,OAAO,qBAAKhW,GAAG,iBAAR,SACH,sBAAKvD,UAAU,eAAf,UACI,mFAAiBqZ,EAAjB,sDACA,8GACA,sBAAK1X,MAAO,CAAEC,QAAS,OAAQC,eAAgB,eAAgBC,UAAW,QAA1E,UACI,qBAAK9B,UAAU,SAAS2B,MAAO,CAAE6S,QAAS,OAASjS,QAjB7B,WAC9BmW,EAAwBc,sBACnBnZ,MAAK,WACFgS,IACAiH,QAaA,4CACA,qBAAKtZ,UAAU,SAAS2B,MAAO,CAAE6S,QAAS,OAASjS,QAAS+W,EAA5D,qDAmBhB,OACI,eAAC,EAAD,CAAW1W,MAAM,0DAAakB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAzG,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAsBmE,KAAMuU,EAAwBe,0BAChDvY,SAxHO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvE+S,EAAwBG,mCAAmCvE,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,IAwHlGjB,iBArGiB,SAACC,GAC9B+T,EAAwBgB,+CAA+C/U,EAAOjC,MAAM,OAqGxEqC,SAAU2T,EAAwB3T,SAClCE,OAAQyT,EAAwBzT,OAChCD,WApGe,SAAC8D,GAC5B4P,EAAwBxG,cAAcpJ,GACtC4P,EAAwBE,uCAAuC9P,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IAmGxFjE,SAhGa,SAAC4D,GAC1B4P,EAAwBxG,cAAc,KAAMpJ,GAC5C4P,EAAwBE,uCAAuC9P,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IA+FxF9D,UA5FQ,WACpBqT,EAAwBxG,cAAc,GAAI,IAC1CwG,EAAwBE,uCAAuC,KAAM,KAAM,YA2FlEF,EAAwBe,0BAA0B/L,OAAS,GAAK,qBAAK1N,UAAU,2CAAf,SAC7D,sBAAKA,UAAU,0CAA0C2B,MAAO,CAAE6D,SAAU,YAA5E,UACI,uBAAOxE,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAnHnF,WACrBmW,EAAwBG,mCAAmC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cAC/FpG,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QAkHnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS,kBAAMmW,EAAwBI,uBAAyBzG,KACpF1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,sCAMJ,sBAAK9S,MAAO,CAAE6D,SAAU,WAAY0K,IAAK,OAAQtO,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,eAAzH,UACwD,MAAnD,UAAA6U,EAAwBhE,sBAAxB,eAAwCC,UAtE7DC,YAAW,WACP8D,EAAwB7D,qBAAqB,MAC9C,KAEI,qBAAKlT,MAAO,CAAE6D,SAAU,WAAYsP,KAAM,IAAK/D,OAAQ,SAAUzH,WAAY,SAAUjG,WAAY,MAAOoB,SAAU,SAApH,SAAgIiU,EAAwBhE,kBAmE3I,qBAAK1U,UAAU,SAASuC,QAAS,kBAAMmW,EAAwBI,uBAAyBJ,EAAwBa,cAAa,IACzH5X,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,OAD7E,0EAQhB,sBAAKzE,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OACX7M,OAAQiV,EAAwB1D,gBAAkB0D,EAAwBzD,iBAAmByD,EAAwB1D,gBAAkB0D,EAAwBzD,kBAFnK,UAII,sBAAKtT,MAAO,CAAE8B,OAAQiV,EAAwBiB,6BAA6BjM,OAAS,IAAM,cAAe/K,YAAa,mBAAtH,UACI,sBAAKhB,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,UACI,sBAAK/B,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,OAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOoX,EAAwBvD,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACtF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,cAAC,UAAD,CAASW,SAAQ,UAAKsD,EAAwBrD,sBAA7B,aAAsD,IAAItM,MAAOC,cAAcC,MAAM,EAAG,IAAxF,QACb9E,KAAMuU,EAAwBkB,wCAC9BzI,QAAS,CACL,CAAEoE,MAAO,eAAM7D,IAAK,QACpB,CAAE6D,MAAO,2BAAQ7D,IAAK,WACtB,CAAE6D,MAAO,0DAAc7D,IAAK,kBALpC,SAOI,cAAC,IAAD,CAAezP,KAAK,QAAQW,MAAM,iCAAQjB,MAAO,CAAEyD,OAAQ,eAE/D,cAAC,EAAD,CACIjB,KAAMuU,EAAwBkB,wCAC9BzI,QAAS,CACL,CAAEoE,MAAO,eAAM7D,IAAK,QACpB,CAAE6D,MAAO,2BAAQ7D,IAAK,WACtB,CAAE6D,MAAO,0DAAc7D,IAAK,kBAEhCN,MAAOsH,EACPrH,MAAQqH,EAAwBrD,2BAGxC,eAAC,EAAD,CAAOrF,OAAQ,CAAC,eAAM,2BAAQ,2DAC1B3F,YAAU,EACVlG,KAAMuU,EAAwBiB,6BAC9BxP,cAAeuO,EAAwBlD,mBACvC5E,mBAAoB8H,EAAwBjD,wBAC5C9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0BmQ,EAAwBI,uBAAyBJ,EAAwBhD,2BAA2BvT,EAASkH,EAAOd,IACxK+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BmQ,EAAwB/C,sBAAsBxT,EAASkH,EAAOd,IACxG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIiV,EAAwB9C,oBAAoBnS,IACnEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QATjF,UAUI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAAkF,gBAAlD0Y,EAAwBrD,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAA5L,kDACA,qBAAKnB,UAAS,qCAAkF,WAAlD0Y,EAAwBrD,uBAAsC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,SAAU,EAAG,gCAAlL,4CACA,qBAAKnB,UAAS,qCAAkF,sBAAlD0Y,EAAwBrD,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAAxM,gDAEFuX,EAAwBI,uBAAyB,qBAAK9Y,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAG1H,sBAAKP,MAAO,CAAE8B,OAAQiV,EAAwBmB,4BAA4BnM,OAAS,IAAM,cAAerK,WAAY,OAApH,UACI,sBAAK1B,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,UACI,sBAAK/B,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,OAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOoX,EAAwB3C,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACrF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,sBAAK9S,MAAO,CAAEC,QAAS,QAAvB,UACI,qBAAKD,MAAO,CAAEwD,eAAgB,YAAaM,WAAY,OAAvD,gEACA,wBAAO9D,MAAO,CAAEC,QAAS,OAAQe,YAAa,OAA9C,iDAEI,uBAAO3B,KAAK,WAAWmB,QAASuW,EAAwBoB,aACpD5Y,SAAU,SAAAC,GAAC,OAAIuX,EAAwBqB,eAAe,UAAW5Y,EAAEE,OAAOc,eAElF,wBAAOR,MAAO,CAAEC,QAAS,OAAQe,YAAa,OAA9C,iDAEI,uBAAO3B,KAAK,WAAWmB,QAASuW,EAAwBsB,YACpD9Y,SAAU,SAAAC,GAAC,OAAIuX,EAAwBqB,eAAe,SAAU5Y,EAAEE,OAAOc,kBAGrF,cAAC,UAAD,CAASR,MAAO,CAAEgB,YAAa,OAASyS,SAAQ,mEAAgB,IAAIrM,MAAOC,cAAcC,MAAM,EAAG,IAAlD,QAC5C9E,KAAMuU,EAAwBuB,uCAC9B9I,QAAS,CACL,CAAEoE,MAAO,2BAAQ7D,IAAK,mBACtB,CAAE6D,MAAO,kCAAU7D,IAAK,aACxB,CAAE6D,MAAO,2BAAQ7D,IAAK,YACtB,CAAE6D,MAAO,gEAAe7D,IAAK,oBAC7B,CAAE6D,MAAO,gEAAe7D,IAAK,kBAC7B,CAAE6D,MAAO,2BAAQ7D,IAAK,UACtB,CAAE6D,MAAO,iCAAS7D,IAAK,kBACvB,CAAE6D,MAAO,oDAAa7D,IAAK,aAC3B,CAAE6D,MAAO,gEAAe7D,IAAK,kBAXrC,SAaI,cAAC,IAAD,CAAezP,KAAK,QAAQW,MAAM,iCAAQjB,MAAO,CAAEyD,OAAQ,eAE/D,cAAC,EAAD,CAAkB+L,QAAS,CACnB,CAAEoE,MAAO,2BAAQ7D,IAAK,mBACtB,CAAE6D,MAAO,kCAAU7D,IAAK,aACxB,CAAE6D,MAAO,2BAAQ7D,IAAK,YACtB,CAAE6D,MAAO,gEAAe7D,IAAK,oBAC7B,CAAE6D,MAAO,gEAAe7D,IAAK,kBAC7B,CAAE6D,MAAO,2BAAQ7D,IAAK,UACtB,CAAE6D,MAAO,iCAAS7D,IAAK,kBACvB,CAAE6D,MAAO,oDAAa7D,IAAK,aAC3B,CAAE6D,MAAO,gEAAe7D,IAAK,kBAC9BvN,KAAMuU,EAAwBuB,uCAAwC7I,MAAOsH,EAChFrH,MAAQ,4DAEZ,uBAAO1P,MAAO,CAAEgB,YAAa,OAAS3B,KAAK,SAASM,MAAM,wHAAyBiB,QA9IhF,WACnBmW,EAAwBwB,gBACnB7Z,MAAK,SAAAC,GACF,GAAIA,EAAImX,GAAI,CACR,IAAMzH,EAAS1P,EAAI6Q,QAAQuG,IAAI,uBAC/B,GAAI1H,EAAQ,CACR,IAAM2H,EAAW3H,EAAO/G,MAAM+G,EAAO4H,QAAQ,aAAe,EAAG5H,EAAOtC,OAAS,GAC/EpN,EAAIuX,OAAOxX,MAAK,SAAAyX,GAAI,OAAIxB,EAAawB,EAAMH,iBAyI/C,cAAC,EAAD,CAAO3H,OAAQ,CAAC,2BAAQ,kCAAU,2BAAQ,gEAAe,gEAAe,2BAAQ,iCAAS,oDAAa,gEAAe,2DACjHvD,QAAM,EACNgD,YAAa,CAAC,4BACdtL,KAAMuU,EAAwBmB,4BAC9B1P,cAAeuO,EAAwBnG,kBACvCjI,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0BmQ,EAAwBxC,qBAAqB/T,EAASkH,EAAOd,IACvG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIiV,EAAwBrC,mBAAmB5S,IAClEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QARjF,UASMiV,EAAwBI,uBAAyB,qBAAK9Y,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,gCAI7HwW,EAAwByB,WAAa,cAACf,EAAD,WCvRnCgB,EAhBI,SAACza,GAChB,OACI,sBAAKgC,MAAO,CAAEC,QAAS,OAAQG,aAAc,OAA7C,UACI,qBAAKJ,MAAO,CAAE0B,WAAY,OAA1B,SACK1D,EAAM0a,OAAOrX,KAAI,SAACJ,EAAOyG,GAAR,OAAkB,sBAAiB1H,MAAO,CAAEG,UAAWuH,EAAQ,GAAK,OAAlD,UAA4DzG,EAA5D,MAAUyG,QAEjD1J,EAAMoE,a,sCCTNuW,EAAwE,IAExEC,EAAG,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACFC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,MACRkF,QAAS,CAAE,eAAgB,sBAE1B9Q,MAAK,SAAAC,GACF,GAAuB,iBAAnBA,EAAIqa,WAKH,OAAOra,EAAIsa,OAJZna,aAAaoa,QACbha,eAAega,QACfpE,OAAOjU,SAASW,QAAQ,QAI/B2X,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAbjB,mFAAH,sDAgBHE,EAAS,uCAAG,WAAOT,GAAP,SAAAC,EAAA,sEACRC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,QAEP5L,MAAK,SAAAC,GACF,GAAuB,iBAAnBA,EAAIqa,WAKH,OAAOra,EAJRG,aAAaoa,QACbha,eAAega,QACfpE,OAAOjU,SAASW,QAAQ,QAI/B2X,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAZX,mFAAH,sDAeTG,EAAI,uCAAG,WAAOV,EAAY/G,EAAM0H,GAAzB,SAAAV,EAAA,sEACHC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,OACRkF,QAAS,CAAE,eAAgB,oBAC3BsC,KAAM7B,KAAKC,UAAU4B,KAEpBpT,MAAK,SAAAC,GAAG,OAAI6a,EAAc7a,EAAMA,EAAIsa,UACpCE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAPhB,mFAAH,0DAUJK,EAAY,uCAAG,WAAOZ,EAAYa,GAAnB,SAAAZ,EAAA,sEACXC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,OACRwH,KAAM4H,IAELhb,MAAK,SAAAC,GAAG,OAAIA,EAAIsa,UAChBE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MANR,mFAAH,wDASZO,EAAG,uCAAG,WAAOd,EAAY/G,GAAnB,SAAAgH,EAAA,sEACFC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,MACRkF,QAAS,CAAE,eAAgB,oBAC3BsC,KAAM7B,KAAKC,UAAU4B,KAEpBpT,MAAK,SAAAC,GAAG,OAAIA,EAAIsa,UAChBE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAPjB,mFAAH,wDAUHQ,EAAW,uCAAG,WAAOf,EAAYa,GAAnB,SAAAZ,EAAA,sEACVC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,MACRwH,KAAM4H,IAELhb,MAAK,SAAAC,GAAG,OAAIA,EAAIsa,UAChBE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MANT,mFAAH,wDASXS,EAAM,uCAAG,WAAOhB,EAAY/G,GAAnB,SAAAgH,EAAA,sEACLC,MAAMJ,EAAME,EAAY,CACjCvO,OAAQ,SACRkF,QAAS,CAAE,eAAgB,oBAC3BsC,KAAM7B,KAAKC,UAAU4B,KAEpBpT,MAAK,SAAAC,GAAG,OAAIA,EAAIsa,UAChBE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAPd,mFAAH,wDClDJU,EAXG,CACd3b,WC4CW,IAnDX,aAAe,IAAD,gCAIdc,SAAW,GAJG,KAKd8a,SAAW,GALG,KAMd/a,YAAa,EANC,KAOda,aAAe,GAPD,KAQdE,QAAS,EARK,KAUdnB,UAAY,SAACob,GACT,EAAKja,OAASia,GAXJ,KAcdva,eAAiB,SAACE,GACd,EAAKV,SAAWU,EAChB,EAAKR,gBAAgB,KAhBX,KAmBdS,eAAiB,SAACD,GACd,EAAKoa,SAAWpa,EAChB,EAAKR,gBAAgB,KArBX,KAwBdsB,iBAAmB,SAACD,GAChB,EAAKxB,WAAawB,EAClB,EAAKrB,gBAAgB,KA1BX,KA6BdA,gBAAkB,SAACia,IACS,KAAtB,EAAKvZ,cAA+B,KAARuZ,KAAgB,EAAKvZ,aAAeuZ,IA9BxD,KAiCd3a,MAjCc,sBAiCN,sBAAAqa,EAAA,yDACJ,EAAK3Z,gBAAgB,IACrB,EAAKY,QAAS,EACe,KAAzB,EAAKd,SAAS+T,QAA0C,KAAzB,EAAK+G,SAAS/G,OAH7C,gCAIaiH,EAAW,aAAc,CAAEC,SAAU,EAAKjb,SAAU8a,SAAU,EAAKA,SAAUI,YAAa,EAAKnb,aACvGN,MAAK,SAAAC,GAEF,OADAA,EAAI0a,OAAS,EAAKla,gBAAgBR,EAAIyb,SAC/Bzb,EAAI0a,SAEdF,OAAM,SAAAC,GAAS9W,QAAQ+W,MAAMD,GAAM,EAAKja,gBAAgB,wHAT7D,sDAYA,EAAKA,gBAAgB,mJAZrB,mBAaO,GAbP,oDAhCJkb,YAAmBC,ODOvBlK,mBEmRW,IA3RX,aAAe,IAAD,gCAIdiB,iBAAmB,KAJL,KAKd8C,uBAAyBoG,MAAM,IAAIzH,KAAK,IAL1B,KAMdS,wBAA0BgH,MAAM,IAAIzH,KAAK,IAN3B,KAOdwB,kCAAoC,GAPtB,KAQdX,mCAAqC,GARvB,KASdjB,qBAAuB,GATT,KAUdX,2BAA6B,CAAEE,gBAAiB,GAAIG,eAAgB,GAAIE,gBAAiB,IAV3E,KAWdJ,+BAAiC,CAC7BD,gBAAiB,CAAC,CAAE9Q,KAAM,eAAgBX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC/F8B,eAAgB,CAAC,CAAEjR,KAAM,cAAeX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC7FgC,gBAAiB,IAdP,KAgBdkI,uCAAyC,GAhB3B,KAiBdnG,qBAAuB,UAjBT,KAkBdX,sBAAwB,cAlBV,KAmBdU,gBAAkB,GAnBJ,KAoBdZ,iBAAmB,GApBL,KAqBdpQ,SAAW,GArBG,KAsBdE,OAAS,GAtBK,KAuBd+P,gBAAkB,EAvBJ,KAwBdC,iBAAmB,EAxBL,KAyBd1C,kBAAoB,GAzBN,KA0BdiD,mBAAqB,GA1BP,KA2BdC,wBAA0B,GA3BZ,KA4Bd9C,eAAiB,GA5BH,KA6Bd+B,eAAiB,GA7BH,KA+Bd0H,qCAAuC,SAACjY,GACpC,IAAMkY,EAAgBzK,KAAKC,UAAU1N,GACrC,EAAK8R,kCAAoCrE,KAAK0K,MAAMD,GAAerZ,KAAI,SAAAuF,GAAI,OACvE+D,OAAOC,KAAKhE,GAAMgU,QAAO,SAACC,EAAKC,GAAa,IAAD,EAEvC,OADAlU,EAAKkU,IAAW,UAAAlU,EAAKkU,UAAL,eAAehU,aAAc,KACtCF,IACR,QArCG,KAwCdmU,sCAAwC,SAACvY,GACrC,IAAMkY,EAAgBzK,KAAKC,UAAU1N,GACrC,EAAKmR,mCAAqC1D,KAAK0K,MAAMD,GAAerZ,KAAI,SAAAuF,GAAI,OACxE+D,OAAOC,KAAKhE,GAAMgU,QAAO,SAACC,EAAKC,GAAa,IAAD,EAGvC,OAFAlU,EAAKkU,IAAW,UAAAlU,EAAKkU,UAAL,eAAehU,aAAc,KAC7CxE,QAAQC,IAAIqE,GACLA,IACR,QA/CG,KAkDd+J,qBAAuB,WACnB,IAAMqK,EAA6B,EAAKzH,wBAAwBlS,KAAI,SAAC4Z,EAAgBvT,GACjF,GAA8B,kBAAnBuT,GAAkD,OAAnBA,EAAyB,CAC/D,IAAMC,EAA6B,EAAK/G,uBAAuBxQ,QAAO,SAAAwX,GAAa,OAAKA,EAAc5S,SAClG0S,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAC9GqP,EAAoC,EAAKxK,kBAAkBjN,QAAO,SAAA0X,GAAqB,OACzFA,GAAyBA,EAAsBzU,MAAQyU,EAAsB7a,SAC7Eya,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4C2H,EAAsBzU,KAAtB,aAAiC,EAAK8M,sBAAtC,WAAmE3H,OACjI,EAAKwH,wBAAwB7L,GAA7B,aAAqF,IAA/BwT,GAClDA,IAA+BE,EAEvC,OAAOH,KAEX,EAAK1H,wBAA0ByH,EAC/B,EAAKD,sCAAsCC,IAhEjC,KAmEd9H,qBAAuB,SAACoI,GACpB,EAAKvI,eAAiBuI,GApEZ,KAuEdC,kBAAoB,SAACC,GACjB,EAAKxK,eAAiBwK,GAxEZ,KA2EdzH,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IACA,EAAKwN,gBAAkB,GACvBnF,EAAmBvH,GAAS,CACxBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKI,wBAAL,YAAmC7E,IAGvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAK3B,iBAAiB,GAAG,EAAKgD,sBAAwB,EAAKF,uBAC7G,GAAIwH,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,SAA0CsI,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,UAA4CqI,EAAMN,eAClHK,EAAeA,EAAanY,QAAQ+X,EAA2E,IAAIO,IAArE,gBAAGrU,EAAH,EAAGA,SAAH,OAAmB8T,EAAOQ,IAAItU,IAAa8T,EAAO9J,IAAIhK,MACpG,EAAKuU,0BAA0BL,GAAc,QAG7C,EAAKK,0BAA0B3Z,GAAM,IA/F/B,KAkGdwR,sBAAwB,SAACxT,EAASkH,EAAOd,GACrC,IAAI4B,EAAgB,EAAKqL,mBACrBjN,IAEA4B,EAAcd,GAAS,CACnBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKG,mBAAL,YAA8BrL,GAE9B,EAAKoI,kBAAoB,EAAKuD,uBAAuB9S,KAAI,SAAC8Z,EAAezT,GAAhB,OACrDd,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,SAA4CyH,EAAc5S,QAC9E,EAAKqI,kBAAkBlJ,GAA3D,CAAElH,UAASoG,KAAMuU,QA7GpB,KAiHd5G,qBAAuB,SAAC/T,EAASkH,EAAOd,GACpC,IAAI4B,EAAgB,EAAKoI,kBACzBpI,EAAcd,GAAS,CACnBlH,UAASoG,QAGb,EAAKgK,kBAAL,YAA6BpI,IAvHnB,KA0HdkM,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GA3Hb,KA8HdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GA/Hd,KAkIdyO,cAAgB,SAAC6L,EAAMC,GACnBD,EAAQ,EAAKhZ,SAAWgZ,EAAK9U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAiB,KAAT4U,IAAgB,EAAKhZ,SAAW,IAC5GiZ,EAAM,EAAK/Y,OAAS+Y,EAAG/U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAe,KAAP6U,IAAc,EAAK/Y,OAAS,KApIxF,KAuIdgO,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAkB,EAAKjL,iBAAiBD,GAAa,EAAKiD,sBAAsB1Q,QAAO,SAAA4Y,GAAM,OAAIA,EAAO3U,SAAS9H,SAASH,IAC5H4c,EAAO1U,UAAU2U,cAAc1c,SAASH,EAAM6c,gBAAkBD,EAAOxU,WAAWjB,WAAWhH,SAASH,IACtG4c,EAAOvU,YAAYlB,WAAWhH,SAASH,IAAU4c,EAAOtU,QAAQnB,WAAWhH,SAASH,IACpF4c,EAAOrU,cAAcpB,WAAWhH,SAASH,MAC7C,EAAKwc,0BAA0BG,OAE9B,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAkB,EAAKjL,iBAAiBD,GAAa,EAAKsC,uBAAuB/P,QAAO,SAAA4Y,GAAM,OAChGA,EAAOpb,KAAKqb,cAAc1c,SAASH,EAAM6c,gBAAkBD,EAAOxU,WAAWjB,WAAWhH,SAASH,IACjG4c,EAAOvU,YAAYlB,WAAWhH,SAASH,IAAU4c,EAAOtU,QAAQnB,WAAWhH,SAASH,IACpF4c,EAAOrU,cAAcpB,WAAWhH,SAASH,MAC7C,EAAK8c,2BAA2BH,KAtJ1B,KA0JdzK,oBAAsB,SAACT,EAAY9P,GACZ,IAAf8P,GAAoB,EAAKiD,uBAAyB/S,GAClD,EAAK8S,gBAAkB,GACvB,EAAKC,qBAAuB/S,EAC5B,EAAK6a,0BAA2B,EAAK9K,iBAAiBD,GAAa9P,KAE/C,IAAf8P,GAAoB,EAAKsC,wBAA0BpS,IACxD,EAAKkS,iBAAmB,GACxB,EAAKE,sBAAwBpS,EAC7B,EAAKmb,2BAA4B,EAAKpL,iBAAiBD,GAAa9P,IACpE,EAAKyS,+BApKC,KAwKd7C,8BAAgC,SAACyB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,EAAe8O,GACtF,aAATA,IAAwB,EAAKf,2BAA6B,CAAEE,gBAAiB,GAAIG,eAAgB,GAAIE,gBAAiB,KAE7G,eAATQ,EAAwB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WACrH,aAATyR,EAAsB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WAC5HqB,EAAa,GAAK,IAAM,EAAKsO,eAAetO,EAAa,GAAGkB,GAAaI,IAAkB,EAAKgN,eAAetO,EAAa,GAAGkB,GAAaI,IAE3I,eAAT8O,EACI,EAAKJ,qBAAqBrR,KAAI,SAAAoB,GAAO,MAChB,iBAAjBA,EAAQtB,MAA2B,EAAK4Q,2BAA2BtP,EAAQtB,MAAME,KAAI,SAAAsC,GAAM,OACvFA,EAAOnD,QAAU,SAChB,aAATsS,EACI,EAAKJ,qBAAqBrR,KAAI,SAAAoB,GAAO,MAChB,iBAAjBA,EAAQtB,MACRsB,EAAQA,QAAQpB,KAAI,SAAAsC,GAAM,OACtB,EAAKoO,2BAA2BtP,EAAQtB,MAAxC,sBAAoD,EAAK4Q,2BAA2BtP,EAAQtB,OAA5F,CAAmG,CAAEA,KAAMwC,EAAOxC,KAAMX,QAASmD,EAAOI,oBAChJ,EAAKgO,2BAA2BY,GAAWtR,KAAI,SAAAsC,GAAM,OACjDA,EAAOxC,OAASA,IAASwC,EAAOnD,QAAQob,MAAK,SAAAC,GAAK,OAAIA,IAAUrb,KAC3DmD,EAAOnD,QAAUmD,EAAOnD,QAAQmD,QAAO,SAAAhE,GAAK,OAAIA,IAAUa,KAC1DmD,EAAOnD,QAAP,sBAAqBmD,EAAOnD,SAA5B,CAAqCA,SA3L5C,KA8LdgQ,kCAAoC,SAACrJ,EAAMuV,EAAW5J,GAAU,IAAD,EACrD6J,EAAiB,EAAKnC,uCACxBoC,EAAU,UAAG,EAAK1K,+BAA+ByK,EAAe,WAAtD,aAAG,EAAwDE,WAAU,SAAAhB,GAAK,OAAIA,EAAM1a,OAASwb,EAAe,OAEtG,IAAhBC,IACAA,EAAa,EAAK1K,+BAA+ByK,EAAe,IAAI5Q,OACpE,EAAKmG,+BAA+ByK,EAAe,IAAnD,sBAA6D,EAAKzK,+BAA+ByK,EAAe,KAAhH,CACA,CAAExb,KAAMwb,EAAe,GAAInc,QAAS,CAAC,GAAI,QAGpC,UAATsS,GAA8C,IAA1B6J,EAAe5Q,OAC/B,EAAKmG,+BAAiC,CAClCD,gBAAiB,CAAC,CAAE9Q,KAAM,eAAgBX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC/F8B,eAAgB,CAAC,CAAEjR,KAAM,cAAeX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAAQgC,gBAAiB,IAEzH,EAAKJ,+BAA+ByK,EAAe,IAAIC,GAAapc,QAAQkc,GAA7E,UAA6FvV,EAA7F,WA7MM,KAgNdyL,0CAA4C,SAAC5P,GACzC,EAAKwX,uCAAyCxX,EAC9C,IAAM6Y,EAAQ,EAAK3J,+BAA+BlP,EAAO,IAAI8Z,MAAK,SAAAjB,GAAK,OAAIA,EAAM1a,OAAS6B,EAAO,MACjG6Y,EAAQ,EAAKtL,cAAcsL,EAAMrb,QAAQ,GAAIqb,EAAMrb,QAAQ,IAAM,EAAK+P,cAAc,GAAI,KAnN9E,KAsNdwM,wBAA0B,SAACva,GACvB,EAAKkQ,qBAAuBlQ,EAE5B,EAAKwO,eAAiBxO,EAAKnB,KAAI,SAAAsC,GAAM,MAAoB,iBAAhBA,EAAOxC,MAC5CwC,EAAOlB,QAAQpB,KAAI,SAAAoB,GAAO,OAAIA,EAAQsB,YAActB,EAAQsB,WAAW1C,KAAI,kBAAM,WAAQsC,QAAO,SAAAnB,GAAI,OAAIA,GAAQA,KAEpH,IAAM2E,EAAO3E,EAAKmB,QAAO,SAAAA,GAAM,MAAoB,iBAAhBA,EAAOxC,QAAyB,GAAGsB,QAAQ,GAC9E,EAAK+X,uCAAyC,CAACrT,EAAKjE,aAAciE,EAAKhG,KAAMgG,EAAKhE,aA7NxE,KAgOdsZ,2BAA6B,SAACja,GAC1B,EAAKqR,mBAAqB0G,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IAC5E,EAAK3H,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKS,wBAA0B/Q,EAAKya,OAAOD,GAC3C,EAAKjC,sCAAsCvY,IArOjC,KAwOd2Z,0BAA4B,SAAC3Z,EAAM0a,GAC/B,EAAKtM,kBAAoB2J,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,IAC5D,IAAMwc,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKqB,uBAAyB3R,EAAKya,OAAOD,IACzCE,GAAuB,EAAKnJ,6BAC7B,EAAK0G,qCAAqC,EAAKtG,yBA7OrC,KAgPdgJ,oBAAsB,SAAC3a,GACnB,EAAK6O,iBAAmB7O,EACxBA,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAK6R,uBAAyB,EAAK8H,0BAA0B3Z,EAAK,GAAG,EAAK6R,uBAC7G7R,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAKkR,wBAA0B,EAAK+I,2BAA2Bja,EAAK,GAAG,EAAKkR,yBAnPrG,KAsPdjB,2BAA6B,SAACX,GAC1B,EAAKqL,oBAAoB,MACzBlD,EAAW,iBAAkBnI,GACxBpT,MAAK,SAAAC,GAAG,OAAI,EAAKwe,oBAAoBxe,MACrCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA1PtB,KA6Pd/I,0BA7Pc,sBA6Pc,sBAAAyI,EAAA,uEACV5Z,eAAe2R,QAAQ,UADb,iDAC0BoJ,EAAU,0BACvDvb,MAAK,SAAAC,GAAG,OAAI,EAAKoe,wBAAwBpe,MACzCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHR,iFA7Pd,KAmQdgE,cAAgB,WACZ,EAAKxM,kBAAoB2J,MAAM,EAAKpG,uBAAuBpI,QAAQ+G,KAAK,CAAEtS,SAAS,KApQzE,KAuQd4S,aAAe,WACX,IAAMtB,EAAO,EAAKlB,kBAAkBjN,QAAO,SAAAnB,GAAI,OAAIA,EAAKhC,WACnDa,KAAI,SAAAmB,GAAI,MAAK,CACV6a,YAAa7a,EAAKoE,KAAKyW,YAAa7I,eAAgBhS,EAAKoE,KAAK4N,eAAgB8I,aAAc9a,EAAKoE,KAAK0W,aACtGC,kBAAmB/a,EAAKoE,KAAK2W,kBAAmB5R,wBAAyBnJ,EAAKoE,KAAK+E,wBACnFtB,eAAgB7H,EAAKoE,KAAKyD,eAAgBhC,OAAQ7F,EAAKoE,KAAKoB,YAC5DwD,mBAAoBhJ,EAAKoE,KAAK4E,mBAAoBlD,eAAgB,qCAG1EwJ,EAAK/F,OAAS,GAAKkO,EAAW,0BAA2BnI,GACpDpT,MAAK,SAACC,GAAU,EAAKuU,qBAAqBvU,EAAIyb,QAAQza,OAAQ,EAAKyd,mBACnEjE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAlRtB,KAoRdjJ,kBApRc,uCAoRM,WAAO3N,GAAP,SAAAsW,EAAA,6DAChBxW,QAAQC,IAAIC,GADI,SAEHyX,EAAW,wBAAyBzX,GAAM,GAClD2W,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHhB,mFApRN,sDACViB,YAAmBC,OFQvBzF,oBGqaW,IA9aX,aAAe,IAAD,gCAIdW,kBAAoB,KAJN,KAKdF,wBAA0BiF,MAAM,IAAIzH,KAAK,IAL3B,KAMdyD,yBAA2BgE,MAAM,IAAIzH,KAAK,IAN5B,KAOdsD,sBAAwB,GAPV,KAQdV,4BAA8B,CAAEzD,gBAAiB,GAAIK,gBAAiB,IARxD,KAcdkL,wCAA0C,GAd5B,KAednJ,qBAAuB,UAfT,KAgBdX,sBAAwB,cAhBV,KAiBdU,gBAAkB,GAjBJ,KAkBdZ,iBAAmB,GAlBL,KAqBdH,gBAAkB,EArBJ,KAsBdC,iBAAmB,EAtBL,KAuBd1C,kBAAoB,GAvBN,KAwBdiD,mBAAqB,GAxBP,KAyBdC,wBAA0B,GAzBZ,KA0Bd9C,eAAiB,GA1BH,KA2BdyF,aAAe,GA3BD,KA4Bd/K,YAAc,GA5BA,KA6BdG,iBAAmB,GA7BL,KA8Bd2B,eAAiB,GA9BH,KAgCdE,qBAAuB,SAAClN,EAASoB,EAAIsX,GACjC,GAAIA,EACA,EAAK1L,eAAiB,QACrB,GAAIhN,EACL,EAAKgN,eAAL,sBAA0B,EAAKA,gBAA/B,CAA+C5L,QAC9C,CACD,IAAM8F,EAAQ,EAAK8F,eAAeyI,QAAQrU,GAC1C,EAAK4L,eAAL,sBAA0B,EAAKA,eAAelG,MAAM,EAAGI,IAAvD,YAAkE,EAAK8F,eAAelG,MAAMI,EAAQ,EAAG,EAAK8F,eAAezB,OAAS,OAvC9H,KA2Cd0R,eAAiB,SAAC9d,GACd,EAAK+L,YAAc/L,GA5CT,KA+Cd+d,oBAAsB,SAAC/d,GACnB,EAAKkM,iBAAmBlM,GAhDd,KAmDdge,MAnDc,uCAmDN,WAAO/H,GAAP,eAAAkD,EAAA,6DACAhH,EAAO,GACX8D,GAAa,EAAKJ,kBAAkB,GAAG,EAAKnB,sBAAsBhT,KAAI,SAAAuF,GAAI,OAAIA,EAAK6B,eAAiBqJ,EAAI,sBAAOA,GAAP,CAAalL,EAAK6G,iBAFtH,SAKS,EAAKoI,WAAWD,EAAW9D,GALpC,mFAnDM,2DA2DdnE,OAAS,SAAC/G,EAAMwK,GASZ,GARmB,IAAfA,GACA,EAAKwM,mBAAmBhX,EAAK6G,WAAY,IACpC/O,MAAK,SAAC0a,GACEA,GACD,EAAKyE,mBAAmBjX,EAAMwK,MAI3B,IAAfA,EAAkB,CAClB,IAAIU,EAAO,GACX,EAAKwD,wBAAwBjU,KAAI,SAAC8Z,GAAD,OAC7BvU,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,UAC5D5B,EAAI,sBAAOA,GAAP,CAAaqJ,EAAc1N,iBACpC,EAAKmQ,mBAAmB,KAAM9L,GACzBpT,MAAK,SAAC0a,GACEA,GACD,EAAK9D,wBAAwBjU,KAAI,SAAC8Z,GAAD,OAC7BvU,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,SAC7D,EAAKmK,mBAAmB1C,EAAe/J,WA9EjD,KAoFdyM,mBAAqB,SAACjX,EAAMwK,GAAgB,IAAD,EACjC5O,EAAO,EAAK8S,wBAAwB3R,QAAO,SAAAnB,GAAI,OAAIA,IAASoE,KAClE,EAAKkX,2BAA2Btb,GAAM,GACtC,EAAKgT,kBAAkBpE,GAAY,EAAKiD,sBAAxC,UAAgE,EAAKmB,kBAAkBpE,GAAY,EAAKiD,6BAAxG,aAAgE,EAA+D1Q,QAAO,SAAAoa,GAAQ,OAAIA,IAAanX,MAvFrJ,KA0FdoX,aAAe,SAACxb,EAAMoE,EAAMwK,EAAY1J,EAAO7D,EAAUoa,GACrD,IAAIC,EAAY,EAAK5I,wBACjBxD,EAAO,GACXA,EAAKjO,GAAYrB,EACjByb,IAAmBpa,EAAWoa,GACX,IAAf7M,GACc,iBAAbvN,GAA6C,iBAAbA,GAA+B,EAAKsa,kBAAkBvX,KACnF,EAAKwX,iBAAiBxX,EAAK6G,WAAYqE,GAClCpT,MAAK,SAAC0a,GACEA,GACD,EAAKiF,8BAA8BH,EAAWxW,EAAO7D,EAAUrB,MAG3D,IAAf4O,GACL,EAAKkE,wBAAwBjU,KAAI,SAAC8Z,EAAezT,GAAhB,OAC7Bd,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,UAC/C,iBAAb7P,GAA6C,iBAAbA,GAA+B,EAAKsa,kBAAkBhD,KACvF,EAAKiD,iBAAiBjD,EAAc1N,WAAYqE,GAC3CpT,MAAK,SAAC0a,GACEA,GACD,EAAKiF,8BAA8BH,EAAWxW,EAAO7D,EAAUrB,UA9GzE,KAoHd2b,kBAAoB,SAACvX,GAKjB,OAJA,EAAK0O,wBAA0B,EAAKA,wBAAwBjU,KAAI,SAAAid,GAE5D,OADAA,IAAe1X,UAAgB0X,EAAU,WAClCA,QAEJ1X,EAAKoB,aAAoC,IAArBpB,EAAKoB,aAC3BpB,EAAKyD,gBAAoBzD,EAAKqE,WAAgC,IAAnBrE,EAAKqE,YACxB,uBAAxBrE,EAAKyD,gBAA8BzD,EAAKmE,mBAAgD,IAA3BnE,EAAKmE,sBACnE,EAAKuK,wBAA0B,EAAKA,wBAAwBjU,KAAI,SAAAid,GAE5D,OADAA,IAAe1X,IAAS0X,EAAU,YAAiB,GAC5CA,MAEJ,IAhID,KAqIdD,8BAAgC,SAACH,EAAWxW,EAAO7D,EAAUrB,GACzD0b,EAAUxW,GAAO7D,GAAYrB,EAC7B,EAAK8S,wBAAL,YAAmC4I,IAvIzB,KA0IdlT,gBAAkB,SAAC7D,EAAMP,EAAMwK,EAAY1J,GACvC,EAAKsW,aAAa7W,EAAMP,EAAMwK,EAAY1J,EAAO,sBA3IvC,KA8IdwD,eAAiB,SAAC/D,EAAMP,EAAMwK,EAAY1J,GACtC,EAAKsW,aAAa7W,EAAMP,EAAMwK,EAAY1J,EAAO,cA/IvC,KAkJdkP,eAAiB,SAACD,EAAK/P,EAAMwK,EAAY1J,GACrC,EAAKsW,aAAarH,EAAK/P,EAAMwK,EAAY1J,EAAO,SAAU,gBAnJhD,KAsJd8C,oBAAsB,SAACgM,EAAe5P,EAAMwK,EAAY1J,GACpD,EAAKsW,aAAaxH,EAAe5P,EAAMwK,EAAY1J,EAAO,mBAvJhD,KA0JdiB,eAAiB,SAACnI,EAASoG,EAAMwK,EAAY1J,GACzC,EAAKsW,aAAaxd,EAASoG,EAAMwK,EAAY1J,EAAO,iBA3J1C,KA8Jd+D,oBAAsB,SAAC7J,EAAIgF,EAAMwK,EAAY1J,GACzC,EAAKsW,aAAapc,EAAIgF,EAAMwK,EAAY1J,EAAO,uBA/JrC,KAkKdkE,yBAA2B,SAAChK,EAAIgF,EAAMwK,EAAY1J,GAC9C,EAAKsW,aAAapc,EAAIgF,EAAMwK,EAAY1J,EAAO,4BAnKrC,KAsKdiJ,qBAAuB,WACnB,EAAK4F,yBAA2B,EAAKA,yBAAyBlV,KAAI,SAAC4Z,EAAgBvT,GAC/E,GAA8B,kBAAnBuT,GAAkD,OAAnBA,EAAyB,CAC/D,IAAMC,EAA6B,EAAK5F,wBAAwB3R,QAAO,SAAAwX,GAAa,OAAKA,EAAc5S,SACnG0S,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAC9GqP,EAAoC,EAAK9F,wBAAwB3R,QAAO,SAAAwX,GAAa,OACvFF,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,SACvEyH,EAAc1S,gBAAcsD,OAChC,EAAKwK,yBAAyB7O,GAA9B,aAAsF,IAA/BwT,GACnDA,IAA+BE,EACnC,EAAK7E,yBAAyB7O,GAA9B,gBAA8C,EAAK2M,qBAAnD,SAAiF+G,EACjF,EAAK7E,yBAAyB7O,GAA9B,UAAwC,EAAK2M,qBAA7C,SAA2E,EAAKiB,wBAAwB3R,QAAO,SAAAwX,GAAa,OACxHF,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAExH,OAAOkP,MApLD,KAwLdsD,gBAAkB,SAAC5e,GACf,EAAK8W,aAAe9W,GAzLV,KA4Ld4b,kBAAoB,SAACC,GACjB,EAAKxK,eAAiBwK,GA7LZ,KAgMdzH,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IAEAqI,EAAmBvH,GAAS,CACxBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKI,wBAAL,YAAmC7E,IAGvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAKwC,kBAAkB,GAAG,EAAKnB,sBAAwB,EAAKiB,wBAC9G,GAAIqG,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,SAA0CsI,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,UAA4CqI,EAAMN,eAClHK,EAAeA,EAAanY,QAAQ+X,EAA2E,IAAIO,IAArE,gBAAGrU,EAAH,EAAGA,SAAH,OAAmB8T,EAAOQ,IAAItU,IAAa8T,EAAO9J,IAAIhK,MACpG,EAAKkW,2BAA2BhC,GAAc,QAG9C,EAAKgC,2BAA2Btb,GAAM,IApNhC,KAuNdkS,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GAxNb,KA2NdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GA5Nd,KAoOdwP,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAkB,EAAK9G,kBAAkBpE,GAAa,EAAKiD,sBAAsB1Q,QAAO,SAAA4Y,GAAM,OAChGA,EAAO3U,SAAS9H,SAASH,IAAU4c,EAAO1U,UAAU2U,cAAc1c,SAASH,EAAM6c,gBACjFD,EAAOtR,UAAUnL,SAASH,IAAU4c,EAAOxR,kBAAkBjL,SAASH,IAAU4c,EAAOvU,YAAYlB,WAAWhH,SAASH,IACvH4c,EAAOlS,eAAemS,cAAc1c,SAASH,EAAM6c,gBAAkBD,EAAOrU,cAAcpB,WAAWhH,SAASH,MAClH,EAAKme,2BAA2BxB,OAE/B,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAkB,EAAK9G,kBAAkBpE,GAAa,EAAKsC,uBAAuB/P,QAAO,SAAA4Y,GAAM,OACjGA,EAAOpb,KAAKqb,cAAc1c,SAASH,EAAM6c,gBAAkBD,EAAO1R,kBAAkB/K,SAASH,IAC7F4c,EAAOvU,YAAYlI,SAASH,IAAU4c,EAAOrU,cAAcpB,WAAWhH,SAASH,MACnF,EAAK6e,4BAA4BlC,KAlP3B,KAsPdzK,oBAAsB,SAACT,EAAY9P,GACZ,IAAf8P,GAAoB,EAAKiD,uBAAyB/S,GAClD,EAAK8S,gBAAkB,GACvB,EAAKC,qBAAuB/S,EAC5B,EAAKwc,2BAA4B,EAAKtI,kBAAkBpE,GAAa9P,KAEjD,IAAf8P,GAAoB,EAAKsC,wBAA0BpS,IACxD,EAAKkS,iBAAmB,GACxB,EAAKE,sBAAwBpS,EAC7B,EAAKkd,4BAA6B,EAAKhJ,kBAAkBpE,GAAa9P,IACtE,EAAKyS,+BAhQC,KAoQdwB,+BAAiC,SAAC5C,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,EAAe8O,GACvF,aAATA,IAAwB,EAAK4C,4BAA8B,CAAEzD,gBAAiB,GAAIK,gBAAiB,KAE1F,eAATQ,EAAwB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WACrH,aAATyR,EAAsB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WAC3H,EAAK2P,eAAetO,GAAYkB,GAAaI,IAAkB,EAAKgN,eAAetO,GAAYkB,GAAaI,GAE5G,eAAT8O,EACI,EAAKsD,sBAAsB/U,KAAI,SAAAoB,GAAO,MACjB,iBAAjBA,EAAQtB,MAA2B,EAAKuU,4BAA4BjT,EAAQtB,MAAME,KAAI,SAAAsC,GAAM,OACxFA,EAAOnD,QAAU,SAChB,aAATsS,EACI,EAAKsD,sBAAsB/U,KAAI,SAAAoB,GAAO,MACjB,iBAAjBA,EAAQtB,MACRsB,EAAQA,QAAQpB,KAAI,SAAAsC,GAAM,OACtB,EAAK+R,4BAA4BjT,EAAQtB,MAAzC,sBAAqD,EAAKuU,4BAA4BjT,EAAQtB,OAA9F,CAAqG,CAAEA,KAAMwC,EAAOxC,KAAMX,QAASmD,EAAOI,oBAClJ,EAAK2R,4BAA4B/C,GAAWtR,KAAI,SAAAsC,GAAM,OAClDA,EAAOxC,OAASA,IAASwC,EAAOnD,QAAQob,MAAK,SAAAC,GAAK,OAAIA,IAAUrb,KAC3DmD,EAAOnD,QAAUmD,EAAOnD,QAAQmD,QAAO,SAAAhE,GAAK,OAAIA,IAAUa,KAC1DmD,EAAOnD,QAAP,sBAAqBmD,EAAOnD,SAA5B,CAAqCA,SAvR5C,KAkTdie,yBAA2B,SAACjc,GACxB,EAAK4T,sBAAwB5T,EAE7B,EAAKwO,eAAiBxO,EAAKnB,KAAI,SAAAsC,GAAM,MAAoB,iBAAhBA,EAAOxC,MAC5CwC,EAAOlB,QAAQpB,KAAI,SAAAoB,GAAO,OAAIA,EAAQsB,YAActB,EAAQsB,WAAW1C,KAAI,kBAAM,WAAQsC,QAAO,SAAAnB,GAAI,OAAIA,GAAQA,MAtT1G,KA4Tdgc,4BAA8B,SAAChc,GAC3B,EAAKqR,mBAAqB0G,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IAC5E,EAAK3H,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKyD,yBAA2B/T,EAAKya,OAAOD,IAhUlC,KAmUdc,2BAA6B,SAACtb,EAAM0a,GAChC,EAAKtM,kBAAoBpO,EAAKnB,KAAI,SAAAuF,GAAI,MAAK,CAAEpG,QAASoG,EAAK6B,aAAcgT,OAAQ,MACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKwC,wBAA0B9S,EAAKya,OAAOD,IAC1CE,GAAuB,EAAKnJ,8BAvUnB,KA0Ud2K,qBAAuB,SAAClc,GACpBA,GAAQA,EAAKuJ,OAAS,GAAKpB,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAAsd,GAAiB,OACjEnc,EAAK,GAAGmc,GAAmBtd,KAAI,SAAC4Z,EAAgBvT,GAAjB,OAC3BiD,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAAud,GAAgB,OACxCpc,EAAK,GAAGmc,GAAmBjX,GAA3B,UAAqCkX,EAArC,SAA+Dpc,EAAK,GAAGoc,GAAkBjb,QAAO,SAAAwX,GAAa,OAC1GF,EAAe,MAAD,OAAO0D,EAAP,UAAmCxD,EAAc,MAAD,OAAOwD,EAAP,WAChE5S,gBAIV,EAAKyJ,kBAAoBhT,EACzBA,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAK6R,uBAAyB,EAAKyJ,2BAA2Btb,EAAK,GAAG,EAAK6R,uBAC9G7R,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAKkR,wBAA0B,EAAK8K,4BAA4Bhc,EAAK,GAAG,EAAKkR,yBAtVtG,KAyVd+B,4BAA8B,SAAC3D,GAC3B,EAAK4M,qBAAqB,MAC1BzE,EAAW,iBAAkBnI,GACxBpT,MAAK,SAAAC,GAAG,OAAI,EAAK+f,qBAAqB/f,MACtCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA7VtB,KAgWdhE,2BAhWc,sBAgWe,sBAAA0D,EAAA,sEACZmB,EAAU,8CAClBvb,MAAK,SAAAC,GAAG,OAAI,EAAK8f,yBAAyB9f,MAC1CD,MAAK,WACF,EAAKmgB,oBACL,EAAKC,mBACL,EAAKC,2BAER5F,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MARP,mFAhWf,KA2WdyF,kBAAoB,WAChB5E,EAAU,iBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK4f,gBAAgB5f,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA9WtB,KAiXdgF,iBAjXc,uCAiXK,WAAOxc,EAAIkQ,GAAX,SAAAgH,EAAA,sEACFmB,EAAA,kBAAqBrY,GAAMkQ,GACnCpT,MAAK,SAAAC,GAAG,OAAIA,EAAI0a,SAChBF,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHjB,mFAjXL,6DAuXdwE,mBAvXc,uCAuXO,WAAOhc,EAAIkQ,GAAX,SAAAgH,EAAA,sEACJmB,EAAA,iBAAuBrY,EAAE,WAAOA,GAAO,IAAMkQ,GACrDpT,MAAK,SAAAC,GAAG,OAAIA,EAAI0a,SAChBF,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHf,mFAvXP,6DA6XdvD,WA7Xc,uCA6XD,WAAOD,EAAUV,GAAjB,iBAAA4D,EAAA,yDACLhH,EAAO,GACX8D,GAAa,EAAKJ,kBAAkB,GAAG,EAAKnB,sBAAsBhT,KAAI,SAAAuF,GAAI,OAAIA,EAAK6B,eAAiBqJ,EAAI,sBAAOA,GAAP,CAAalL,EAAK6G,iBAC1HnL,QAAQC,IAAI2S,GAER7G,EAAS6G,EAAmB,kCAAD,OAAmCA,GAAqB,wBAEjFU,GAA6B,IAAhB9D,EAAK/F,OAPf,gCAQQkO,EAAW5L,EAAQyD,GAAM,GACjCqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAT3B,mFA7XC,6DA0Yd0F,iBAAmB,WACf7E,EAAU,6BACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK8e,eAAe9e,MAChCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA7YtB,KAgZd2F,sBAAwB,WACpB9E,EAAU,qBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK+e,oBAAoB/e,MACrCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAnZtB,KAsZd9C,WAAa,WACT2D,EAAW,wBAAyB,EAAKzM,gBACpC9O,MAAK,SAAAC,GACF,EAAK+O,qBAAqB,KAAM,MAAM,GACtC,EAAK+H,4BAA4B,EAAKC,gCAEzCyD,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA5ZtB,KA+ZdtC,WAAa,SAACD,GACV,IAAIpJ,EAAa,GACjB,EAAK6H,wBAAwBtH,SAAQ,SAAApH,IACzB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM0G,0BAA2BuJ,IACjCpJ,EAAU,sBAAOA,GAAP,CAAmB7G,EAAK6G,iBAG1CwM,EAAW,wBAAyBxM,GAC/B/O,MAAK,SAAAC,GACF,EAAK8W,4BAA4B,EAAKC,gCAEzCyD,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAzahCiB,YAAmBC,OHSvBvD,wBI0SW,IApTX,aAAe,IAAD,gCAIdI,sBAAwB,KAJV,KAKde,4BAA8BqC,MAAM,IAAIzH,KAAK,IAL/B,KAMdkF,6BAA+BuC,MAAM,IAAIzH,KAAK,IANhC,KAOdwF,uCAAyC,GAP3B,KAQdL,wCAA0C,GAR5B,KASdH,0BAA4B,GATd,KAUdV,gCAAkC,CAAEnF,gBAAiB,GAAIG,eAAgB,GAAImF,oBAAqB,IAVpF,KAWdD,oCAAsC,CAClCrF,gBAAiB,CAAC,CAAE9Q,KAAM,eAAgBX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC/F8B,eAAgB,CAAC,CAAEjR,KAAM,cAAeX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC7FiH,oBAAqB,IAdX,KAgBdyH,4CAA8C,GAhBhC,KAiBdtL,sBAAwB,cAjBV,KAkBdU,gBAAkB,GAlBJ,KAmBdZ,iBAAmB,GAnBL,KAoBdpQ,SAAW,GApBG,KAqBdE,OAAS,GArBK,KAsBd+P,gBAAkB,EAtBJ,KAuBdC,iBAAmB,EAvBL,KAwBd1C,kBAAoB,GAxBN,KAyBdiD,mBAAqB,GAzBP,KA0BdC,wBAA0B,GA1BZ,KA2Bd9C,eAAiB,GA3BH,KA4Bd+B,eAAiB,GA5BH,KA6BdsF,aAAc,EA7BA,KA8BdF,cAAe,EA9BD,KA+BdK,WAAY,EA/BE,KAiCdyG,0CAA4C,SAACzc,GACzC,IAAMkY,EAAgBzK,KAAKC,UAAU1N,GACrC,EAAK8V,uCAAyCrI,KAAK0K,MAAMD,GAAerZ,KAAI,SAAAuF,GAAI,OAC5E+D,OAAOC,KAAKhE,GAAMgU,QAAO,SAACC,EAAKC,GAAa,IAAD,IAGvC,OAFAlU,EAAKkU,IAAW,UAAAlU,EAAKkU,UAAL,eAAehU,aAAc,MAC5CgU,EAAQhb,SAAS,SAAWgb,EAAQhb,SAAS,gBAAkB8G,EAAKkU,IAAW,UAAAlU,EAAKkU,UAAL,eAAexT,MAAM,EAAG,IAAIvG,MAAM,KAAKyG,KAAK,OAAQ,MAC7HZ,IACR,QAxCG,KA2CdsY,2CAA6C,SAAC1c,GAC1C,IAAMkY,EAAgBzK,KAAKC,UAAU1N,GACrC,EAAKyV,wCAA0ChI,KAAK0K,MAAMD,GAAerZ,KAAI,SAAAuF,GAAI,OAC7E+D,OAAOC,KAAKhE,GAAMgU,QAAO,SAACC,EAAKC,GAAa,IAAD,EAEvC,OADAlU,EAAKkU,IAAW,UAAAlU,EAAKkU,UAAL,eAAehU,aAAc,KACtCF,IACR,QAjDG,KAoDdgR,aAAe,SAACuH,GACZ,EAAK3G,UAAY2G,GArDP,KAwDd/G,eAAiB,SAACgH,EAAOzf,GACP,WAAVyf,EAAoB,EAAK/G,YAAc1Y,EACxB,YAAVyf,IAAqB,EAAKjH,aAAexY,GAClD,EAAKyU,gBAAkB,GACvB,EAAKiL,+BAA+B,EAAKlI,sBAAsB,IAAI,IA5DzD,KA+DdxG,qBAAuB,WACnB,IAAM2O,EAAkC,EAAKtH,6BAA6B3W,KAAI,SAAC4Z,EAAgBvT,GAC3F,GAA8B,kBAAnBuT,GAAkD,OAAnBA,EAAyB,CAC/D,IAAMC,EAA6B,EAAKhD,4BAA4BvU,QAAO,SAAAwX,GAAa,OAAKA,EAAc5S,SACvG0S,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAC9GqP,EAAoC,EAAKxK,kBAAkBjN,QAAO,SAAA0X,GAAqB,OACzFA,EAAsBzU,MAAQyU,EAAsB7a,SACpDya,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4C2H,EAAsBzU,KAAtB,aAAiC,EAAK8M,sBAAtC,WAAmE3H,OACjI,EAAKiM,6BAA6BtQ,GAAlC,aAA0F,IAA/BwT,GACvDA,IAA+BE,EAEvC,OAAOH,KAEX,EAAKjD,6BAA+BsH,EACpC,EAAKJ,2CAA2CI,IA7EtC,KAgFdpM,qBAAuB,SAACoI,GACpB,EAAKvI,eAAiBuI,GAjFZ,KAoFdC,kBAAoB,SAACC,GACjB,EAAKxK,eAAiBwK,GArFZ,KAwFdzH,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IACA,EAAKwN,gBAAkB,GACvBnF,EAAmBvH,GAAS,CACxBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKI,wBAAL,YAAmC7E,IAGvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAKmE,sBAAsB,GAAK,EAAKe,4BACvF,GAAIyD,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,eAAD,OAAgB,EAAKtI,sBAArB,SAAmDsI,EAAU,eAAD,OAAgB,EAAKtI,sBAArB,UAAqDqI,EAAMN,eACpIK,EAAeA,EAAanY,QAAQ+X,EAA2E,IAAIO,IAArE,gBAAGrU,EAAH,EAAGA,SAAH,OAAmB8T,EAAOQ,IAAItU,IAAa8T,EAAO9J,IAAIhK,MACpG,EAAKyX,+BAA+BvD,GAAc,QAGlD,EAAKuD,+BAA+B7c,GAAM,IA5GpC,KA+GdwR,sBAAwB,SAACxT,EAASkH,EAAOd,GACrC,IAAI4B,EAAgB,EAAKqL,mBACrBjN,IAEA4B,EAAcd,GAAS,CACnBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKG,mBAAL,YAA8BrL,GAE9B,EAAKoI,kBAAoB,EAAKsH,4BAA4B7W,KAAI,SAAC8Z,EAAezT,GAAhB,OAC1Dd,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,QACxD,CAAElT,UAASoG,KAAMuU,GAAmB,EAAKvK,kBAAkBlJ,QA1H9D,KA8Hd6M,qBAAuB,SAAC/T,EAASkH,EAAOd,GACpC,IAAI4B,EAAgB,EAAKoI,kBACzBpI,EAAcd,GAAS,CACnBlH,UAASoG,QAGb,EAAKgK,kBAAL,YAA6BpI,IApInB,KAuIdkM,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GAxIb,KA2IdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GA5Id,KA+IdyO,cAAgB,SAAC6L,EAAMC,GACnBD,EAAQ,EAAKhZ,SAAWgZ,EAAK9U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAiB,KAAT4U,IAAgB,EAAKhZ,SAAW,IAC5GiZ,EAAM,EAAK/Y,OAAS+Y,EAAG/U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAe,KAAP6U,IAAc,EAAK/Y,OAAS,KAjJxF,KAoJdgO,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAkB,EAAKnF,sBAAsB/F,GAAazN,QAAO,SAAA4Y,GAAM,uCAAI,UAAAA,EAAO3U,gBAAP,eAAiB9H,SAASH,MAA1B,UAC7E4c,EAAOvQ,uBADsE,aAC7E,EAAwBlM,SAASH,MAD4C,UAClC4c,EAAO1U,iBAD2B,iBAClC,EAAkB2U,qBADgB,aAClC,EAAiC1c,SAASH,EAAM6c,kBADd,UAE7ED,EAAOjU,sBAFsE,aAE7E,EAAuBxI,SAASH,MAF6C,UAEnC4c,EAAOlU,cAF4B,iBAEnC,EAAevB,kBAFoB,aAEnC,EAA2BhH,SAASH,MAFD,UAEW4c,EAAOlS,sBAFlB,aAEW,EAAuBvK,SAASH,MAF3C,UAG5E4c,EAAOtR,iBAHqE,iBAG5E,EAAkB3D,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAHmB,aAG7E,EAAiE1H,SAASH,MAHG,UAI5E4c,EAAO7S,qBAJqE,iBAI5E,EAAsBpC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAJe,aAI7E,EAAqE1H,SAASH,MAJD,UAK5E4c,EAAO9S,wBALqE,iBAK5E,EAAyBnC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YALY,aAK7E,EAAwE1H,SAASH,OACrF,EAAK0f,+BAA+B/C,OAEnC,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAkB,EAAKnF,sBAAsB/F,GAAa,EAAKsC,uBAAuB/P,QAAO,SAAA4Y,GAAM,uBACrG,UAAAA,EAAOpb,YAAP,mBAAaqb,qBAAb,eAA4B1c,SAASH,EAAM6c,kBAA3C,UAA6DD,EAAOtU,eAApE,iBAA6D,EAAgBnB,kBAA7E,aAA6D,EAA4BhH,SAASH,MAAlG,UACA4c,EAAOrU,qBADP,iBACA,EAAsBpB,kBADtB,aACA,EAAkChH,SAASH,OAC/C,EAAK4f,gCAAgCjD,KApK/B,KAwKdzK,oBAAsB,SAACT,EAAY9P,GACZ,IAAf8P,GAAoB,EAAKsC,wBAA0BpS,IACnD,EAAKkS,iBAAmB,GACxB,EAAKE,sBAAwBpS,EAC7B,EAAKie,gCAAiC,EAAKpI,sBAAsB/F,GAAa9P,IAC9E,EAAKyS,+BA7KC,KAiLdmD,mCAAqC,SAACvE,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,EAAe8O,GAC3F,aAATA,IAAwB,EAAKsE,gCAAkC,CAAEnF,gBAAiB,GAAIG,eAAgB,GAAImF,oBAAqB,KAEtH,eAATzE,EAAwB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WACrH,aAATyR,EAAsB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WAC5HqB,EAAa,GAAK,IAAM,EAAKsO,eAAetO,EAAa,GAAGkB,GAAaI,IAAkB,EAAKgN,eAAetO,EAAa,GAAGkB,GAAaI,IAE3I,eAAT8O,EACI,EAAKgF,0BAA0BzW,KAAI,SAAAoB,GAAO,MACrB,iBAAjBA,EAAQtB,MAA2B,EAAKiW,gCAAgC3U,EAAQtB,MAAME,KAAI,SAAAsC,GAAM,OAC5FA,EAAOnD,QAAU,SAChB,aAATsS,EACI,EAAKgF,0BAA0BzW,KAAI,SAAAoB,GAAO,MACrB,iBAAjBA,EAAQtB,MACRsB,EAAQA,QAAQpB,KAAI,SAAAsC,GAAM,OACtB,EAAKyT,gCAAgC3U,EAAQtB,MAA7C,sBAAyD,EAAKiW,gCAAgC3U,EAAQtB,OAAtG,CAA6G,CAAEA,KAAMwC,EAAOxC,KAAMX,QAASmD,EAAOI,oBAC1J,EAAKqT,gCAAgCzE,GAAWtR,KAAI,SAAAsC,GAAM,OACtDA,EAAOxC,OAASA,IAASwC,EAAOnD,QAAQob,MAAK,SAAAC,GAAK,OAAIA,IAAUrb,KAC3DmD,EAAOnD,QAAUmD,EAAOnD,QAAQmD,QAAO,SAAAhE,GAAK,OAAIA,IAAUa,KAC1DmD,EAAOnD,QAAP,sBAAqBmD,EAAOnD,SAA5B,CAAqCA,SApM5C,KAuMdyW,uCAAyC,SAAC9P,EAAMuV,EAAW5J,GACvD,IAAM6J,EAAiB,EAAKqC,4CACxBpC,EAAa,EAAKtF,oCAAoCqF,EAAe,IAAIE,WAAU,SAAAhB,GAAK,OAAIA,EAAM1a,OAASwb,EAAe,OAE1G,IAAhBC,IACAA,EAAa,EAAKtF,oCAAoCqF,EAAe,IAAI5Q,OACzE,EAAKuL,oCAAoCqF,EAAe,IAAxD,sBAAkE,EAAKrF,oCAAoCqF,EAAe,KAA1H,CACA,CAAExb,KAAMwb,EAAe,GAAInc,QAAS,CAAC,GAAI,QAGpC,UAATsS,EACI,EAAKwE,oCAAsC,CACvCrF,gBAAiB,CAAC,CAAE9Q,KAAM,eAAgBX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAC/F8B,eAAgB,CAAC,CAAEjR,KAAM,cAAeX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,MAAQiH,oBAAqB,IAE7H,EAAKD,oCAAoCqF,EAAe,IAAIC,GAAapc,QAAQkc,GAAlF,UAAkGvV,EAAlG,WAtNM,KAyNd4Q,+CAAiD,SAAC/U,GAC9C,EAAKgc,4CAA8Chc,EACnD,IAAM6Y,EAAQ,EAAKvE,oCAAoCtU,EAAO,IAAI8Z,MAAK,SAAAjB,GAAK,OAAIA,EAAM1a,OAAS6B,EAAO,MACtG6Y,EAAQ,EAAKtL,cAAcsL,EAAMrb,QAAQ,GAAIqb,EAAMrb,QAAQ,IAAM,EAAK+P,cAAc,GAAI,KA5N9E,KA+NdiP,6BAA+B,SAAChd,GAC5B,EAAKsV,0BAA4BtV,EAEjC,EAAKwO,eAAiBxO,EAAKnB,KAAI,SAAAsC,GAAM,MAAoB,iBAAhBA,EAAOxC,MAC5CwC,EAAOlB,QAAQpB,KAAI,SAAAoB,GAAO,OAAIA,EAAQsB,YAActB,EAAQsB,WAAW1C,KAAI,kBAAM,WAAQsC,QAAO,SAAAnB,GAAI,OAAIA,GAAQA,KAEpH,IAAM2E,EAAO3E,EAAKmB,QAAO,SAAAA,GAAM,MAAoB,iBAAhBA,EAAOxC,QAAyB,GAAGsB,QAAQ,GAC9E,EAAKuc,4CAA8C,CAAC7X,EAAKjE,aAAciE,EAAKhG,KAAMgG,EAAKhE,aAtO7E,KAyOdoc,gCAAkC,SAAC/c,GAC/B,EAAKqR,mBAAqB0G,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IAC5E,EAAK3H,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKkF,6BAA+BxV,EAAKya,OAAOD,GAChD,EAAKkC,2CAA2C1c,IA9OtC,KAiPd6c,+BAAiC,SAAC7c,EAAM0a,GACpC1a,EAAOA,EAAKmB,QAAO,SAAA8b,GAAG,OAAK,EAAKpH,aAAeoH,EAAIpX,QAAU,GAAO,EAAK8P,cAAgBsH,EAAIpX,OAAS,KACtG,EAAKuI,kBAAoB2J,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,IAC5D,IAAMwc,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKoF,4BAA8B1V,EAAKya,OAAOD,IAC9CE,GAAuB,EAAKnJ,6BAC7B,EAAKkL,0CAA0Czc,IAvPrC,KA0Pdkd,yBAA2B,SAACld,GACxBA,GAAQA,EAAKuJ,OAAS,IAAMvJ,EAAK,GAAKmI,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAA0O,GAAG,OAAIvN,EAAK,GAAGuN,MAAM4P,QACpF,EAAKxI,sBAAwB3U,EAC7BA,GAAQA,EAAKuJ,OAAS,GAAK,EAAKsT,+BAA+B7c,EAAK,IACpEA,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAKkR,wBAA0B,EAAK6L,gCAAgC/c,EAAK,GAAG,EAAKkR,yBA9P1G,KAiQd8D,gCAAkC,SAAC1F,GAC/B,EAAK4N,yBAAyB,MAC9BzF,EAAW,sBAAuBnI,GAC7BpT,MAAK,SAAAC,GAAG,OAAI,EAAK+gB,yBAAyB/gB,MAC1Cwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OArQtB,KAwQdpC,+BAxQc,sBAwQmB,sBAAA8B,EAAA,uEACf5Z,eAAe2R,QAAQ,UADR,iDACqBoJ,EAAU,+BACvDvb,MAAK,SAAAC,GAAG,OAAI,EAAK6gB,6BAA6B7gB,MAC9Cwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHH,iFAxQnB,KA8QdgE,cAAgB,WACZ,EAAKxM,kBAAoB2J,MAAM,EAAKrC,4BAA4BnM,QAAQ+G,KAAK,CAAEtS,SAAS,KA/Q9E,KAkRdqX,oBAAsB,WAClB,IAAM/F,EAAO,CAAE8N,YAAa,EAAKhP,kBAAkBjN,QAAO,SAAAnB,GAAI,OAAIA,EAAKhC,WAASa,KAAI,SAAAmB,GAAI,OAAIA,EAAKoE,KAAKhF,OAEtG,OAAOkQ,EAAK8N,YAAY7T,OAAS,EAAIkO,EAAU,sBAAuBnI,GACjEpT,MAAK,SAACC,GACH,IAAMkhB,EAAYlhB,EAAIgF,QAAO,SAAAnB,GAAI,OAAIA,EAAK6W,SACpCyG,EAAenhB,EAAIgF,QAAO,SAAAnB,GAAI,OAAKA,EAAK6W,SACxC0G,EAAmBF,EAAU9T,OAAS,EAAnB,WAA2B8T,EAAU9T,OAArC,aAAgD8T,EAAU,GAAGzF,SAAY,GAC5F4F,EAAsBF,EAAa/T,OAAS,EAAtB,WAA8B+T,EAAa/T,OAA3C,aAAsD+T,EAAa,GAAG1F,SAAY,GAC9G,EAAKlH,qBAAL,UAA6B6M,EAA7B,YAAiDC,IACjD,EAAK5C,mBAERjE,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAC5B,EAAKlG,qBAAqB,YA/RpB,KAkSdqF,cAlSc,sBAkSE,4BAAAO,EAAA,6DACNhH,EAAO,CACTmO,OAAQ,CAAC,UAAW,UACpBC,WAAY,EAAK9c,SAASrC,MAAM,KAAKwG,UAAUC,KAAK,KACpD2Y,SAAU,EAAK7c,OAAOvC,MAAM,KAAKwG,UAAUC,KAAK,KAChD4Y,iBAAkB,CAAC,eAAgB,iBAL3B,SAQCnG,EAAW,YAAanI,GAAM,GACtCqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MATpB,mFAlSF,KA8SdjJ,kBA9Sc,uCA8SM,WAAO3N,GAAP,SAAAsW,EAAA,sEACHmB,EAAW,6BAA8BzX,GAAM,GACvD2W,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAFhB,mFA9SN,sDACViB,YAAmBC,OJUvB+F,aK2NW,IAtOX,aAAe,IAAD,gCAIdC,kBAAoB,GAJN,KAKdC,eAAiB,KALH,KAMdC,sBAAwB,KANV,KAOdC,cAAgB,KAPF,KAQdC,mBAAqB,KARP,KASdC,UAAY,KATE,KAUdC,aAAc,EAVA,KAWdC,6BAA+B,KAXjB,KAYdhV,iBAAmB,KAZL,KAad4K,aAAe,KAbD,KAcdqK,eAAiB,KAdH,KAedC,UAAW,EAfG,KAgBdC,iBAAmB,WAhBL,KAkBdC,kBAAoB,SAACthB,GACjB,EAAKmhB,eAAiBnhB,GAnBZ,KAsBd4e,gBAAkB,SAAC5e,GACf,EAAK8W,aAAe9W,GAvBV,KA0Bd+d,oBAAsB,SAAC/d,GACnB,EAAKkM,iBAAmBlM,GA3Bd,KA8BduhB,gCAAkC,SAACvhB,GAC/B,EAAKkhB,6BAA+BlhB,GA/B1B,KAkCdwhB,mBAAqB,SAACzhB,EAAQ0hB,EAAOzhB,EAAO0hB,EAAW3Z,GACnD,IAAM4Z,EAAuB,YAAX5hB,EAAuB,EAAK6gB,eAA4B,WAAX7gB,EAAsB,EAAK+gB,cAC3E,gBAAX/gB,EAA2B,EAAKghB,mBAAqB,KAyBzD,GAvBIY,IACA,EAAKC,gBAAe,GAChBF,GACe,YAAX3hB,IACA,EAAK6gB,eAAiBc,EACtB,EAAKf,kBAAoBe,GAElB,WAAX3hB,IAAwB,EAAK+gB,cAAgBY,GAClC,gBAAX3hB,IAA6B,EAAKghB,mBAAqBW,KAGtC,SAAbD,EAAM,IAAkB,EAAKd,kBAAkBkB,OAC/C,EAAKlB,kBAAkBkB,KAAO,IAAIjH,MAAM,GAAGzH,KAAK,CAAE2O,YAAa,GAAIC,cAAe,GAAIxY,eAAgB,KACtG,EAAK6X,UAAW,GAEpBK,EAAMrV,OAAS,EAAKrE,EAAQ4Z,EAAUF,EAAM,IAAI1Z,EAAQ,GAAG0Z,EAAM,IAAMzhB,EAAQ2hB,EAAUF,EAAM,IAAIA,EAAM,IAAMzhB,EAC1G+H,EAAQ4Z,EAAUF,EAAM,IAAI1Z,EAAQ,GAAK/H,EAAQ2hB,EAAUF,EAAM,IAAMzhB,EACjE,YAAXD,IAAyB0hB,EAAMrV,OAAS,EACnCrE,EAAQ,EAAK4Y,kBAAkBc,EAAM,IAAI1Z,EAAQ,GAAG0Z,EAAM,IAAMzhB,EAAQ,EAAK2gB,kBAAkBc,EAAM,IAAIA,EAAM,IAAMzhB,EACrH+H,EAAQ,EAAK4Y,kBAAkBc,EAAM,IAAI1Z,EAAQ,GAAK/H,EAAQ,EAAK2gB,kBAAkBc,EAAM,IAAMzhB,KAI1G,EAAKmhB,gBAA6B,WAAXphB,EAAqB,CAC5C,IAAMiiB,EAAc,EAAKb,eAAehE,MAAK,SAAA6E,GAAW,OAAIA,EAAY/Z,WAAa,EAAK6Y,cAAckB,YAAY/Z,UAChH+Z,EAAYxgB,OAAS,EAAKsf,cAAckB,YAAYxgB,QAClDygB,EAASD,GAAeA,EAAYE,SAAS/E,MAAK,SAAA8E,GAAM,OAAIA,EAAOE,SAAWC,SAAS,EAAKtB,cAAcqB,WAC5GF,IACA,EAAKrB,eAAejD,aAAesE,EAAOhgB,GAC1C,EAAK0e,kBAAkBhD,aAAesE,EAAOhgB,MAnE3C,KAwEd2f,eAAiB,SAACS,GACd,EAAKpB,YAAcoB,GAzET,KA4EdC,aAAe,WACX,EAAK1B,eAAiB,KACtB,EAAKC,sBAAwB,KAC7B,EAAKC,cAAgB,KACrB,EAAKC,mBAAqB,KAC1B,EAAKC,UAAY,KACjB,EAAKC,aAAc,GAlFT,KAqFd/O,oBAAsB,SAACvQ,GAAS,IAAD,IAC3B,EAAK0f,iBAAmB1f,EACxB,IAAIkB,EAAO,GACX,OAAQlB,GACJ,IAAK,WACDkB,GAAO,YAAKge,6BAAL,eAA4B0B,WAAY,GAC/C,MACJ,IAAK,qBACD1f,GAAO,YAAKge,6BAAL,eAA4B2B,qBAAsB,GAKjE,EAAKC,aAAa5f,IAlGR,KAqGd4f,aAAe,SAAC5f,GACZ,EAAKme,UAAYne,GAtGP,KAyGd6f,sBAAwB,SAACC,GACrB,EAAK5B,mBAAqB4B,GA1GhB,KA6GdC,wBAA0B,SAACD,GACvB,EAAK7B,cAAgB6B,GA9GX,KAiHdE,yBAA2B,SAACF,GACxB,IAAMJ,GAAkB,OAAPI,QAAO,IAAPA,OAAA,EAAAA,EAASJ,WAAY,GAChCO,EAAiB9X,OAAOC,KAAKsX,GAAU7gB,KAAI,SAAA0O,GAAG,oBAAO5I,KAAM4I,GAAQmS,EAASnS,OAAU1O,KAAI,SAAAqhB,GAAQ,IAAD,QAKnG,OAJAA,EAAG,YAAH,UAAqB,EAAKnC,sBAA1B,aAAqB,EAAqBxX,YAC1C2Z,EAAG,iBAAH,UAA0B,EAAKhC,0BAA/B,aAA0B,EAAyBvf,KACnDuhB,EAAG,iBAAH,UAA0B,EAAKjC,qBAA/B,iBAA0B,EAAoBkB,mBAA9C,aAA0B,EAAiCxgB,KAEpDuhB,KAEXJ,EAAO,SAAeG,EACtB,EAAKjC,sBAAwB8B,EAC7B,EAAKF,aAAaE,EAAQJ,WA5HhB,KA+HdS,kBAAoB,SAACL,GACjB,EAAK/B,eAAiB+B,GAhIZ,KAmIdM,iBAAmB,SAAChhB,GAChB,EAAKgf,aAAc,EACnB,EAAKD,UAAY,KACjB1G,EAAA,kBAAqBrY,IAChBlD,MAAK,SAAAC,GACF,EAAKgkB,kBAAkBhkB,GACvB,EAAKkkB,wBAAwBjhB,GAC7BjD,EAAI2e,cAAgB,EAAKwF,gBAAgBnkB,EAAI2e,cAC7C3e,EAAIgN,yBAA2B,EAAKoX,qBAAqBpkB,EAAIgN,yBAC7D,EAAKqX,oCACL,EAAKjE,wBACL,EAAKF,oBACL,EAAKoE,sBAER9J,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAjJtB,KAoJd8J,mBAAqB,WACjB,EAAK3C,gBAAkBtG,EAAA,kBAAwB,EAAKsG,eAAe3e,KAC9DlD,MAAK,SAAAC,GACGA,EAAI0a,QACLna,eAAeH,QAAQ,QAAS,mBAChC+V,OAAO7W,QAAQklB,aAAa,KAAM,GAAI,uBAG7ChK,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA5JtB,KA+JdyJ,wBAA0B,SAACjhB,GACvBqY,EAAA,+BAAkCrY,IAC7BlD,MAAK,SAAAC,GAAG,OAAI,EAAK6jB,yBAAyB7jB,MAC1Cwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAlKtB,KAqKd0J,gBAAkB,SAAClhB,GACfqY,EAAA,iBAAoBrY,IACflD,MAAK,SAAAC,GAAG,OAAI,EAAK4jB,wBAAwB5jB,MACzCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAxKtB,KA2Kd2J,qBAAuB,SAACnhB,GACpBqY,EAAA,4BAA+BrY,IAC1BlD,MAAK,SAAAC,GAAG,OAAI,EAAK0jB,sBAAsB1jB,MACvCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA9KtB,KAiLd6J,iBAAmB,WACfhJ,EAAU,eACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKsiB,kBAAkBtiB,MACnCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OApLtB,KAuLd4J,kCAAoC,WAChC/I,EAAU,kCACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKuiB,gCAAgCviB,MACjDwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA1LtB,KA6Ld2F,sBAAwB,WACpB9E,EAAU,qBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK+e,oBAAoB/e,MACrCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAhMtB,KAmMdyF,kBAAoB,WAChB5E,EAAU,iBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK4f,gBAAgB5f,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAtMtB,KAyMdgK,wBAA0B,WAClB,EAAK7C,eAAeiB,OACpB,EAAKjB,eAAeiB,KAAK,IAAM,EAAK6B,qBAAqB,EAAK9C,eAAeiB,KAAK,IAClF,EAAKjB,eAAeiB,KAAK,IAAM,EAAK6B,qBAAqB,EAAK9C,eAAeiB,KAAK,KAGtF,IAAM1P,EAAI,eAAQ,EAAKyO,uBAChBzO,EAAI,UACJA,EAAI,KAEXmI,EAAA,kBAAqB,EAAKsG,eAAe3e,IAAMkQ,GAC1CpT,MAAK,kBAAM,EAAKkkB,iBAAiB,EAAKrC,eAAe3e,OACrDuX,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OArNtB,KAwNdiK,qBAxNc,uCAwNS,WAAO7gB,GAAP,iBAAAsW,EAAA,yDACblX,EAAKY,EAAKZ,UACVkQ,EAFa,2BAEDtP,GAFC,IAEKgS,eAAgB,EAAK+L,eAAe3e,GAAI0hB,iBAAkB,aACvE,IAEX,EAAKvC,SALc,gCAKG9G,EAAA,uBAAmCnI,GACpDqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MANb,+CAOTa,EAAA,+BAAkCrY,GAAMkQ,GACzCqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MARjB,QAUnB,EAAK2H,UAAW,EAVG,4CAxNT,sDACV1G,YAAmBC,OLWvBiJ,cMknCW,IA9nCX,aAAe,IAAD,gCAIdxjB,QAAS,EAJK,KAKdyjB,uBAAyB,KALX,KAMd5B,OAAS,KANK,KAOd/V,iBAAmB,KAPL,KAQd4X,4CAA8C,KARhC,KASdC,SAAW,KATG,KAUdC,iBAAmB,KAVL,KAWdC,gBAAkB,KAXJ,KAYdC,wBAA0B,GAZZ,KAadC,sBAAwB,GAbV,KAcdC,iCAAmC,GAdrB,KAedC,uBAAwB,EAfV,KAgBdC,8BAA+B,EAhBjB,KAiBdC,cAAe,EAjBD,KAkBdC,wBAAyB,EAlBX,KAmBdC,mDAAoD,EAnBtC,KAoBdC,gBAAiB,EApBH,KAqBdC,wBAAyB,EArBX,KAsBdC,gBAAiB,EAtBH,KAuBdC,eAAgB,EAvBF,KAwBdC,oBAAqB,EAxBP,KAyBdC,yBAA0B,EAzBZ,KA0BdC,wBAAyB,EA1BX,KA2BdC,sBAAuB,EA3BT,KA4BdC,8BAA+B,EA5BjB,KA6BdC,gBAAiB,EA7BH,KA8BdC,0BAA2B,EA9Bb,KA+BdC,WAAY,EA/BE,KAgCdC,cAAe,EAhCD,KAiCdC,eAAgB,EAjCF,KAkCdC,wBAAyB,EAlCX,KAmCdC,yBAA0B,EAnCZ,KAoCdC,sBAAwB,GApCV,KAqCdC,uBAAyB,KArCX,KAsCdC,eAAiB,KAtCH,KAuCdC,gCAAmC,KAvCrB,KAwCdC,iBAAmB,KAxCL,KAyCdC,mCAAqC,GAzCvB,KA0CdC,SAAW,KA1CG,KA2CdC,mBAAqB,GA3CP,KA4CdC,mBAAqB,KA5CP,KA6CdC,IAAM,KA7CQ,KA8CdC,eAAiB,GA9CH,KA+CdC,qBAAuB,GA/CT,KAgDdC,YAAa,IAAI7e,MAAOC,cAAcC,MAAM,EAAG,IAhDjC,KAiDd4e,oBAAsB,GAjDR,KAkDdC,gBAAiB,IAAI/e,MAAOC,cAAcC,MAAM,EAAG,IAlDrC,KAmDd8e,OAAS,KAnDK,KAoDdC,kBAAoB,GApDN,KAqDdC,wBAA0B,GArDZ,KAsDdC,aAAe,KAtDD,KAuDdC,wBAA0B,GAvDZ,KAwDdC,SAAW,KAxDG,KAyDdC,QAAU,KAzDI,KA0DdC,oCAAsC,GA1DxB,KA2DdC,wBAA0B,GA3DZ,KA4DdC,gBAAkB,GA5DJ,KA6DdC,aAAc,IAAI1f,MAAOC,cAAcC,MAAM,EAAG,IA7DlC,KA8Ddyf,WAAa,IA9DC,KA+DdC,cAAgB,GA/DF,KAgEdC,gBAAkB,GAhEJ,KAiEdC,iBAAmB,KAjEL,KAkEdC,kCAAoC,GAlEtB,KAmEdC,aAAe,KAnED,KAoEdC,wBAA0B,GApEZ,KAqEdC,sBAAuB,IAAIlgB,MAAOC,cAAcC,MAAM,EAAG,IArE3C,KAsEdigB,6BAA+B,GAtEjB,KAuEdC,8BAAgC,GAvElB,KAwEdC,0BAA4B,GAxEd,KAyEdC,4BAA8B,GAzEhB,KA0EdC,mBAAoB,EA1EN,KA2EdC,QAAU,KA3EI,KA4EdC,kBAAoB,KA5EN,KA6EdC,mCAAqC,GA7EvB,KA8EdC,aAAe,GA9ED,KA+Edrd,eAAiB,GA/EH,KAgFdsd,aAAe,GAhFD,KAiFdC,cAAgB,GAjFF,KAkFdC,iBAAmB,GAlFL,KAmFdC,aAAe,GAnFD,KAoFdC,8BAAgC,GApFlB,KAqFdC,kBAAoB,GArFN,KAsFdC,UAAY,GAtFE,KAuFdC,UAAY,GAvFE,KAwFdC,4BAA8B,GAxFhB,KAyFdC,YAAc,GAzFA,KA0FdC,sBAAwB,GA1FV,KA2FdC,iDAAmD,GA3FrC,KA4FdC,cAAgB,GA5FF,KA6FdC,sBAAwB,GA7FV,KA8FdC,qBAAuB,GA9FT,KA+FdC,4BAA8B,GA/FhB,KAgGdC,oBAAsB,GAhGR,KAiGdC,sBAAwB,GAjGV,KAkGdC,cAAgB,GAlGF,KAmGdC,wBAA0B,GAnGZ,KAoGdC,SAAW,GApGG,KAqGdC,YAAc,GArGA,KAsGdC,kBAAoB,GAtGN,KAuGdC,cAAgB,GAvGF,KAwGdC,aAAe,GAxGD,KAyGdC,sBAAwB,GAzGV,KA0GdC,kBAAoB,GA1GN,KA2GdC,aAAe,GA3GD,KA4GdC,uBAAyB,GA5GX,KA6GdC,oCAAmC,EA7GrB,KA8GdC,oBAAmB,EA9GL,KA+GdC,8BAA6B,EA/Gf,KAgHdC,yDAAwD,EAhH1C,KAiHdC,sBAAqB,EAjHP,KAkHdC,8BAA6B,EAlHf,KAmHdC,sBAAqB,EAnHP,KAoHdC,qBAAoB,EApHN,KAqHdC,0BAAyB,EArHX,KAsHdC,+BAA8B,EAtHhB,KAuHdC,8BAA6B,EAvHf,KAwHdC,4BAA2B,EAxHb,KAyHdC,6BAA4B,EAzHd,KA0HdC,oCAAmC,EA1HrB,KA2HdC,sBAAqB,EA3HP,KA4HdC,gCAA+B,EA5HjB,KA6HdC,iBAAgB,EA7HF,KA8HdC,oBAAmB,EA9HL,KA+HdC,qBAAoB,EA/HN,KAgIdC,8BAA6B,EAhIf,KAiIdC,0BAAyB,EAjIX,KAmIdC,+BAAiC,SAACvrB,GAC9B,EAAK6oB,4BAA8B7oB,GApIzB,KAuIdwrB,eAAiB,SAACxrB,GACd,EAAK8oB,YAAc9oB,GAxIT,KA2IdyrB,yBAA2B,SAACzrB,GACxB,EAAK+oB,sBAAwB/oB,GA5InB,KA+Id0rB,oDAAsD,SAAC1rB,GACnD,EAAKgpB,iDAAmDhpB,GAhJ9C,KAmJd2rB,iBAAmB,SAAC3rB,GAChB,EAAKipB,cAAgBjpB,GApJX,KAuJd4rB,yBAA2B,SAAC5rB,GACxB,EAAKkpB,sBAAwBlpB,GAxJnB,KA2Jd6rB,wBAA0B,SAAC7rB,GACvB,EAAKmpB,qBAAuBnpB,GA5JlB,KA+Jd8rB,+BAAiC,SAAC9rB,GAC9B,EAAKopB,4BAA8BppB,GAhKzB,KAmKd+rB,uBAAyB,SAAC/rB,GACtB,EAAKqpB,oBAAsBrpB,GApKjB,KAuKdgsB,yBAA2B,SAAChsB,GACxB,EAAKisB,sBAAwBjsB,GAxKnB,KA2KdksB,iBAAmB,SAAClsB,GAChB,EAAKupB,cAAgBvpB,GA5KX,KA+KdmsB,2BAA6B,SAACnsB,GAC1B,EAAKwpB,wBAA0BxpB,GAhLrB,KAmLdosB,YAAc,SAACpsB,GACX,EAAKypB,SAAWzpB,GApLN,KAuLdqsB,eAAiB,SAACrsB,GACd,EAAK0pB,YAAc1pB,GAxLT,KA2LdssB,qBAAuB,SAACtsB,GACpB,EAAK2pB,kBAAoB3pB,GA5Lf,KA+LdusB,iBAAmB,SAACvsB,GAChB,EAAK4pB,cAAgB5pB,GAhMX,KAmMdwsB,gBAAkB,SAACxsB,GACf,EAAK6pB,aAAe7pB,GApMV,KAuMdysB,yBAA2B,SAACzsB,GACxB,EAAK8pB,sBAAwB9pB,GAxMnB,KA2Md0sB,qBAAuB,SAAC1sB,GACpB,EAAK+pB,kBAAoB/pB,GA5Mf,KA+Md2sB,gBAAkB,SAAC3sB,GACf,EAAKgqB,aAAehqB,GAhNV,KAmNd4sB,0BAA4B,SAAC5sB,GACzB,EAAKiqB,uBAAyBjqB,GApNpB,KAuNd6sB,qBAAuB,SAACrW,GACpB,EAAK0R,kBAAoB1R,EACzB,EAAKoW,0BAA0B,KAzNrB,KA4NdE,iCAAmC,SAAC9sB,GAChC,EAAKyqB,oBAAsBzqB,GA7NjB,KA+Nd+sB,sCAAwC,SAAC/sB,GACrC,EAAKmoB,mCAAqCnoB,GAhOhC,KAmOdgtB,WAAa,SAACxW,GACV,EAAKyR,QAAUzR,EACf,EAAKmW,gBAAgB,KArOX,KAuOdM,uBAAyB,SAACjtB,GACtB,EAAKyqB,oBAAsBzqB,GAxOjB,KA2OdktB,gBAAkB,SAAC1W,GACf,EAAKiR,aAAejR,EACpB,EAAKkW,qBAAqB,KA7OhB,KAgPdS,4BAA8B,SAACntB,GAC3B,EAAKsrB,yBAA2BtrB,GAjPtB,KAmPdotB,2BAA6B,SAACptB,GAC1B,EAAK0nB,wBAA0B1nB,GApPrB,KAuPdqtB,wBAA0B,SAACrtB,GACvB,EAAK2nB,qBAAuB3nB,GAxPlB,KA2PdstB,gCAAkC,SAACttB,GAC/B,EAAK4nB,6BAA+B5nB,GA5P1B,KA+PdutB,iCAAmC,SAACvtB,GAChC,EAAK6nB,8BAAgC7nB,GAhQ3B,KAmQdwtB,6BAA+B,SAACxtB,GAC5B,EAAK8nB,0BAA4B9nB,GApQvB,KAuQdytB,+BAAiC,SAACztB,GAC9B,EAAK+nB,4BAA8B/nB,GAxQzB,KA2Qd0tB,qBAAuB,SAAC7sB,GACpB,EAAKmnB,kBAAoBnnB,GA5Qf,KA+Qd8sB,oBAAsB,SAACnX,GACnB,EAAK+Q,iBAAmB/Q,EACxB,EAAKiW,yBAAyB,KAjRpB,KAoRdmB,gCAAkC,SAAC5tB,GAC/B,EAAKqrB,6BAA+BrrB,GArR1B,KAuRd6tB,qCAAuC,SAAC7tB,GACpC,EAAKwnB,kCAAoCxnB,GAxR/B,KA2Rd8tB,WAAa,SAACtX,GACV,EAAKuQ,QAAUvQ,EACf,EAAK+V,iBAAiB,KA7RZ,KAgSdwB,uBAAyB,SAAC/tB,GACtB,EAAKorB,oBAAsBprB,GAjSjB,KAmSdguB,uCAAyC,SAAChuB,GACtC,EAAKgnB,oCAAsChnB,GApSjC,KAuSdiuB,2BAA6B,SAACjuB,GAC1B,EAAKinB,wBAA0BjnB,GAxSrB,KA2SdkuB,mBAAqB,SAACluB,GAClB,EAAKknB,gBAAkBlnB,GA5Sb,KA+SdmuB,eAAiB,SAACnuB,GACd,EAAKmnB,YAAcnnB,GAhTT,KAmTdouB,cAAgB,SAACpuB,GACb,EAAKonB,WAAapnB,GAAS,KApTjB,KAuTdquB,iBAAmB,SAACruB,GAChB,EAAKqnB,cAAgBrnB,GAxTX,KA2TdsuB,mBAAqB,SAACtuB,GAClB,EAAKsnB,gBAAkBtnB,GA5Tb,KA+TduuB,YAAc,SAAC/X,GACX,EAAKsQ,SAAWtQ,EAChB,EAAK+V,iBAAiB,KAjUZ,KAoUdiC,gBAAkB,SAAChY,GACf,EAAKoQ,aAAepQ,EACpB,EAAK8V,qBAAqB,KAtUhB,KAwUdmC,4BAA8B,SAACzuB,GAC3B,EAAK0qB,yBAA2B1qB,GAzUtB,KA4Ud0uB,2BAA6B,SAAC1uB,GAC1B,EAAK6mB,wBAA0B7mB,GA7UrB,KAgVd2uB,UAAY,SAACnY,GACT,EAAKiQ,OAASjQ,EACd,EAAK6V,eAAe,KAlVV,KAqVduC,sBAAwB,SAAC5uB,GACrB,EAAKmrB,mBAAqBnrB,GAtVhB,KAwVd6uB,qBAAuB,SAAC7uB,GACpB,EAAK0mB,kBAAoB1mB,GAzVf,KA4Vd8uB,2BAA6B,SAAC9uB,GAC1B,EAAK2mB,wBAA0B3mB,GA7VrB,KAgWd+uB,OAAS,SAACvY,GACN,EAAK2P,IAAM3P,EACX,EAAK4V,YAAY,KAlWP,KAqWd4C,mBAAqB,SAAChvB,GAClB,EAAKkrB,gBAAkBlrB,GAtWb,KAwWdivB,kBAAoB,SAACjvB,GACjB,EAAKomB,eAAiBpmB,GAzWZ,KA4WdkvB,wBAA0B,SAAClvB,GACvB,EAAKqmB,qBAAuBrmB,GA7WlB,KAgXdmvB,cAAgB,SAAC3nB,GACb,EAAK8e,WAAa9e,GAjXR,KAoXd4nB,uBAAyB,SAACpvB,GACtB,EAAKumB,oBAAsBvmB,GArXjB,KAwXdqvB,kBAAoB,SAAC7nB,GACjB,EAAKgf,eAAiBhf,GAzXZ,KA4Xd8nB,oBAAsB,SAAC9Y,GACnB,EAAKsP,iBAAmBtP,EACxB,EAAKwV,yBAAyB,KA9XpB,KAgYduD,gCAAkC,SAACvvB,GAC/B,EAAK4qB,6BAA+B5qB,GAjY1B,KAoYdwvB,sBAAwB,SAAChZ,GACrB,EAAK0P,mBAAqB1P,EAC1B,EAAK2V,2BAA2B,KAtYtB,KAyYdsD,kCAAoC,SAACzvB,GACjC,EAAKirB,+BAAiCjrB,GA1Y5B,KA4Yd0vB,sCAAwC,SAAC1vB,GACrC,EAAK+lB,mCAAqC/lB,GA7YhC,KAgZd2vB,YAAc,SAACnZ,GACX,EAAKwP,SAAWxP,EAChB,EAAK0V,iBAAiB,KAlZZ,KAoZd0D,wBAA0B,SAAC5vB,GACvB,EAAKgrB,qBAAuBhrB,GArZlB,KAwZd6vB,sBAAwB,SAAC7vB,GACrB,EAAKimB,mBAAqBjmB,GAzZhB,KA4Zd8vB,gBAAkB,SAAC9vB,GAEf,GADA,EAAKqoB,aAAeroB,EAChBA,EAAO,CACP,IAAM+vB,EAAmB/vB,EAAM,GAC/B,EAAKivB,kBAAkBc,GACvB,EAAKlB,qBAAqBkB,GAC1B,EAAKrB,2BAA2BqB,GAChC,EAAK3C,2BAA2B2C,KAna1B,KAuadC,gBAAkB,SAAChwB,GAEf,GADA,EAAKwoB,aAAexoB,EAChBA,EAAMoM,OAAS,EAAG,CAClB,IAAM6jB,EAAyBjwB,EAAM,GAAGuJ,eACxC,EAAK2lB,wBAAwBe,GAC7B,EAAKnB,2BAA2BmB,GAChC,EAAKC,oCAAoCD,GACzC,EAAKpC,qCAAqCoC,GAC1C,EAAK1C,iCAAiC0C,GACtC,EAAKlD,sCAAsCkD,GAC3C,EAAKE,mCAAmCF,KAjblC,KAqbdG,gBAAkB,SAACpwB,GACf,EAAKooB,aAAepoB,EACpBA,EAAMoM,OAAS,GAAK,EAAKikB,2BAA2BrwB,EAAM,GAAGiC,KAvbnD,KA0bdquB,kBAAoB,SAACtwB,GACjB,EAAK+K,eAAiB/K,EACtBA,EAAMoM,OAAS,GAAK,EAAKmkB,yBAAyBvwB,EAAM,KA5b9C,KA+bdwwB,iBAAmB,SAACxwB,GAChB,EAAKsoB,cAAgBtoB,EACrBA,EAAMoM,OAAS,GAAK,EAAKqkB,yBAAyBzwB,EAAM,KAjc9C,KAocd0wB,oBAAsB,SAAC1wB,GACnB,EAAKuoB,iBAAmBvoB,EACxBA,EAAMoM,OAAS,GAAK,EAAKqhB,+BAA+BztB,EAAM,KAtcpD,KAycd2wB,iCAAmC,SAAC3wB,GAChC,IAAM4wB,EAAW5lB,OAAO6lB,OAAO7wB,GAC/B,EAAKyoB,8BAAgCmI,EACrCA,EAASxkB,OAAS,GAAK,EAAK4hB,uCAAuC4C,EAAS,GAAG3oB,WA5crE,KA+cd6oB,qBAAuB,SAAC9wB,GACpB,EAAK0oB,kBAAoB1oB,EACzBA,EAAMoM,OAAS,GAAK,EAAK6hB,2BAA2BjuB,EAAM,GAAGwB,MAC7DxB,EAAMoM,OAAS,GAAK,EAAKgjB,uBAAuBpvB,EAAM,GAAGiC,KAld/C,KAqdd8uB,aAAe,SAAC/wB,GACZ,EAAK2oB,UAAY3oB,EACjBA,EAAMoM,OAAS,GAAK,EAAK8hB,mBAAmBluB,EAAM,GAAGiI,WAvd3C,KAydd+oB,wBAA0B,SAAChxB,GACvB,EAAKwqB,qBAAuBxqB,GA1dlB,KA6ddixB,aAAe,SAACjxB,GACZ,EAAK4oB,UAAY5oB,EACjBA,EAAMoM,OAAS,GAAK,EAAKyjB,sBAAsB7vB,EAAM,GAAGiC,KA/d9C,KAkedhD,UAAY,SAACe,GACT,EAAKI,OAASJ,GAneJ,KAsedkxB,0BAA4B,SAAClxB,GACzB,EAAK6jB,uBAAyB7jB,EAC9B,EAAKurB,+BAA+B,KAxe1B,KA0ed4F,sCAAwC,SAACnxB,GACrC2C,QAAQC,IAAI5C,GACZ,EAAKkqB,mCAAqClqB,GA5ehC,KA+edoxB,UAAY,SAACpxB,GACT,EAAKiiB,OAASjiB,EACd,EAAKwrB,eAAe,KAjfV,KAmfd6F,sBAAwB,SAACrxB,GACrB,EAAKmqB,mBAAqBnqB,GApfhB,KAufd+d,oBAAsB,SAAC/d,GACnB,EAAKkM,iBAAmBlM,EACxB,EAAKyrB,yBAAyB,KAzfpB,KA2fd6F,gCAAkC,SAACtxB,GAC/B,EAAKoqB,6BAA+BpqB,GA5f1B,KA+fduxB,+CAAiD,SAACvxB,GAC9C,EAAK8jB,4CAA8C9jB,EACnD,EAAK0rB,oDAAoD,KAjgB/C,KAmgBd8F,2DAA6D,SAACxxB,GAC1D,EAAKqqB,wDAA0DrqB,GApgBrD,KAugBdyxB,YAAc,SAACzxB,GACX,EAAK+jB,SAAW/jB,EAChB,EAAK2rB,iBAAiB,KAzgBZ,KA2gBd+F,wBAA0B,SAAC1xB,GACvB,EAAKsqB,qBAAuBtqB,GA5gBlB,KA+gBd2xB,oBAAsB,SAAC3xB,GACnB,EAAKgkB,iBAAmBhkB,EACxB,EAAK4rB,yBAAyB,KAjhBpB,KAohBdgG,gCAAkC,SAAC5xB,GAC/B,EAAKuqB,6BAA+BvqB,GArhB1B,KAuhBd6xB,mBAAqB,SAAC7xB,GAClB,EAAKikB,gBAAkBjkB,EACvB,EAAK6rB,wBAAwB,KAzhBnB,KA2hBdiG,+BAAiC,SAAC9xB,GAC9B,EAAK8qB,4BAA8B9qB,GA5hBzB,KA+hBd+xB,0BAA4B,SAAC/xB,GACzB,EAAK2lB,uBAAyB3lB,EAC9B,EAAK8rB,+BAA+B,KAjiB1B,KAmiBdkG,sCAAwC,SAAChyB,GACrC,EAAK+qB,mCAAqC/qB,GApiBhC,KAuiBdqwB,2BAA6B,SAACrwB,GAC1B,EAAKkkB,wBAA0BlkB,GAxiBrB,KA2iBduwB,yBAA2B,SAACvwB,GACxB,EAAKmkB,sBAAwBnkB,GA5iBnB,KA+iBdkwB,oCAAsC,SAAClwB,GACnC,EAAKokB,iCAAmCpkB,GAhjB9B,KAmjBdiyB,yBAA2B,SAACjyB,GACxB,EAAKqkB,sBAAwBrkB,GApjBnB,KAujBdkyB,gCAAkC,SAAClyB,GAC/B,EAAKskB,6BAA+BtkB,GAxjB1B,KA0jBdmyB,gBAAkB,SAACnyB,GACf,EAAKukB,aAAevkB,GA3jBV,KA6jBdoyB,0BAA4B,SAACpyB,GACzB,EAAKwkB,uBAAyBxkB,GA9jBpB,KAgkBdqyB,qDAAuD,SAACryB,GACpD,EAAKykB,kDAAoDzkB,GAjkB/C,KAmkBdsyB,kBAAoB,SAACtyB,GACjB,EAAK0kB,eAAiB1kB,GApkBZ,KAskBduyB,0BAA4B,SAACvyB,GACzB,EAAK2kB,uBAAyB3kB,GAvkBpB,KAykBdwyB,kBAAoB,SAACxyB,GACjB,EAAK4kB,eAAiB5kB,GA1kBZ,KA4kBdyyB,iBAAmB,SAACzyB,GAChB,EAAK6kB,cAAgB7kB,GA7kBX,KA+kBd0yB,sBAAwB,SAAC1yB,GACrB,EAAK8kB,mBAAqB9kB,GAhlBhB,KAklBd2yB,2BAA6B,SAAC3yB,GAC1B,EAAK+kB,wBAA0B/kB,GAnlBrB,KAqlBd4yB,0BAA4B,SAAC5yB,GACzB,EAAKglB,uBAAyBhlB,GAtlBpB,KAwlBd6yB,wBAA0B,SAAC7yB,GACvB,EAAKilB,qBAAuBjlB,GAzlBlB,KA2lBd8yB,gCAAkC,SAAC9yB,GAC/B,EAAKklB,6BAA+BllB,GA5lB1B,KA8lBd+yB,kBAAoB,SAAC/yB,GACjB,EAAKmlB,eAAiBnlB,GA/lBZ,KAimBdgzB,4BAA8B,SAAChzB,GAC3B,EAAKolB,yBAA2BplB,GAlmBtB,KAomBdizB,aAAe,SAACjzB,GACZ,EAAKqlB,UAAYrlB,GArmBP,KAumBdkzB,gBAAkB,SAAClzB,GACf,EAAKslB,aAAetlB,GAxmBV,KA0mBdmzB,iBAAmB,SAACnzB,GAChB,EAAKulB,cAAgBvlB,GA3mBX,KA6mBdozB,2BAA6B,SAACpzB,GAC1B,EAAKwlB,uBAAyBxlB,GA9mBpB,KAgnBdqzB,2BAA6B,SAACrzB,GAC1B,EAAKylB,wBAA0BzlB,GAjnBrB,KAsnBdywB,yBAA2B,SAACzwB,GACxB,EAAK0lB,sBAAwB1lB,GAvnBnB,KA0nBdszB,kBAAoB,SAACtzB,GACjB,EAAK4lB,eAAiB5lB,EACtB,EAAK+rB,uBAAuB,KA5nBlB,KA8nBdwH,8BAAgC,SAACvzB,GAC7B,EAAK6qB,2BAA6B7qB,GA/nBxB,KAioBdmwB,mCAAqC,SAACnwB,GAClC,EAAK6lB,gCAAkC7lB,GAloB7B,KAqoBdwzB,SAroBc,sBAqoBH,oEAAAra,EAAA,6DACDsa,EAAU,EAAKC,8BACfC,EAAU,EAAKC,cACfC,EAAU,EAAKzU,wBACf0U,EAAU,EAAKC,mDACfC,EAAU,EAAKC,gBACfC,EAAU,EAAKC,wBACfC,EAAU,EAAKC,uBACfC,EAAU,EAAKC,8BACfC,EAAU,EAAKC,sBACfC,EAAW,EAAKC,wBAChBC,EAAW,EAAKC,gBAChBC,EAAW,EAAKC,0BAChBC,EAAW,EAAKC,WAChBC,EAAW,EAAKC,cAChBC,EAAW,EAAKC,oBAChBC,EAAW,EAAKC,gBAChBC,EAAW,EAAKC,eAChBC,EAAW,EAAKC,wBAChBC,EAAW,EAAKC,oBAChBC,EAAW,EAAKC,eAChBC,EAAW,EAAKC,yBArBf,UAuBMC,QAAQC,IAAI,CAAC1C,EAASE,EAASE,EAASC,EAASE,EAASE,EAASE,EAASE,EAASE,EAASE,EACvGE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,EAAUE,IACnGj3B,MAAK,SAACC,GAEH,OADA,EAAKC,WAAU,GACRD,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MA7BzB,qFAroBG,KAqqBdia,4BArqBc,sBAqqBgB,4BAAAva,EAAA,yDAC1B,EAAKoS,+BAA+B,KAChC,EAAK1H,yBAA0B,EAAKqG,mCAFd,uBAGtB,EAAKjrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,+BAAgC,EAAKxS,wBACrD9J,EAASsc,OAAO,gBAAiB,EAAKnM,oCANhB,UAOR,EAAK5F,6BAA+BhK,EAAoBA,GAAoB,2BAA4BP,GACjHhb,MAAK,SAAAC,GAEF,OADAA,EAAI0a,MAAQ,EAAK6R,+BAA+BvsB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKyW,0BAA0B,MAC5GlyB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAZV,mFArqBhB,KAqrBdma,YArrBc,sBAqrBA,4BAAAza,EAAA,yDACV,EAAKqS,eAAe,KAChB,EAAKvJ,SAAU,EAAKkI,mBAFd,uBAGN,EAAKlrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,aAAc,EAAKpU,QACnClI,EAASsc,OAAO,gBAAiB,EAAKlM,oBANhC,UAQQ,EAAK5F,aAAejK,EAAoBA,GAAoB,SAAUP,GAC/Ehb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAK8R,eAAexsB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK2W,UAAU,MAC5EpyB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAd1B,mFArrBA,KAusBd2F,sBAvsBc,sBAusBU,4BAAAjG,EAAA,yDACpB,EAAKsS,yBAAyB,KAC1B,EAAKvf,mBAAoB,EAAKke,6BAFd,uBAGhB,EAAKnrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,wBAAyB,EAAKnqB,kBAC9C6N,EAASsc,OAAO,gBAAiB,EAAKjM,8BANtB,UAQF,EAAK5F,uBAAyBlK,EAAoBA,GAAoB,oBAAqBP,GACpGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAK+R,yBAAyBzsB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKsD,oBAAoB,MAChG/e,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdhB,mFAvsBV,KAytBdsa,iDAztBc,sBAytBqC,4BAAA5a,EAAA,yDAC/C,EAAKuS,oDAAoD,KACrD,EAAK5H,8CAA+C,EAAKuG,wDAFd,uBAG3C,EAAKprB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,sDAAuD,EAAKvS,6CAC5E/J,EAASsc,OAAO,gBAAiB,EAAKhM,yDANK,UAO7B,EAAK5F,kDAAoDnK,EAAoBA,GAAoB,kDAAmDP,GAC7Jhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKgS,oDAAoD1sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK8W,+CAA+C,MACtJvyB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAbW,mFAztBrC,KA0uBdwa,cA1uBc,sBA0uBE,4BAAA9a,EAAA,yDACZ,EAAKwS,iBAAiB,KAClB,EAAK5H,WAAY,EAAKuG,qBAFd,uBAGR,EAAKrrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,eAAgB,EAAKtS,UACrChK,EAASsc,OAAO,gBAAiB,EAAK/L,sBAN9B,UAQM,EAAK5F,eAAiBpK,EAAoBA,GAAoB,UAAWP,GAClFhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKiS,iBAAiB3sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKgX,YAAY,MAChFzyB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdxB,mFA1uBF,KA4vBd0a,sBA5vBc,sBA4vBU,4BAAAhb,EAAA,yDACpB,EAAKyS,yBAAyB,KAC1B,EAAK5H,mBAAoB,EAAKuG,6BAFd,uBAGhB,EAAKtrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,wBAAyB,EAAKrS,kBAC9CjK,EAASsc,OAAO,gBAAiB,EAAKrS,kBANtB,UAOF,EAAKW,uBAAyBrK,EAAoBA,GAAoB,oBAAqBP,GACpGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKkS,yBAAyB5sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKkX,oBAAoB,MAChG3yB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAbhB,mFA5vBV,KA6wBd4a,qBA7wBc,sBA6wBS,4BAAAlb,EAAA,yDACnB,EAAK0S,wBAAwB,KACzB,EAAK5H,kBAAmB,EAAK6G,4BAFd,wBAGf,EAAK7rB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,uBAAwB,EAAKpS,iBAC7ClK,EAASsc,OAAO,sBAAuB,EAAKnS,yBAC5CnK,EAASsc,OAAO,SAAU,EAAKlS,uBAC/BpK,EAASsc,OAAO,iBAAkB,EAAKjS,kCACvCrK,EAASsc,OAAO,iBAAkB,EAAK3Q,uBACvC3L,EAASsc,OAAO,gBAAiB,EAAKvL,6BAVvB,WAYD,EAAKzG,sBAAwB/J,EAAoBA,GAAoB,SAAUP,GACxFhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKmS,wBAAwB7sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKoX,mBAAmB,MAC9F7yB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAlBjB,qFA7wBT,KAmyBd8a,4BAnyBc,sBAmyBgB,4BAAApb,EAAA,yDAC1B,EAAK2S,+BAA+B,KAChC,EAAKnG,yBAA0B,EAAKoF,mCAFd,uBAGtB,EAAK9rB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,sBAAuB,EAAK1Q,wBAC5C5L,EAASsc,OAAO,gBAAiB,EAAKtL,oCANhB,UAQR,EAAK7F,6BAA+B5K,EAAoBA,GAAoB,kBAAmBP,GACxGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKoS,+BAA+B9sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKsX,0BAA0B,MAC5G/yB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdV,mFAnyBhB,KAqzBdgb,oBArzBc,sBAqzBQ,4BAAAtb,EAAA,yDAClB,EAAK4S,uBAAuB,KACxB,EAAKnG,iBAAkB,EAAKiF,2BAFd,wBAGd,EAAK5rB,WAAU,IAET8a,EAAW,IAAIqc,UACZC,OAAO,sBAAuB,EAAKzQ,gBACzC,EAAKC,iCACJ9L,EAASsc,OAAO,kBAAmB,EAAKxQ,iCAE5C9L,EAASsc,OAAO,gBAAiB,EAAKxL,4BAVxB,UAYA,EAAK5F,qBAAuB3K,EAAoBA,GAAoB,kBAAmBP,GAChGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKqS,uBAAuB/sB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK6Y,kBAAkB,MAC5Ft0B,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAlBlB,oFArzBR,KA20Bdkb,sBA30Bc,sBA20BU,4BAAAxb,EAAA,yDACpB,EAAK6S,yBAAyB,KAC1B,EAAKlG,mBAAoB,EAAK8E,6BAFd,wBAGhB,EAAK3rB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,wBAAyB,EAAKvQ,kBAC9C/L,EAASsc,OAAO,gBAAiB,EAAKzL,8BACM,KAA5C,EAAK7E,oCAA6ChM,EAASsc,OAAO,uBAAwB,EAAKtQ,oCAP/E,UAQF,EAAKf,uBAAyB1K,EAAoBA,GAAoB,oBAAqBP,GACpGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKsS,yBAAyBhtB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK6U,oBAAoB,MAChGtwB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdhB,oFA30BV,KA61Bdob,cA71Bc,sBA61BE,4BAAA1b,EAAA,yDACZ,EAAK+S,iBAAiB,KAClB,EAAKlG,WAAY,EAAKgF,qBAFd,wBAGR,EAAK/rB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,wBAAyB,EAAKrQ,UAC9CjM,EAASsc,OAAO,iBAAkB,EAAKpQ,oBACvClM,EAASsc,OAAO,gBAAiB,EAAKrL,sBAP9B,UAQM,EAAK7F,eAAiB7K,EAAoBA,GAAoB,WAAYP,GACnFhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKwS,iBAAiBltB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAKkV,YAAY,MAChF3wB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdxB,oFA71BF,KA+2Bdsb,wBA/2Bc,sBA+2BY,4BAAA5b,EAAA,yDACtB,EAAKgT,2BAA2B,KAC5B,EAAKjG,qBAAsB,EAAK+E,+BAFd,uBAGlB,EAAKhsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,0BAA2B,EAAKnQ,oBAChDnM,EAASsc,OAAO,gBAAiB,EAAKpL,gCANpB,UAOJ,EAAK7F,yBAA2B9K,EAAoBA,GAAoB,sBAAuBP,GACxGhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,GACZA,EAAI0a,MAAQ,EAAKyS,2BAA2BntB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK+U,sBAAsB,MACpGxwB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAbd,mFA/2BZ,KAg4Bdwb,SAh4Bc,sBAg4BH,4BAAA9b,EAAA,yDACP,EAAKiT,YAAY,KACb,EAAKjG,MAAO,EAAK+E,gBAFd,wBAGH,EAAKjsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,kBAAmB,EAAKlQ,KACxCpM,EAASsc,OAAO,cAAe,EAAKjQ,gBACpCrM,EAASsc,OAAO,iBAAkB,EAAKhQ,sBACvCtM,EAASsc,OAAO,YAAa,EAAK/P,WAAWllB,MAAM,KAAKwG,UAAUC,KAAK,MACvEkS,EAASsc,OAAO,0BAA2B,EAAK9P,qBAChDxM,EAASsc,OAAO,mBAAoB,EAAK7P,eAAeplB,MAAM,KAAKwG,UAAUC,KAAK,MAClFkS,EAASsc,OAAO,gBAAiB,EAAKnL,iBAXnC,WAYW,EAAK7F,UAAY/K,EAAoBA,GAAoB,MAAOP,GACzEhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAK0S,YAAYptB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKsU,OAAO,MAC1G/vB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAlB7B,qFAh4BG,KAs5Bd0b,YAt5Bc,sBAs5BA,4BAAAhc,EAAA,yDACV,EAAKkT,eAAe,KAChB,EAAK5F,SAAU,EAAK0E,mBAFd,wBAGN,EAAKlsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,oBAAqB,EAAK5P,QAC1C1M,EAASsc,OAAO,cAAe,EAAK3P,mBACpC3M,EAASsc,OAAO,iBAAkB,EAAK1P,yBACvC5M,EAASsc,OAAO,gBAAiB,EAAKlL,oBARhC,WAUQ,EAAK7F,aAAehL,EAAoBA,GAAoB,QAASP,GAC9Ehb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAK2S,eAAertB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKkU,UAAU,MAChH3vB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAhB1B,qFAt5BA,KA06Bd4b,kBA16Bc,sBA06BM,4BAAAlc,EAAA,yDAChB,EAAKmT,qBAAqB,KACtB,EAAK1F,eAAgB,EAAK8D,yBAFd,wBAGZ,EAAKzrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,2BAA4B,EAAKzP,cACjD7M,EAASsc,OAAO,cAAe,EAAKxP,yBACpC9M,EAASsc,OAAO,gBAAiB,EAAK3L,0BAP1B,UASE,EAAK5F,mBAAqBxK,EAAoBA,GAAoB,uBAAwBP,GACnGhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAK4S,qBAAqBttB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAK+T,gBAAgB,MAC5HxvB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAfpB,oFA16BN,KA67Bd8b,cA77Bc,sBA67BE,4BAAApc,EAAA,yDACZ,EAAKoT,iBAAiB,KAClB,EAAKzF,WAAY,EAAK0D,qBAFd,uBAGR,EAAKvrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,eAAgB,EAAKvP,UACrC/M,EAASsc,OAAO,gBAAiB,EAAK7L,sBAN9B,UAQM,EAAK5F,eAAiBtK,EAAoBA,GAAoB,WAAYP,GACnFhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAK0a,OAAQ,EAAK6S,iBAAiBvtB,EAAIyb,QAAQza,OAAShB,EAAIyb,SAAW,EAAK8T,YAAY,MACjFvvB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdxB,mFA77BF,KA+8Bdgc,aA/8Bc,sBA+8BC,4BAAAtc,EAAA,yDACX,EAAKqT,gBAAgB,KACjB,EAAKzF,QAFE,qBAGH,EAAKM,gBAAiB,EAAK+D,oBAHxB,wBAIH,EAAKnsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,eAAgB,EAAKtP,SACrChN,EAASsc,OAAO,uBAAwB,EAAKrP,oCAAoC/e,UACjF8R,EAASsc,OAAO,yBAA0B,EAAKpP,wBAAwBzlB,MACvEuY,EAASsc,OAAO,oBAAqB,EAAKnP,gBAAgBjf,UAC1D8R,EAASsc,OAAO,eAAhB,UAAmC,EAAKlP,YAAxC,cACApN,EAASsc,OAAO,iBAAkB,EAAKhP,eACvCtN,EAASsc,OAAO,SAAU,EAAKjP,YAC/BrN,EAASsc,OAAO,gBAAiB,EAAKjL,qBAEN,KAAhC,EAAK9D,gBAAgBjU,QAAiB0G,EAASsc,OAAO,mBAAhB,UAAuC,EAAK/O,gBAA5C,cAfnC,WAgBW,EAAK/B,cAAgBjL,EAAoBA,GAAoB,UAAWP,GACjFhb,MAAK,SAAAC,GAGF,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAK0a,OAAQ,EAAK8S,gBAAgBxtB,EAAIyb,QAAQ8b,iBAAiB,IAAMv3B,EAAIyb,SAAW,EAAKqT,WAAW,MAC7F9uB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAtB7B,iDAyBH,EAAK+S,gBAAgB,0FAzBlB,4CA/8BD,KA6+BdmJ,sBA7+Bc,sBA6+BU,4BAAAxc,EAAA,yDACpB,EAAKsT,yBAAyB,KAC1B,EAAKlF,mBAAoB,EAAK8D,6BAFd,wBAGhB,EAAKpsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,gCAAiC,EAAK9O,kBACtDxN,EAASsc,OAAO,iBAAkB,EAAK7O,mCACvCzN,EAASsc,OAAO,gBAAiB,EAAKhL,8BAPtB,UAQF,EAAK7F,uBAAyBlL,EAAoBA,GAAoB,oBAAqBP,GACpGhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAK+S,yBAAyBztB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKkT,oBAAoB,MACpI3uB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdhB,oFA7+BV,KA+/Bdoc,kBA//Bc,sBA+/BM,4BAAA1c,EAAA,yDAChB,EAAKuT,qBAAqB,KACtB,EAAKjF,eAAgB,EAAK6D,yBAFd,wBAGZ,EAAKrsB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,oBAAqB,EAAK5O,cAC1C1N,EAASsc,OAAO,cAAe,EAAK3O,yBACpC3N,EAASsc,OAAO,iBAAkB,EAAKxO,+BACvC9N,EAASsc,OAAO,YAAa,EAAK1O,qBAAqBvmB,MAAM,KAAKwG,UAAUC,KAAK,MACjFkS,EAASsc,OAAO,mBAAqD,YAAjC,EAAK3O,wBAAwC,EAAKK,4BAA8B,MACpHhO,EAASsc,OAAO,QAAS,EAAKrO,mBAC9BjO,EAASsc,OAAO,gBAAiB,EAAK/K,0BAEH,KAAnC,EAAKxD,2BAAoC/N,EAASsc,OAAO,iBAAkB,EAAKvO,2BAC1C,KAAtC,EAAKF,8BAAuC7N,EAASsc,OAAO,0BAA2B,EAAKzO,8BAdhF,WAeE,EAAKnC,wBAA0BnL,EAAoBA,GAAoB,gBAAiBP,GACjGhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAKgT,qBAAqB1tB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKyS,gBAAgB,MAC5HluB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MArBpB,qFA//BN,KAwhCdsc,aAxhCc,sBAwhCC,4BAAA5c,EAAA,yDACX,EAAKwT,gBAAgB,KACjB,EAAK1E,UAAW,EAAKwC,oBAFd,uBAGP,EAAKxrB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,cAAe,EAAKpO,SACpClO,EAASsc,OAAO,gBAAiB,EAAK5L,qBAN/B,UAOO,EAAK5F,cAAgBvK,EAAoBA,GAAoB,UAAWP,GACjFhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAKiT,gBAAgB3tB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKuS,WAAW,MAClHhuB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAbzB,mFAxhCD,KAyiCdwc,uBAziCc,sBAyiCW,4BAAA9c,EAAA,yDACrB,EAAKyT,0BAA0B,KAC3B,EAAK1E,oBAAqB,EAAKyC,8BAFd,wBAGjB,EAAK1rB,WAAU,IACT8a,EAAW,IAAIqc,UACZC,OAAO,yBAA0B,EAAKnO,mBAC/CnO,EAASsc,OAAO,iBAAkB,EAAKlO,oCACvCpO,EAASsc,OAAO,gBAAiB,EAAK1L,+BAPrB,UAQH,EAAK5F,wBAA0BzK,EAAoBA,GAAoB,qBAAsBP,GACtGhb,MAAK,SAAAC,GAAQ,IAAD,EAGT,OAFA2D,QAAQC,IAAI5D,IACT,OAAHA,QAAG,IAAHA,GAAA,UAAAA,EAAKs3B,wBAAL,eAAuB5c,OAAQ,EAAKkT,0BAA0B5tB,EAAIs3B,iBAAiB7b,QAAQza,OAAShB,EAAIyb,SAAW,EAAKoS,qBAAqB,MACtI7tB,KAEVwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAdf,oFAziCX,KA2jCd+c,kBAAoB,WAChBlc,EAAU,iBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKoxB,gBAAgBpxB,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA9jCtB,KAikCdgd,oBAAsB,WAClBnc,EAAU,iBACLvb,MAAK,SAAAC,GACEA,IACAA,EAAI03B,wBAA0B,EAAKpG,kBAAkBtxB,EAAI03B,wBACzD13B,EAAIqpB,cAAgB,EAAKyH,gBAAgB9wB,EAAIqpB,cAC7CrpB,EAAI23B,0BAA4B,EAAKnG,iBAAiBxxB,EAAI23B,0BAC1D33B,EAAI43B,mBAAqB,EAAKlG,oBAAoB1xB,EAAI43B,uBAG7Dpd,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA3kCtB,KA8kCdod,kBAAoB,WAChBvc,EAAU,6BACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKgxB,gBAAgBhxB,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAjlCtB,KAolCdqd,mCAAqC,WACjCxc,EAAU,kCACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK2xB,iCAAiC3xB,MAClDwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAvlCtB,KA0lCdsd,uBAAyB,WACrBzc,EAAU,qBACLvb,MAAK,SAAAC,GACF,EAAK8xB,qBAAqB9xB,MAE7Bwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA/lCtB,KAkmCdud,eAAiB,WACb1c,EAAU,YACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK+xB,aAAa/xB,MAC9Bwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OArmCtB,KAwmCdwd,eAAiB,WACb3c,EAAU,qBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKiyB,aAAajyB,MAC9Bwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA3mCtB,KA8mCdyd,UAAY,WACR,EAAKV,oBACL,EAAKC,sBACL,EAAKI,oBACL,EAAKC,qCACL,EAAKC,yBACL,EAAKC,iBACL,EAAKC,kBArnCK,KAwnCdE,sBAxnCc,uCAwnCU,WAAOC,GAAP,SAAAje,EAAA,sEACPmB,EAAA,UAAmB8c,EAAnB,kBACR5d,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAFZ,mFAxnCV,sDACViB,YAAmBC,ONYvB0c,iBOkZW,IA/ZX,aAAe,IAAD,gCAIdC,eAAiB,KAJH,KAKdC,kBAAoB,KALN,KAMdC,qBAAuB5c,MAAM,IAAIzH,KAAK,IANxB,KAOdskB,sBAAwB7c,MAAM,IAAIzH,KAAK,IAPzB,KAQd1P,SAAW,GARG,KASdE,OAAS,GATK,KAUd+P,gBAAkB,EAVJ,KAWdC,iBAAmB,EAXL,KAYdc,gBAAkB,GAZJ,KAadZ,iBAAmB,GAbL,KAcdM,wBAA0B,GAdZ,KAedJ,sBAAwB,eAfV,KAgBd2jB,eAAiB,CAAEC,QAAQ,EAAMC,UAAU,GAhB7B,KAkBdC,qBAAuB,SAACzb,EAAOlY,GAC3B,EAAKwzB,eAAexzB,GAAYkY,EAChC,EAAK0b,wBAAwB,EAAKR,iBApBxB,KAuBdljB,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IACA,EAAKwN,gBAAkB,GACvBnF,EAAmBvH,GAAS,CAAElH,SAAUyO,EAAmBvH,GAAOlH,QAASoB,GAAIgF,EAAI,IACnF,EAAKkN,wBAAL,YAAmC7E,IAEvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAKkkB,kBAAoB,EAAKC,qBAChF,GAAIxb,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,SAA0CsI,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,UAA4CqI,EAAMna,YAClHka,EAAeA,EAAanY,QAAQ+X,EAAyD,IAAIO,IAAnD,gBAAGra,EAAH,EAAGA,GAAH,OAAa8Z,EAAOQ,IAAIta,IAAO8Z,EAAO9J,IAAIhQ,MACxF,EAAK61B,wBAAwB3b,GAAc,QAG3C,EAAK2b,wBAAwBj1B,GAAM,IAxC7B,KA2CdkS,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GA5Cb,KA+CdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GAhDd,KAmDdyO,cAAgB,SAAC6L,EAAMC,GACnBD,EAAQ,EAAKhZ,SAAWgZ,EAAiB,KAATA,IAAgB,EAAKhZ,SAAW,IAChEiZ,EAAM,EAAK/Y,OAAS+Y,EAAa,KAAPA,IAAc,EAAK/Y,OAAS,IACtD,EAAKF,UAAY,EAAKE,QAAU,EAAKF,SAAW,EAAKE,SAAW,EAAKA,OAAS,KAtDpE,KAyDdgO,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAiB,EAAK4a,kBAAkBvzB,QAAO,SAAA4Y,GAAM,OAAIA,EAAOpV,KAAKrH,SAASH,IAChF4c,EAAO5S,WAAW7J,SAASH,IAAU4c,EAAOrS,mBAAmBpD,WAAWhH,SAASH,IACnF4c,EAAOtU,QAAQnB,WAAWhH,SAASH,IAAU4c,EAAOpS,iBAAiBrK,SAASH,MAClF,EAAK83B,wBAAwBnb,OAE5B,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAiB,EAAK2a,eAAetzB,QAAO,SAAA4Y,GAAM,OACpDA,EAAOrT,eAAepC,WAAWhH,SAASH,IAAU4c,EAAOtU,QAAQnB,WAAWhH,SAASH,IACvF4c,EAAOjT,KAAKxC,WAAWhH,SAASH,IAAU4c,EAAOlT,WAAWvC,WAAWhH,SAASH,IAChF4c,EAAOhT,KAAKzC,WAAWhH,SAASH,IAAU4c,EAAOtT,iBAAiBuT,cAAc1c,SAASH,EAAM6c,gBAC/FD,EAAOpT,eAAerC,WAAWhH,SAASH,IAAU4c,EAAOnT,KAAKtC,WAAWhH,SAASH,MACxF,EAAK+3B,yBAAyBpb,KAxExB,KA4Edmb,wBAA0B,SAACj1B,EAAM0a,GAI7B,IAAMF,GAHNxa,EAAO,EAAK60B,eAAeC,QAAU,EAAKD,eAAeE,SAAW/0B,EAChE,EAAK60B,eAAeC,OAAS90B,EAAKmB,QAAO,SAAAg0B,GAAU,OAAIA,EAAWC,aAC9D,EAAKP,eAAeE,SAAW/0B,EAAKmB,QAAO,SAAAg0B,GAAU,OAAKA,EAAWC,aAAa,IACpE7rB,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKqkB,qBAAuB30B,EAAKya,OAAOD,IAEvCE,GAAuB,EAAKnJ,8BAnFnB,KAsFd2jB,yBAA2B,SAACl1B,GACxB,EAAKsR,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOoB,IAAK,IAC9E,IAAMob,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKskB,sBAAwB50B,EAAKya,OAAOD,IAzF/B,KA4Fd6a,qBAAuB,SAACtS,GACpB,EAAK2R,kBAAoB3R,EAAe/iB,KAAO+iB,EAAe/iB,KAAO+iB,EACrE,EAAKkS,wBAAwBlS,EAAe/iB,KAAO+iB,EAAe/iB,KAAO+iB,IA9F/D,KAiGduS,kBAAoB,SAACpsB,GACjB,EAAKurB,eAAiBvrB,EAAYlJ,KAAOkJ,EAAYlJ,KAAOkJ,EAC5D,EAAKgsB,yBAAyBhsB,EAAYlJ,KAAOkJ,EAAYlJ,KAAOkJ,IAnG1D,KAsGdoT,iBAAmB,WACf7E,EAAA,+BAAkC8d,oBAAmB,KAChDr5B,MAAK,SAAAC,GAAG,OAAI,EAAKm5B,kBAAkBn5B,MACnCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAzGtB,KA4Gdgb,oBAAsB,WAClB,EAAK8C,kBAAoB,KAEzB,IAAMc,EAAa,SAAC7wB,GAAD,OAAU4wB,mBAAmB5wB,EAAKG,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,OACtF0Y,EAA+B,KAAlB,EAAK9c,SAAkB,KAAO40B,EAAW,EAAK50B,UAC3D+c,EAA2B,KAAhB,EAAK7c,OAAgB,KAAO00B,EAAW,EAAK10B,QAK7D2W,EAAA,yBAA4BiG,GAAcC,EAAd,sBAAwCD,EAAxC,qBAA+DC,GAAa,KACnGzhB,MAAK,SAAAC,GAAG,OAAI,EAAKk5B,qBAAqBl5B,MACtCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAxHtB,KA4Hd1R,MAAQ,EA5HM,KA6HduwB,iBAAmB,KA7HL,KA8HdrQ,QAAU,KA9HI,KA+Hd/b,iBAAmB,KA/HL,KAgId0G,QAAU,KAhII,KAiIdkU,SAAW,KAjIG,KAkIdX,IAAM,KAlIQ,KAmId1Z,QAAU,KAnII,KAoIdhC,SAAW,KApIG,KAqId8tB,YAAc,KArIA,KAsIdC,oBAAsB,KAtIR,KAuIdC,YAAc,KAvIA,KAwIdC,aAAe,KAxID,KAyIdC,OAAS,KAzIK,KA0IdC,WAAa,KA1IC,KA2IdC,oBAAsB,KA3IR,KA4IdC,WAAa,KA5IC,KA6IdC,YAAc,KA7IA,KA8IdC,OAAS,KA9IK,KA+Id54B,QAAS,EA/IK,KAgJd64B,aAAe,KAhJD,KAiJdC,sBAAwB,KAjJV,KAkJdC,aAAe,KAlJD,KAmJdC,cAAgB,KAnJF,KAoJdC,SAAW,KApJG,KAsJdp6B,UAAY,SAACe,GACT,EAAKI,OAASJ,GAvJJ,KA0Jds5B,cAAgB,SAACt5B,GACb,EAAK44B,WAAa54B,GA3JR,KA8Jdu5B,uBAAyB,SAACv5B,GACtB,EAAK64B,oBAAsB74B,GA/JjB,KAkKdw5B,cAAgB,SAACx5B,GACb,EAAK84B,WAAa94B,GAnKR,KAsKdy5B,eAAiB,SAACz5B,GACd,EAAK+4B,YAAc/4B,GAvKT,KA0Kd05B,UAAY,SAAC15B,GACT,EAAKg5B,OAASh5B,GA3KJ,KA8Kd25B,UAAY,SAAChB,GACT,EAAKA,OAASA,EACK,KAAb,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQvsB,SAAgB,EAAK2iB,OAAO,4DAhL1B,KAmLd6K,eAAiB,SAACrB,GACd,EAAKA,YAAcA,EACK,KAAb,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAansB,SAAgB,EAAK4gB,WAAW,4DArLnC,KAwLd6M,uBAAyB,SAACrB,GACtB,EAAKA,oBAAsBA,EACK,KAAb,OAAnBA,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBpsB,SAAgB,EAAK2R,oBAAoB,4DA1LpD,KA6Ld+b,eAAiB,SAACrB,GACd,EAAKA,YAAcA,EACK,KAAb,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAarsB,SAAgB,EAAK2tB,WAAW,4DA/LnC,KAkMdC,gBAAkB,SAACtB,GACf,EAAKA,aAAeA,EACK,KAAb,OAAZA,QAAY,IAAZA,OAAA,EAAAA,EAActsB,SAAgB,EAAKmiB,YAAY,4DApMrC,KAuMd0L,YAAc,SAAChzB,GACX,EAAKwD,SAAWxD,EAChBA,GAAQ,EAAKguB,SAAShuB,EAAKsD,mBAAoBtD,EAAKO,KAAKG,MAAM,EAAG,KAC7D5I,MAAK,SAAAC,GAAQ,IAAD,IACT,EAAKk7B,WAAWjzB,EAAKwF,SAErB,IAAM5J,GAAO,UAAAoE,EAAKuL,eAAL,eAAcpG,QAAS,EAAInF,EAAKuL,QAAQ,IAAK,UAAAvL,EAAKyL,cAAL,eAAatG,QAAS,EAAInF,EAAKyL,OAAO,GAAK,KACrG,GAAI7P,EAAM,CAAC,IAAD,EACAolB,EAAiC,OAAvBplB,EAAKs3B,eAA0B,EAAK5B,YAAYpb,MAAK,SAAAid,GAAC,OAAIA,EAAEn4B,KAAOY,EAAKs3B,iBAClFE,EAAyC,OAAjCx3B,EAAKmJ,yBAAoC,EAAKwsB,oBAAoBrb,MAAK,SAAAmd,GAAC,OAAIA,EAAEr4B,KAAOY,EAAKmJ,2BAClG4G,EAA+B,YAArB/P,EAAK6a,aAAqD,OAAxB7a,EAAKgS,gBAA2B,EAAK4jB,YAAYtb,MAAK,SAAAod,GAAC,OAAIA,EAAEt4B,KAAOY,EAAKgS,kBACrHiS,EAAgC,aAArBjkB,EAAK6a,aAAsD,OAAxB7a,EAAKgS,gBAA2B,EAAK6jB,aAAavb,MAAK,SAAAod,GAAC,OAAIA,EAAEt4B,KAAOY,EAAKgS,kBACxHsR,IAAgC,KAAxB,UAAAlf,EAAKyL,cAAL,eAAatG,UAAyC,OAAxBvJ,EAAK23B,iBAArC,OAAgEx7B,QAAhE,IAAgEA,OAAhE,EAAgEA,EAAKme,MAAK,SAAAsd,GAAC,OAAIA,EAAEx4B,KAAOY,EAAK23B,mBAEzG,GAAIvS,EAAS,CACT,IAAMjoB,EAAK,UAAMioB,EAAQyS,WAAd,YAA4BzS,EAAQ0S,UAApC,cAAmD1S,EAAQhgB,UACtE,EAAK+kB,WAAWhtB,GAChB,EAAKs5B,cAAcrR,GAGvB,GAAIoS,EAAO,CACP,IAAMr6B,EAAK,UAAMq6B,EAAM74B,KAAZ,cAAsB64B,EAAMp4B,IACvC,EAAK8b,oBAAoB/d,GACzB,EAAKu5B,uBAAuBv5B,GAGhC,GAAI4S,EAAS,CACT,IAAM5S,EAAK,UAAM4S,EAAQ8nB,WAAd,YAA4B9nB,EAAQ+nB,UAApC,cAAmD/nB,EAAQ3K,UACtE,EAAK8xB,WAAW/5B,GAChB,EAAKw5B,cAAcx5B,GAGvB,GAAI8mB,EAAU,CACV,IAAM9mB,EAAK,UAAM8mB,EAAStlB,KAAf,cAAyBslB,EAAS7e,UAC7C,EAAKsmB,YAAYvuB,GACjB,EAAKy5B,eAAez5B,GAGxB,GAAImmB,EAAK,CACL,IAAMnmB,EAAK,UAAMmmB,EAAIzd,OAAV,cAAsByd,EAAI3e,KAA1B,cAAoC2e,EAAIlkB,IACnD,EAAK8sB,OAAO/uB,GACZ,EAAK05B,UAAU15B,SAhPrB,KAsPd46B,SAAW,SAAC56B,GACR,EAAK+H,MAAQ/H,GAvPH,KA0Pd66B,oBAAsB,SAAC76B,GACnB,EAAKs4B,iBAAmBt4B,GA3Pd,KA8PdgtB,WAAa,SAAChtB,GAAW,IAAD,IACpB,EAAKioB,QAAUjoB,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,KAEtD,IAAMioB,EAAUjoB,GAASA,EAAMoB,MAAM,OACrC,EAAK63B,aAAej5B,EAAK,UAAG,EAAKu4B,mBAAR,iBAAG,EAAkBpb,MAAK,SAAAid,GAAC,OAAIA,EAAEnyB,WAAaggB,EAAQA,EAAQ7b,OAAS,aAAvE,aAAG,EAAyEnK,GAAK,MAlQhG,KAqQd8b,oBAAsB,SAAC/d,GAAW,IAAD,IAC7B,EAAKkM,iBAAmBlM,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,KAE/D,IAAMkM,EAAmBlM,GAASA,EAAMoB,MAAM,OAC9C,EAAK83B,sBAAwBl5B,EAAK,UAAG,EAAKw4B,2BAAR,iBAAG,EAA0Brb,MAAK,SAAAmd,GAAC,MAAI,UAAGA,EAAEr4B,MAASiK,EAAiBA,EAAiBE,OAAS,aAAhG,aAAG,EAAkGnK,GAAK,MAzQlI,KA4Qd83B,WAAa,SAAC/5B,GAAW,IAAD,IACpB,EAAK4S,QAAU5S,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,KAEtD,IAAM4S,EAAU5S,GAASA,EAAMoB,MAAM,OACrC,EAAK+3B,aAAen5B,EAAK,UAAG,EAAKy4B,mBAAR,iBAAG,EAAkBtb,MAAK,SAAAod,GAAC,OAAIA,EAAEtyB,WAAa2K,EAAQA,EAAQxG,OAAS,aAAvE,aAAG,EAAyEnK,GAAK,MAhRhG,KAmRdssB,YAAc,SAACvuB,GAAW,IAAD,IACrB,EAAK8mB,SAAW9mB,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,KAEvD,IAAM8mB,EAAW9mB,GAASA,EAAMoB,MAAM,OACtC,EAAKg4B,cAAgBp5B,EAAK,UAAG,EAAK04B,oBAAR,iBAAG,EAAmBvb,MAAK,SAAAod,GAAC,OAAIA,EAAEtyB,WAAa6e,EAASA,EAAS1a,OAAS,aAA1E,aAAG,EAA4EnK,GAAK,MAvRpG,KA0Rd8sB,OAAS,SAAC/uB,GAAW,IAAD,IAChB,EAAKmmB,IAAMnmB,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,KAElD,IAAMmmB,EAAMnmB,GAASA,EAAMoB,MAAM,OACjC,EAAKi4B,SAAWr5B,EAAK,UAAG,EAAK24B,cAAR,iBAAG,EAAaxb,MAAK,SAAAsd,GAAC,MAAI,UAAGA,EAAEx4B,MAASkkB,EAAIA,EAAI/Z,OAAS,aAAzD,aAAG,EAA2DnK,GAAK,MA9R9E,KAiSdi4B,WAAa,SAACl6B,GACV,EAAKyM,QAAUzM,GAA0B,KAAjBA,EAAMqT,OAAgBrT,EAAQ,MAlS5C,KAqSdof,sBAAwB,WACpB9E,EAAU,6BACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK66B,uBAAuB76B,MACxCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAxStB,KA2SdqhB,aAAe,WACXxgB,EAAU,mBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK86B,eAAe96B,MAChCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA9StB,KAiTdud,eAAiB,WACb1c,EAAU,oBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAKg7B,gBAAgBh7B,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OApTtB,KAuTdwb,SAvTc,uCAuTH,WAAOvsB,EAAQlB,GAAf,SAAA2R,EAAA,sEACMmB,EAAA,6BAAgC5R,EAAhC,iBAA+ClB,IACvDzI,MAAK,SAAAC,GAAG,OAAI,EAAK26B,UAAU36B,EAAI0a,MAAQ,GAAK1a,MAC5Cwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHzB,mFAvTG,6DA6TdshB,cAAgB,WACZzgB,EAAU,WACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK46B,eAAe56B,MAChCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAhUtB,KAmUduhB,UAAY,WAGR,GAFA,EAAK/7B,WAAU,GAEX,EAAKgpB,UAAY,EAAK4Q,oBACtB,IAAM1mB,EAAO,CACT8oB,sBAAuB,EAAKxwB,SAASxI,GACrCi5B,UAAW,EAAKzwB,SAASF,mBACzByB,wBAAyB,EAAKitB,cAG9BkC,EAAwB7gB,EAAU,kBAAmBnI,GACpDqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAIpC,GAAI,EAAKvN,mBAAqB,EAAK2sB,oBAC/B,KAAM1mB,EAAO,CACT8oB,sBAAuB,EAAKxwB,SAASxI,GACrCi5B,UAAW,EAAKzwB,SAASF,mBACzByB,wBAAyB,EAAKktB,uBAG9BiC,EAAwB7gB,EAAU,4BAA6BnI,GAC9DqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAGpC,GAAI,EAAK7G,UAAY,EAAKkmB,WACtB,IAAM3mB,EAAO,CACT8oB,sBAAuB,EAAKxwB,SAASxI,GACrCi5B,UAAW,EAAKzwB,SAASF,mBACzBmT,YAAa,UACb7I,eAAgB,EAAKskB,cAGrBiC,EAAe9gB,EAAU,kBAAmBnI,GAC3CqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAGpC,GAAI,EAAKqN,WAAa,EAAKiS,YACvB,IAAM5mB,EAAO,CACT8oB,sBAAuB,EAAKxwB,SAASxI,GACrCi5B,UAAW,EAAKzwB,SAASF,mBACzBmT,YAAa,WACb7I,eAAgB,EAAKukB,eAGrBiC,EAAgB/gB,EAAU,mBAAoBnI,GAC7CqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAIpC,GAAI,EAAK0M,MAAQ,EAAK6S,OAAQ,CAC1B,IAAM7S,EAAM,EAAK6S,QAAU,EAAKA,OAAO53B,MAAM,OACvCk6B,EAAQ,EAAKjC,UAAYlT,EAAMA,EAAIA,EAAI/Z,OAAS,GAAK,KAE3D,GAAc,OAAVkvB,EACA,IAAMnpB,EAAO,CACT8oB,sBAAuB,EAAKxwB,SAASxI,GACrCu4B,eAAgBc,EAChBttB,OAA0B,OAAlB,EAAKqrB,UAGbkC,EAAWjhB,EAAU,cAAenI,GACnCqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAKxC,GAAI,EAAKhN,UAAY,EAAKhC,SAASgC,QAC/B,IAAM0F,EAAO,CAAE1F,QAAS,EAAKA,SACzB+uB,EAAelhB,EAAA,0BAA6B,EAAK7P,SAASxI,IAAMkQ,GAC/DqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAUpCyc,QAAQC,IAAI,CAACgF,EAAuBC,EAAcC,EAAeE,EAAUC,IACtEz8B,MAAK,WACF,EAAKE,WAAU,GACf,EAAKw1B,uBATR,EAAKyE,uBAAyB,EAAKnb,oBAAoB,OACvD,EAAKqb,eAAiB,EAAK7K,YAAY,OACvC,EAAK4K,cAAgB,EAAKY,WAAW,OACrC,EAAKV,UAAY,EAAKtK,OAAO,SAS7BvV,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAzZhCiB,YAAmBC,OPavB8gB,qBQwXW,IAtYX,aAAe,IAAD,gCAIdC,mBAAqB,KAJP,KAKdC,yBAA2B/gB,MAAM,IAAIzH,KAAK,IAL5B,KAMdyoB,0BAA4BhhB,MAAM,IAAIzH,KAAK,IAN7B,KAOd0oB,uBAAyB,GAPX,KAQdC,6BAA+B,CAAErpB,eAAgB,IARnC,KAcdspB,yCAA2C,GAd7B,KAedrnB,qBAAuB,YAfT,KAgBdX,sBAAwB,cAhBV,KAiBdU,gBAAkB,GAjBJ,KAkBdZ,iBAAmB,GAlBL,KAqBdH,gBAAkB,EArBJ,KAsBdC,iBAAmB,EAtBL,KAuBd1C,kBAAoB,GAvBN,KAwBdiD,mBAAqB,GAxBP,KAyBdC,wBAA0B,GAzBZ,KA0Bd9C,eAAiB,GA1BH,KA2BdyF,aAAe,GA3BD,KA4Bd/K,YAAc,GA5BA,KA6BdG,iBAAmB,GA7BL,KA+Bd4R,eAAiB,SAAC9d,GACd,EAAK+L,YAAc/L,GAhCT,KAmCd+d,oBAAsB,SAAC/d,GACnB,EAAKkM,iBAAmBlM,GApCd,KAuCdge,MAvCc,uCAuCN,WAAO/H,GAAP,eAAAkD,EAAA,6DACAhH,EAAO,GACX8D,GAAa,EAAKylB,mBAAmB,GAAG,EAAKhnB,sBAAsBhT,KAAI,SAAAuF,GAAI,OAAIA,EAAK6B,eAAiBqJ,EAAI,sBAAOA,GAAP,CAAalL,EAAK+0B,gBAFvH,SAKS,EAAK9lB,WAAWD,EAAW9D,GALpC,mFAvCM,2DA+CdnE,OAAS,SAAC/G,EAAMwK,GASZ,GARmB,IAAfA,GACA,EAAKwqB,kBAAkBh1B,EAAK+0B,UAAW,IAClCj9B,MAAK,SAAC0a,GACEA,GACD,EAAKyE,mBAAmBjX,EAAMwK,MAI3B,IAAfA,EAAkB,CAClB,IAAIU,EAAO,GACX,EAAKwpB,yBAAyBj6B,KAAI,SAAC8Z,GAAD,OAC9BvU,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,UAC5D5B,EAAI,sBAAOA,GAAP,CAAaqJ,EAAcwgB,gBACpC,EAAKC,kBAAkB,KAAM9pB,GACxBpT,MAAK,SAAC0a,GACEA,GACD,EAAKkiB,yBAAyBj6B,KAAI,SAAC8Z,GAAD,OAC9BvU,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,SAC7D,EAAKmK,mBAAmB1C,EAAe/J,WAlEjD,KAwEdyM,mBAAqB,SAACjX,EAAMwK,GAAgB,IAAD,EACjC5O,EAAO,EAAK84B,yBAAyB33B,QAAO,SAAAnB,GAAI,OAAIA,IAASoE,KACnE,EAAKi1B,4BAA4Br5B,GAAM,GACvC,EAAK64B,mBAAmBjqB,GAAY,EAAKiD,sBAAzC,UAAiE,EAAKgnB,mBAAmBjqB,GAAY,EAAKiD,6BAA1G,aAAiE,EAAgE1Q,QAAO,SAAAoa,GAAQ,OAAIA,IAAanX,MA3EvJ,KA8EdyR,YAAc,SAAC7V,EAAMoE,EAAMwK,EAAY1J,EAAO7D,EAAUoa,GACpD,IAAIC,EAAY,EAAKod,yBACjBxpB,EAAO,GACXA,EAAKjO,GAAYrB,EACjByb,IAAmBpa,EAAWoa,GACX,IAAf7M,GACc,iBAAbvN,GAA6C,iBAAbA,GAA+B,EAAKsa,kBAAkBvX,KACnF,EAAKk1B,gBAAgBl1B,EAAK+0B,UAAW7pB,GAChCpT,MAAK,SAAC0a,GACEA,GACD,EAAK2iB,+BAA+B7d,EAAWxW,EAAO7D,EAAUrB,MAG5D,IAAf4O,GACL,EAAKkqB,yBAAyBj6B,KAAI,SAAC8Z,EAAezT,GAAhB,OAC9Bd,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,UAC/C,iBAAb7P,GAA6C,iBAAbA,GAA+B,EAAKsa,kBAAkBhD,KACvF,EAAK2gB,gBAAgB3gB,EAAcwgB,UAAW7pB,GACzCpT,MAAK,SAAC0a,GACEA,GACD,EAAK2iB,+BAA+B7d,EAAWxW,EAAO7D,EAAUrB,UAlG1E,KAwGd2b,kBAAoB,SAACvX,GAKjB,OAJA,EAAK00B,yBAA2B,EAAKA,yBAAyBj6B,KAAI,SAAAid,GAE9D,OADAA,IAAe1X,UAAgB0X,EAAU,WAClCA,QAEN1X,EAAKqE,WAAgC,IAAnBrE,EAAKqE,aACxB,EAAKqwB,yBAA2B,EAAKA,yBAAyBj6B,KAAI,SAAAid,GAE9D,OADAA,IAAe1X,IAAS0X,EAAU,YAAiB,GAC5CA,MAEJ,IAlHD,KAuHdyd,+BAAiC,SAAC7d,EAAWxW,EAAO7D,EAAUrB,GAC1D0b,EAAUxW,GAAO7D,GAAYrB,EAC7B,EAAK84B,yBAAL,YAAoCpd,IAzH1B,KA4HdlT,gBAAkB,SAAC7D,EAAMP,EAAMwK,EAAY1J,GACvC,EAAK2Q,YAAYlR,EAAMP,EAAMwK,EAAY1J,EAAO,eA7HtC,KAgIdwD,eAAiB,SAAC/D,EAAMP,EAAMwK,EAAY1J,GACtC,EAAK2Q,YAAYlR,EAAMP,EAAMwK,EAAY1J,EAAO,cAjItC,KAoIdkP,eAAiB,SAACD,EAAK/P,EAAMwK,EAAY1J,GACrC,EAAK2Q,YAAY1B,EAAK/P,EAAMwK,EAAY1J,EAAO,SAAU,gBArI/C,KAwId8C,oBAAsB,SAACgM,EAAe5P,EAAMwK,EAAY1J,GACpD,EAAK2Q,YAAY7B,EAAe5P,EAAMwK,EAAY1J,EAAO,WAzI/C,KA4IdiB,eAAiB,SAACnI,EAASoG,EAAMwK,EAAY1J,GACzC,EAAK2Q,YAAY7X,EAASoG,EAAMwK,EAAY1J,EAAO,iBA7IzC,KAgJd+D,oBAAsB,SAAC7J,EAAIgF,EAAMwK,EAAY1J,GACzC,EAAK2Q,YAAYzW,EAAIgF,EAAMwK,EAAY1J,EAAO,uBAjJpC,KAoJdkE,yBAA2B,SAAChK,EAAIgF,EAAMwK,EAAY1J,GAC9C,EAAK2Q,YAAYzW,EAAIgF,EAAMwK,EAAY1J,EAAO,4BArJpC,KAwJdiJ,qBAAuB,WACnB,EAAK4qB,0BAA4B,EAAKA,0BAA0Bl6B,KAAI,SAAC4Z,EAAgBvT,GACjF,GAA8B,kBAAnBuT,GAAkD,OAAnBA,EAAyB,CAC/D,IAAMC,EAA6B,EAAKogB,yBAAyB33B,QAAO,SAAAwX,GAAa,OAAKA,EAAc5S,SACpG0S,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAC9GqP,EAAoC,EAAKkgB,yBAAyB33B,QAAO,SAAAwX,GAAa,OACxFF,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,SACvEyH,EAAc1S,gBAAcsD,OAChC,EAAKwvB,0BAA0B7zB,GAA/B,aAAuF,IAA/BwT,GACpDA,IAA+BE,EACnC,EAAKmgB,0BAA0B7zB,GAA/B,gBAA+C,EAAK2M,qBAApD,SAAkF+G,EAClF,EAAKmgB,0BAA0B7zB,GAA/B,UAAyC,EAAK2M,qBAA9C,SAA4E,EAAKinB,yBAAyB33B,QAAO,SAAAwX,GAAa,OAC1HF,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAExH,OAAOkP,MAtKD,KA0KdsD,gBAAkB,SAAC5e,GACf,EAAK8W,aAAe9W,GA3KV,KA8Kd4b,kBAAoB,SAACC,GACjB,EAAKxK,eAAiBwK,GA/KZ,KAkLdzH,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IAEAqI,EAAmBvH,GAAS,CACxBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKI,wBAAL,YAAmC7E,IAGvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAKqoB,mBAAmB,GAAG,EAAKhnB,sBAAwB,EAAKinB,yBAC/G,GAAI3f,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,SAA0CsI,EAAU,MAAD,OAAO,EAAKtI,sBAAZ,UAA4CqI,EAAMN,eAClHK,EAAeA,EAAanY,QAAQ+X,EAA2E,IAAIO,IAArE,gBAAGrU,EAAH,EAAGA,SAAH,OAAmB8T,EAAOQ,IAAItU,IAAa8T,EAAO9J,IAAIhK,MACpG,EAAKi0B,4BAA4B/f,GAAc,QAG/C,EAAK+f,4BAA4Br5B,GAAM,IAtMjC,KAyMdkS,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GA1Mb,KA6MdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GA9Md,KAsNdwP,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAkB,EAAK+e,mBAAmBjqB,GAAa,EAAKiD,sBAAsB1Q,QAAO,SAAA4Y,GAAM,OACjGA,EAAO3U,SAAS9H,SAASH,IAAU4c,EAAO1U,UAAU2U,cAAc1c,SAASH,EAAM6c,gBAChFD,EAAOtR,WAAasR,EAAOtR,UAAUnL,SAASH,IAAW4c,EAAOlU,OAAOvB,WAAWhH,SAASH,IAC5F4c,EAAOjS,OAAOxK,SAASH,MAC3B,EAAKk8B,4BAA4Bvf,OAEhC,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAkB,EAAK+e,mBAAmBjqB,GAAa,EAAKsC,uBAAuB/P,QAAO,SAAA4Y,GAAM,OAClGA,EAAOpb,KAAKqb,cAAc1c,SAASH,EAAM6c,gBAAkBD,EAAOvU,YAAYlB,WAAWhH,SAASH,IAClG4c,EAAOrU,cAAcpB,WAAWhH,SAASH,MAC7C,EAAKq8B,6BAA6B1f,KApO5B,KAwOdzK,oBAAsB,SAACT,EAAY9P,GACZ,IAAf8P,GAAoB,EAAKiD,uBAAyB/S,GAClD,EAAK8S,gBAAkB,GACvB,EAAKC,qBAAuB/S,EAC5B,EAAKu6B,4BAA6B,EAAKR,mBAAmBjqB,GAAa9P,KAEnD,IAAf8P,GAAoB,EAAKsC,wBAA0BpS,IACxD,EAAKkS,iBAAmB,GACxB,EAAKE,sBAAwBpS,EAC7B,EAAK06B,6BAA8B,EAAKX,mBAAmBjqB,GAAa9P,IACxE,EAAKyS,+BAlPC,KAsPdkoB,gCAAkC,SAACtpB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,EAAe8O,GACxF,aAATA,IAAwB,EAAKopB,6BAA+B,CAAE9pB,eAAgB,KAErE,eAATU,EAAwB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WACrH,aAATyR,EAAsB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WAC3H,EAAK2P,eAAetO,GAAYkB,GAAaI,IAAkB,EAAKgN,eAAetO,GAAYkB,GAAaI,GAE5G,eAAT8O,EACI,EAAK0oB,uBAAuBn6B,KAAI,SAAAoB,GAAO,MAClB,iBAAjBA,EAAQtB,MAA2B,EAAKs6B,6BAA6Bh5B,EAAQtB,MAAME,KAAI,SAAAsC,GAAM,OACzFA,EAAOnD,QAAU,SAChB,aAATsS,EACI,EAAK0oB,uBAAuBn6B,KAAI,SAAAoB,GAAO,MAClB,iBAAjBA,EAAQtB,MACRsB,EAAQA,QAAQpB,KAAI,SAAAsC,GAAM,OACtB,EAAK83B,6BAA6Bh5B,EAAQtB,MAA1C,sBAAsD,EAAKs6B,6BAA6Bh5B,EAAQtB,OAAhG,CAAuG,CAAEA,KAAMwC,EAAOxC,KAAMX,QAASmD,EAAOI,oBACpJ,EAAK03B,6BAA6B9oB,GAAWtR,KAAI,SAAAsC,GAAM,OACnDA,EAAOxC,OAASA,IAASwC,EAAOnD,QAAQob,MAAK,SAAAC,GAAK,OAAIA,IAAUrb,KAC3DmD,EAAOnD,QAAUmD,EAAOnD,QAAQmD,QAAO,SAAAhE,GAAK,OAAIA,IAAUa,KAC1DmD,EAAOnD,QAAP,sBAAqBmD,EAAOnD,SAA5B,CAAqCA,SAzQ5C,KAoSd27B,0BAA4B,SAAC35B,GACzB,EAAKg5B,uBAAyBh5B,EAE9B,EAAKwO,eAAiBxO,EAAKnB,KAAI,SAAAsC,GAAM,MAAoB,iBAAhBA,EAAOxC,MAC5CwC,EAAOlB,QAAQpB,KAAI,SAAAoB,GAAO,OAAIA,EAAQsB,YAActB,EAAQsB,WAAW1C,KAAI,kBAAM,WAAQsC,QAAO,SAAAnB,GAAI,OAAIA,GAAQA,MAxS1G,KA8Sdw5B,6BAA+B,SAACx5B,GAC5B,EAAKqR,mBAAqB0G,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IAC5E,EAAK3H,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKyoB,0BAA4B/4B,EAAKya,OAAOD,IAlTnC,KAqTd6e,4BAA8B,SAACr5B,EAAM0a,GACjC,EAAKtM,kBAAoBpO,EAAKnB,KAAI,SAAAuF,GAAI,MAAK,CAAEpG,QAASoG,EAAK6B,aAAcgT,OAAQ,MACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAKwoB,yBAA2B94B,EAAKya,OAAOD,IAC3CE,GAAuB,EAAKnJ,8BAzTnB,KA4TdqoB,sBAAwB,SAAC55B,GACrBA,GAAQA,EAAKuJ,OAAS,GAAKpB,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAAsd,GAAiB,OACjEnc,EAAK,GAAGmc,GAAmBtd,KAAI,SAAC4Z,EAAgBvT,GAAjB,OAC3BiD,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAAud,GAAgB,OACxCpc,EAAK,GAAGmc,GAAmBjX,GAA3B,UAAqCkX,EAArC,SAA+Dpc,EAAK,GAAGoc,GAAkBjb,QAAO,SAAAwX,GAAa,OAC1GF,EAAe,MAAD,OAAO0D,EAAP,UAAmCxD,EAAc,MAAD,OAAOwD,EAAP,WAChE5S,gBAIV,EAAKsvB,mBAAqB74B,EAC1BA,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAK6R,uBAAyB,EAAKwnB,4BAA4Br5B,EAAK,GAAG,EAAK6R,uBAC/G7R,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAKkR,wBAA0B,EAAKsoB,6BAA6Bx5B,EAAK,GAAG,EAAKkR,yBAxUvG,KA2Ud2oB,6BAA+B,SAACvqB,GAC5B,EAAKsqB,sBAAsB,MAC3BniB,EAAW,mBAAoBnI,GAC1BpT,MAAK,SAAAC,GAAG,OAAI,EAAKy9B,sBAAsBz9B,MACvCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA/UtB,KAkVdkjB,4BAlVc,sBAkVgB,sBAAAxjB,EAAA,sEACbmB,EAAU,4BAClBvb,MAAK,SAAAC,GAAG,OAAI,EAAKw9B,0BAA0Bx9B,MAC3CD,MAAK,WACF,EAAKmgB,oBACL,EAAKC,mBACL,EAAKC,2BAER5F,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MARN,mFAlVhB,KA6VdyF,kBAAoB,WAChB5E,EAAU,iBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK4f,gBAAgB5f,MACjCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAhWtB,KAmWd0iB,gBAnWc,uCAmWI,WAAOl6B,EAAIkQ,GAAX,SAAAgH,EAAA,sEACDmB,EAAA,iBAAoBrY,GAAMkQ,GAClCpT,MAAK,SAAAC,GAAG,OAAIA,EAAI0a,SAChBF,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHlB,mFAnWJ,6DAyWdwiB,kBAzWc,uCAyWM,WAAOh6B,EAAIkQ,GAAX,SAAAgH,EAAA,sEACHmB,EAAA,gBAAsBrY,EAAE,WAAOA,GAAO,IAAMkQ,GACpDpT,MAAK,SAAAC,GAAG,OAAIA,EAAI0a,SAChBF,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHhB,mFAzWN,6DA+WdvD,WA/Wc,uCA+WD,WAAOD,GAAP,eAAAkD,EAAA,yDACLhH,EAAO,GACX8D,GAAa,EAAKylB,mBAAmB,GAAG,EAAKhnB,sBAAsBhT,KAAI,SAAAuF,GAAI,OAAIA,EAAK6B,eAAiBqJ,EAAI,sBAAOA,GAAP,CAAalL,EAAK6G,iBAErHmI,GAA6B,IAAhB9D,EAAK/F,OAJf,gCAKQkO,EAAW,uBAAwBnI,GAAM,GACjDqH,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAN3B,mFA/WC,2DAyXd0F,iBAAmB,WACf7E,EAAU,6BACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK8e,eAAe9e,MAChCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA5XtB,KA+Xd2F,sBAAwB,WACpB9E,EAAU,qBACLvb,MAAK,SAAAC,GAAG,OAAI,EAAK+e,oBAAoB/e,MACrCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAjYhCiB,YAAmBC,ORcvBiiB,uBSqOW,IApPX,aAAe,IAAD,gCAIdC,qBAAuB,KAJT,KAKdC,2BAA6BliB,MAAM,IAAIzH,KAAK,IAL9B,KAMd4pB,4BAA8BniB,MAAM,IAAIzH,KAAK,IAN/B,KAOd6pB,yBAA2B,GAPb,KAQdC,+BAAiC,CAAEC,WAAY,IARjC,KASdC,mCAAqC,CACjCD,WAAY,CAAC,CAAE17B,KAAM,iCAAkCX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,OAVlG,KAYdysB,2CAA6C,GAZ/B,KAadrpB,sBAAwB,cAbV,KAcdU,gBAAkB,GAdJ,KAedZ,iBAAmB,GAfL,KAgBdpQ,SAAW,GAhBG,KAiBdE,OAAS,GAjBK,KAkBd+P,gBAAkB,EAlBJ,KAmBdC,iBAAmB,EAnBL,KAoBd1C,kBAAoB,GApBN,KAqBdiD,mBAAqB,GArBP,KAsBdC,wBAA0B,GAtBZ,KAuBd9C,eAAiB,GAvBH,KAwBd+B,eAAiB,GAxBH,KAyBdsF,aAAc,EAzBA,KA0BdF,cAAe,EA1BD,KA4BdC,eAAiB,SAACgH,EAAOzf,GACP,WAAVyf,EAAoB,EAAK/G,YAAc1Y,EACxB,YAAVyf,IAAqB,EAAKjH,aAAexY,GAClD,EAAKyU,gBAAkB,GACvB,EAAK4oB,8BAA8B,EAAKR,qBAAqB,IAAI,IAhCvD,KAmCd7rB,qBAAuB,WACnB,IAAMssB,EAAiC,EAAKP,4BAA4Br7B,KAAI,SAAC4Z,EAAgBvT,GACzF,GAA8B,kBAAnBuT,GAAkD,OAAnBA,EAAyB,CAC/D,IAAMC,EAA6B,EAAKuhB,2BAA2B94B,QAAO,SAAAwX,GAAa,OAAKA,EAAc5S,SACtG0S,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,WAAyC3H,OAC9GqP,EAAoC,EAAKxK,kBAAkBjN,QAAO,SAAA0X,GAAqB,OACzFA,EAAsBzU,MAAQyU,EAAsB7a,SACpDya,EAAe,MAAD,OAAO,EAAKvH,sBAAZ,UAA4C2H,EAAsBzU,KAAtB,aAAiC,EAAK8M,sBAAtC,WAAmE3H,OACjI,EAAK2wB,4BAA4Bh1B,GAAjC,aAAyF,IAA/BwT,GACtDA,IAA+BE,EAEvC,OAAOH,KAEX,EAAKyhB,4BAA8BO,GAhDzB,KAmDd/pB,qBAAuB,SAACoI,GACpB,EAAKvI,eAAiBuI,GApDZ,KAuDdC,kBAAoB,SAACC,GACjB,EAAKxK,eAAiBwK,GAxDZ,KA2DdzH,2BAA6B,SAACvT,EAASkH,EAAOd,GAC1C,IAAIqI,EAAqB,EAAK6E,wBAC1BlN,IACA,EAAKwN,gBAAkB,GACvBnF,EAAmBvH,GAAS,CACxBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKI,wBAAL,YAAmC7E,IAGvC,IAMwCyM,EANlCC,EAAa1M,EAAmB2M,MAAK,SAAAC,GAAK,OAAIA,EAAMrb,WACpDgC,EAAuC,KAAhC,EAAK4R,gBAAgBpB,OAAgB,EAAKwpB,qBAAqB,GAAK,EAAKC,2BACtF,GAAI9gB,EAAY,CACZ,IAAIG,EAAe,GACnB7M,EAAmB5N,KAAI,SAAA0a,GAAK,OAAIA,EAAMvb,UAAYsb,EAAY,sBAAOA,GAAP,YAAwBtZ,EAAKmB,QAAO,SAAAqY,GAAS,OACvGA,EAAU,aAAD,OAAc,EAAKtI,sBAAnB,SAAiDsI,EAAU,aAAD,OAAc,EAAKtI,sBAAnB,UAAmDqI,EAAMN,eAChIK,EAAeA,EAAanY,QAAQ+X,EAA2E,IAAIO,IAArE,gBAAGrU,EAAH,EAAGA,SAAH,OAAmB8T,EAAOQ,IAAItU,IAAa8T,EAAO9J,IAAIhK,MACpG,EAAKo1B,8BAA8BlhB,GAAc,QAGjD,EAAKkhB,8BAA8Bx6B,GAAM,IA/EnC,KAkFdwR,sBAAwB,SAACxT,EAASkH,EAAOd,GACrC,IAAI4B,EAAgB,EAAKqL,mBACrBjN,IAEA4B,EAAcd,GAAS,CACnBlH,UAASib,MAAO7U,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,SAExB,EAAKG,mBAAL,YAA8BrL,GAE9B,EAAKoI,kBAAoB,EAAK6rB,2BAA2Bp7B,KAAI,SAAC8Z,EAAezT,GAAhB,OACzDd,EAAK,MAAD,OAAO,EAAK8M,sBAAZ,UAA4CyH,EAAc,MAAD,OAAO,EAAKzH,sBAAZ,QACxD,CAAElT,UAASoG,KAAMuU,GAAmB,EAAKvK,kBAAkBlJ,QA7F9D,KAiGd6M,qBAAuB,SAAC/T,EAASkH,EAAOd,GACpC,IAAI4B,EAAgB,EAAKoI,kBACzBpI,EAAcd,GAAS,CACnBlH,UAASoG,QAGb,EAAKgK,kBAAL,YAA6BpI,IAvGnB,KA0GdkM,mBAAqB,SAAC5S,GAClB,EAAKuR,gBAAkBvR,GA3Gb,KA8GdmS,oBAAsB,SAACnS,GACnB,EAAKwR,iBAAmBxR,GA/Gd,KAkHdyO,cAAgB,SAAC6L,EAAMC,GACnBD,EAAQ,EAAKhZ,SAAWgZ,EAAK9U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAiB,KAAT4U,IAAgB,EAAKhZ,SAAW,IAC5GiZ,EAAM,EAAK/Y,OAAS+Y,EAAG/U,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAe,KAAP6U,IAAc,EAAK/Y,OAAS,KApHxF,KAuHdgO,eAAiB,SAACF,EAAYzR,GAC1B,GAAmB,IAAfyR,EAAkB,CAClB,EAAKgD,gBAAkBzU,EACvB,IAAM2c,EAAkB,EAAKkgB,qBAAqBprB,GAAazN,QAAO,SAAA4Y,GAAM,uCAAI,UAAAA,EAAO3U,gBAAP,eAAiB9H,SAASH,MAA1B,UAC5E4c,EAAOvQ,uBADqE,aAC5E,EAAwBlM,SAASH,MAD2C,UACjC4c,EAAO1U,iBAD0B,iBACjC,EAAkB2U,qBADe,aACjC,EAAiC1c,SAASH,EAAM6c,kBADf,UAE5ED,EAAOjU,sBAFqE,aAE5E,EAAuBxI,SAASH,MAF4C,UAElC4c,EAAOlU,cAF2B,iBAElC,EAAevB,kBAFmB,aAElC,EAA2BhH,SAASH,MAFF,UAEY4c,EAAOlS,sBAFnB,aAEY,EAAuBvK,SAASH,MAF5C,UAG3E4c,EAAOtR,iBAHoE,iBAG3E,EAAkB3D,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAHkB,aAG5E,EAAiE1H,SAASH,MAHE,UAI3E4c,EAAO7S,qBAJoE,iBAI3E,EAAsBpC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAJc,aAI5E,EAAqE1H,SAASH,MAJF,UAK3E4c,EAAO2gB,sBALoE,iBAK3E,EAAuB51B,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YALa,aAK5E,EAAsE1H,SAASH,OACnF,EAAKq9B,8BAA8B1gB,OAElC,CACD,EAAK9I,iBAAmB7T,EACxB,IAAM2c,EAAkB,EAAKkgB,qBAAqBprB,GAAa,EAAKsC,uBAAuB/P,QAAO,SAAA4Y,GAAM,uBACpG,UAAAA,EAAOpb,YAAP,mBAAaqb,qBAAb,eAA4B1c,SAASH,EAAM6c,kBAA3C,UAA6DD,EAAOtU,eAApE,iBAA6D,EAAgBnB,kBAA7E,aAA6D,EAA4BhH,SAASH,MAAlG,UACA4c,EAAOrU,qBADP,iBACA,EAAsBpB,kBADtB,aACA,EAAkChH,SAASH,OAC/C,EAAKw9B,+BAA+B7gB,KAvI9B,KA2IdzK,oBAAsB,SAACT,EAAY9P,GACZ,IAAf8P,GAAoB,EAAKsC,wBAA0BpS,IACnD,EAAKkS,iBAAmB,GACxB,EAAKE,sBAAwBpS,EAC7B,EAAK67B,+BAAgC,EAAKX,qBAAqBprB,GAAa9P,IAC5E,EAAKyS,+BAhJC,KAoJdqpB,kCAAoC,SAACzqB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,EAAe8O,GAC1F,aAATA,IAAwB,EAAK8pB,+BAAiC,CAAEC,WAAY,KAEnE,eAAT/pB,EAAwB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WACrH,aAATyR,EAAsB,EAAK9B,eAAiB,EAAKA,eAAe3P,KAAI,SAAA0C,GAAU,OAAIA,EAAW1C,KAAI,SAAAma,GAAQ,OAAIA,EAASna,KAAI,kBAAM,WAC5HqB,EAAa,GAAK,IAAM,EAAKsO,eAAetO,EAAa,GAAGkB,GAAaI,IAAkB,EAAKgN,eAAetO,EAAa,GAAGkB,GAAaI,IAE3I,eAAT8O,EACI,EAAK6pB,yBAAyBt7B,KAAI,SAAAoB,GAAO,MACpB,iBAAjBA,EAAQtB,MAA2B,EAAKy7B,+BAA+Bn6B,EAAQtB,MAAME,KAAI,SAAAsC,GAAM,OAC3FA,EAAOnD,QAAU,SAChB,aAATsS,EACI,EAAK6pB,yBAAyBt7B,KAAI,SAAAoB,GAAO,MACpB,iBAAjBA,EAAQtB,MACRsB,EAAQA,QAAQpB,KAAI,SAAAsC,GAAM,OACtB,EAAKi5B,+BAA+Bn6B,EAAQtB,MAA5C,sBAAwD,EAAKy7B,+BAA+Bn6B,EAAQtB,OAApG,CAA2G,CAAEA,KAAMwC,EAAOxC,KAAMX,QAASmD,EAAOI,oBACxJ,EAAK64B,+BAA+BjqB,GAAWtR,KAAI,SAAAsC,GAAM,OACrDA,EAAOxC,OAASA,IAASwC,EAAOnD,QAAQob,MAAK,SAAAC,GAAK,OAAIA,IAAUrb,KAC3DmD,EAAOnD,QAAUmD,EAAOnD,QAAQmD,QAAO,SAAAhE,GAAK,OAAIA,IAAUa,KAC1DmD,EAAOnD,QAAP,sBAAqBmD,EAAOnD,SAA5B,CAAqCA,SAvK5C,KA0Kd68B,sCAAwC,SAACl2B,EAAMuV,EAAW5J,GACtD,IAAM6J,EAAiB,EAAKogB,2CACxBngB,EAAa,EAAKkgB,mCAAmCngB,EAAe,IAAIE,WAAU,SAAAhB,GAAK,OAAIA,EAAM1a,OAASwb,EAAe,OAEzG,IAAhBC,IACAA,EAAa,EAAKkgB,mCAAmCngB,EAAe,IAAI5Q,OACxE,EAAK+wB,mCAAmCngB,EAAe,IAAvD,sBAAiE,EAAKmgB,mCAAmCngB,EAAe,KAAxH,CACA,CAAExb,KAAMwb,EAAe,GAAInc,QAAS,CAAC,GAAI,QAGpC,UAATsS,EACI,EAAKgqB,mCAAqC,CACtCD,WAAY,CAAC,CAAE17B,KAAM,iCAAkCX,QAAS,CAAC,SAAD,QAAU,IAAI4G,MAAOkJ,cAArB,UAA4C,OAE/G,EAAKwsB,mCAAmCngB,EAAe,IAAIC,GAAapc,QAAQkc,GAAjF,UAAiGvV,EAAjG,WAxLM,KA2Ldm2B,8CAAgD,SAACt6B,GAC7C,EAAK+5B,2CAA6C/5B,EAClD,IAAM6Y,EAAQ,EAAKihB,mCAAmC95B,EAAO,IAAI8Z,MAAK,SAAAjB,GAAK,OAAIA,EAAM1a,OAAS6B,EAAO,MACrG6Y,EAAQ,EAAKtL,cAAcsL,EAAMrb,QAAQ,GAAIqb,EAAMrb,QAAQ,IAAM,EAAK+P,cAAc,GAAI,KA9L9E,KAiMdgtB,4BAA8B,SAAC/6B,GAC3B,EAAKm6B,yBAA2Bn6B,EAEhC,EAAKwO,eAAiBxO,EAAKnB,KAAI,SAAAsC,GAAM,OAAIA,EAAOxC,MAAwB,iBAAhBwC,EAAOxC,MAC3DwC,EAAOlB,QAAQpB,KAAI,SAAAoB,GAAO,OAAIA,EAAQsB,YAActB,EAAQsB,WAAW1C,KAAI,kBAAM,WAAQsC,QAAO,SAAAnB,GAAI,OAAIA,GAAQA,KAEpH,IAAM2E,EAAO3E,EAAK,GAAGC,QAAQ,GAC7B,EAAKs6B,2CAA6C,CAAC51B,EAAKjE,aAAciE,EAAKhG,KAAMgG,EAAKhE,aAxM5E,KA2Mdg6B,+BAAiC,SAAC36B,GAC9B,EAAKqR,mBAAqB0G,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IAC5E,EAAK3H,wBAA0ByG,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,EAAOib,OAAQ,IACjF,IAAMuB,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAK4pB,4BAA8Bl6B,EAAKya,OAAOD,IA/MrC,KAkNdggB,8BAAgC,SAACx6B,EAAM0a,GACnC1a,EAAOA,EAAKmB,QAAO,SAAA8b,GAAG,OAAK,EAAKpH,aAAeoH,EAAIpX,QAAU,GAAO,EAAK8P,cAAgBsH,EAAIpX,OAAS,KACtG,EAAKuI,kBAAoB2J,MAAM/X,EAAKuJ,QAAQ+G,KAAK,CAAEtS,SAAS,IAC5D,IAAMwc,EAAWxa,EAAKuJ,OAAS,GAAKwO,MAAM,GAAK/X,EAAKuJ,QAAQ+G,KAAK,IAAM,GACvE,EAAK2pB,2BAA6Bj6B,EAAKya,OAAOD,IAC7CE,GAAuB,EAAKnJ,8BAvNnB,KA0NdypB,wBAA0B,SAACh7B,GACvBA,GAAQA,EAAKuJ,OAAS,IAAMvJ,EAAK,GAAKmI,OAAOC,KAAKpI,EAAK,IAAInB,KAAI,SAAA0O,GAAG,OAAIvN,EAAK,GAAGuN,MAAM4P,QACpF,EAAK6c,qBAAuBh6B,EAC5BA,GAAQA,EAAKuJ,OAAS,GAAK,EAAKixB,8BAA8Bx6B,EAAK,IACnEA,GAAQA,EAAKuJ,OAAS,GAAKvJ,EAAK,GAAG,EAAKkR,wBAA0B,EAAKypB,+BAA+B36B,EAAK,GAAG,EAAKkR,yBA9NzG,KAiOd+pB,+BAAiC,SAAC3rB,GAC9BA,EAAO,GACP,EAAK0rB,wBAAwB,MAC7BvjB,EAAW,4BAA6BnI,GACnCpT,MAAK,SAAAC,GAAG,OAAI,EAAK6+B,wBAAwB7+B,MACzCwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OAtOtB,KAyOdskB,8BAzOc,sBAyOkB,sBAAA5kB,EAAA,uEACd5Z,eAAe2R,QAAQ,UADT,iDACsBoJ,EAAU,8BACvDvb,MAAK,SAAAC,GAAG,OAAI,EAAK4+B,4BAA4B5+B,MAC7Cwa,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MAHJ,iFAzOlB,KA+OdgE,cAAgB,WACZ,EAAKxM,kBAAoB2J,MAAM,EAAKkiB,2BAA2B1wB,QAAQ+G,KAAK,CAAEtS,SAAS,KA/OvF6Z,YAAmBC,Q,iBCCrBqjB,EAAW,SAAC3/B,GAChB,OAAO,qBAAKK,UAAWu/B,IAAQC,SAAUj9B,QAAS5C,EAAM8/B,WAGpDC,EAAe,SAAC//B,GACpB,OACE,qBAAKK,UAAWu/B,IAAQI,MAAxB,SACE,qBAAK3/B,UAAWu/B,IAAQK,QAAxB,SAAkCjgC,EAAMoE,cAKxC87B,EAAgBptB,SAASqtB,eAAe,YAe/BC,GAbD,SAACpgC,GACb,OACE,qCACGsE,QAAQC,IAAI,SACZ87B,IAASC,aAAa,cAAC,EAAD,CAAUR,QAAS9/B,EAAM8/B,UAAaI,GAC5DG,IAASC,aACR,cAAC,EAAD,UAAetgC,EAAMoE,WACrB87B,O,iGCjBFK,GAAkBC,aAAOC,KAAPD,EAAkB,kBAAGE,EAAH,EAAGA,MAAH,uCAClCC,KAAiBrwB,MAAS,CAC9BtM,gBAAiB08B,EAAME,QAAQC,OAAOC,MACtCv+B,MAAOm+B,EAAME,QAAQC,OAAOE,QAHU,2BAKlCJ,KAAiB7sB,MAAS,CAC9BhP,SAAU,KAN4B,KAUpCk8B,GAAiBR,aAAOS,KAAPT,EAAiB,kBAAgB,CACtD,qBAAsB,CACpBx8B,gBAFoC,EAAG08B,MAEhBE,QAAQM,OAAOC,OAGxC,mCAAoC,CAClC96B,OAAQ,OAgCG+6B,GA5BO,SAACphC,GACrB,OACE,cAACqhC,GAAA,EAAD,CAAgBC,UAAWC,KAA3B,SACE,eAAC,KAAD,CAAOC,GAAI,CAACx+B,YAAY,OAASO,SAAU,KAAOk+B,aAAW,mBAA7D,UACE,cAACC,GAAA,EAAD,UACE,cAACT,GAAA,EAAD,UACGjhC,EAAM2hC,QAAQt+B,KAAI,SAACu+B,GAAD,OACjB,cAACrB,GAAD,CAAiBsB,MAAM,QAAvB,SAAgCD,WAItC,cAACE,GAAA,EAAD,UACG9hC,EAAM+hC,aAAa1+B,KAAI,SAAC2+B,GACvB,IAAMC,EAAWt1B,OAAO6lB,OAAOwP,GAC/B,OACE,cAAChB,GAAD,UACGiB,EAAS5+B,KAAI,SAAC6+B,GAAD,OACZ,cAAC3B,GAAD,CAAiBsB,MAAM,QAAvB,SAAgCK,QAFfF,EAAK3mB,kBCLzB8mB,GAnCM,SAACniC,GACpBsE,QAAQC,IAAI,gBACZ,MAA2BiC,mBAAS,IAApC,mBAAOgL,EAAP,KAAe4wB,EAAf,KAGO59B,EAAMxE,EAANwE,KACPF,QAAQC,IAAIC,GACZ+D,qBAAU,WACR,GAAG/D,EAAK69B,OAAOt0B,OAAO,EAAE,CACtB,IAAMu0B,EAAa31B,OAAOC,KAAKpI,EAAK69B,OAAO,IAC3CD,EAAWE,MAIb,CAAC99B,IAKH,OACE,sBAAKxC,MAAO,CAAC6B,UAAW,MAAMgR,QAAQ,OAAQ7Q,gBAAiB,OAAQu+B,aAAa,QAApF,UACE,oBAAKvgC,MAAO,CAACkC,MAAM,OAAQD,UAAU,UAArC,SAAiDO,EAAKvB,QACtD,sBAAM5C,UAAU,UAAhB,UACE,qHACA,mBAAI2B,MAAO,CAACgB,YAAY,QAAxB,SAAkCwB,EAAKg+B,aAGzC,sBAAKniC,UAAU,QAAf,UACE,+GACCmR,EAAQ,cAAC,GAAD,CAAemwB,QAASnwB,EAASuwB,aAAcv9B,EAAK69B,SAAW,WCAjEI,GA3BD,SAACziC,GACb,IAAQulB,EAAkBmd,EAAlBnd,cAKR,OAHAjhB,QAAQC,IAAI,YACZD,QAAQC,IAAIvE,EAAMwE,MAGhB,cAAC,GAAD,CAAOs7B,QAAS9/B,EAAM8/B,QAAtB,SACGva,EAAcxjB,OAAS,qBAAKC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUygC,aAAa,UAAtE,SACtB,cAACtgC,EAAA,EAAD,CAAMC,KAAM,IAAKC,MAAM,wBAClB,sBAAKP,MAAO,CAAEkC,MAAM,OAAQJ,OAAO,MAAO8+B,UAAU,SAAS3gC,QAAS,OAAQ4gC,IAAK,OAAQF,aAAa,SAAU/9B,cAAc,UAAhI,UACP,qBAAK5C,MAAO,CAAEkC,MAAM,QAApB,SACA,wBAAQtB,QAAS5C,EAAM8/B,QAAvB,qBAGC9/B,EAAMwE,KAAKnB,KAAI,SAACy/B,GACf,OAAIA,EAAKC,eAGT/iC,EAAMgjC,cAAa,GACZF,EAAKC,cAAc1/B,KAAI,SAACqG,GAAD,OAAS,cAAC,GAAD,CAA+BlF,KAAMkF,GAAlBA,EAAMvG,UAHvDnD,EAAMgjC,cAAa,YCjB9BrsB,GAAeC,EAAQ,IAsZd7W,gBAlZO,SAACC,GACnB,IAAQulB,EAAkBmd,EAAlBnd,cACR,EAAiC/e,mBAAS,MAA1C,mBAAOy8B,EAAP,KAAkBC,EAAlB,KACA,EAAqC18B,oBAAS,GAA9C,mBAAO28B,EAAP,KAAoBC,EAApB,KACA,EAAiD58B,oBAAS,GAA1D,mBAAO68B,EAAP,KACA,GADA,KACqC78B,oBAAS,IAA9C,mBAAOw8B,EAAP,KAAoBM,EAApB,KAGMC,EAAc,QACpBh7B,qBAAU,WACNgd,EAAcsT,cAEf,IAEHtwB,qBAAU,WACNjE,QAAQC,IAAI,aAETy+B,GACHzd,EAAc4P,WACTz0B,MAAK,SAAAC,GACF2D,QAAQC,IAAIy+B,GAER,IAAMQ,EAAU,IAAIC,KAAK,CAACxxB,KAAKC,UAAUvR,IAAO,CAAEU,KAAM,qBAClDsZ,EAAM7D,OAAO4sB,KAAO5sB,OAAO6sB,UAC3BC,EAAO9wB,SAAS+wB,cAAc,KACpCD,EAAKE,SAAW,YAChBF,EAAKG,KAAOppB,EAAIqpB,gBAAgBR,GAChCI,EAAKliC,OAAS,SACdoR,SAASgB,KAAKmwB,YAAYL,GAC1BA,EAAKM,QACLpxB,SAASgB,KAAKqwB,YAAYP,QAMxC,CAACZ,IAEH,IAaMoB,EAAQ,SAAC,GAA8B,IAA5BnhC,EAA2B,EAA3BA,MAAO81B,EAAoB,EAApBA,cAYpB,OAAO,sBAAK/2B,MAAO,CAAEC,QAAS,QAAvB,UACH,qBAAKD,MAAO,CAAE8C,SAAU,QAASgB,WAAY,UAA7C,SAA0D7C,IACzD81B,GAAiB,sBAAM/2B,MAAO,CAAEgB,YAAa,OAAQT,MAAO,OAAQkD,OAAQ,WAAa7C,QAb/D,WAC3B2iB,EAAcuT,sBAAsBC,GAC/Br4B,MAAK,SAAAC,GACF,IAAM0P,EAAS1P,EAAI6Q,QAAQuG,IAAI,uBAC/B,GAAI1H,EAAQ,CACR,IAAM2H,EAAW3H,EAAO/G,MAAM+G,EAAO4H,QAAQ,aAAe,EAAG5H,EAAOtC,OAAS,GAC/EpN,EAAIuX,OAAOxX,MAAK,SAAAyX,GAAI,OAAIxB,GAAawB,EAAMH,WAOrC,0BAKpBqsB,EAAQ,SAAC,GAAgF,IAA9EC,EAA6E,EAA7EA,QAASnsB,EAAoE,EAApEA,KAAMosB,EAA8D,EAA9DA,OAAQC,EAAsD,EAAtDA,UAAWC,EAA2C,EAA3CA,mBAAmBC,EAAwB,EAAxBA,aAAavhC,EAAW,EAAXA,KAI/E,OAHAmB,QAAQC,IAAIggC,GACZjgC,QAAQC,IAAIigC,GAEL,sBAAKxiC,MAAO,CAAEC,QAAS,QAAvB,UACH,wBAAOD,MAAO,CAAEC,QAAS,OAAQwD,OAAQi/B,EAAuB,cAAV,UAA0BxgC,MAAO,cAAcF,gBAAiB0gC,EAAoB,UAAP,QAAnI,UACI,uBAAOrjC,KAAK,OAAOsjC,OAAO,oGACtB3iC,MAAO,CAAEC,QAAS,OAAQ+B,gBAAiB0gC,EAAoB,UAAP,QAAoBt6B,SAAUmb,EAAcxjB,OAAOwjB,EAAcxjB,OAAO2iC,EAAcj/B,OAASi/B,EAAuB,cAAV,UAAyB/iC,MAAO,SAAAH,GAAC,OAAGA,EAAEE,OAAOC,OAAOiB,QAAS,SAAApB,GAAC,OAAIA,EAAEE,OAAOC,MAAM,IAAIJ,SAAU,SAAAC,GAAC,OAAI8iC,EAAQ9iC,EAAEE,OAAOkjC,MAAM,IAAM,SACzS,qBAAK5iC,MAAO,CAAEC,QAAS,OAAQ4iC,UAAW,SAAUC,aAAc,MAAOz+B,OAAQ,kBAAmBnC,MAAO,OAAQR,WAAY,MAAOwS,SAAU,UAAhJ,gBAA6JiC,QAA7J,IAA6JA,OAA7J,EAA6JA,EAAMhV,OACnK,qBAAK9C,UAAU,yCACX2B,MAAO,CAAE6S,QAAS,cAAc7Q,gBAAiB0gC,EAAoB,UAAP,OAAiBj/B,OAAQi/B,EAAuB,cAAV,UAAyBt6B,SAASs6B,GAD1I,yCAKJ,sBAAK1iC,MAAO,CAAEC,QAAS,OAAQ2C,cAAc,UAA7C,UACA,wBAAO5C,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAW7B,YAAa,OAArE,UACI,uBAAO3B,KAAK,WAAWmB,UAAW+hC,EAAShjC,SAAU,SAAAC,GAAC,OAAIgjC,GAAaA,EAAUhjC,EAAEE,OAAOc,YAD9F,0CAIA,wBAAOR,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUY,OAAQ,UAAWzC,YAAa,OAAvF,UACI,uBAAO3B,KAAK,WAAY8B,KAAMA,EAAMX,QAASkiC,EAAenjC,SAAU,SAAAC,GAAC,OAAIijC,EAAmBjjC,EAAEE,OAAOc,YAD3G,0BAaR,OACI,cAAC,EAAD,CAAWS,MAAM,wLAAjB,SACI,iCACMkgC,GAAgB5d,EAAcxjB,SAAW,cAACgjC,GAAD,CAAgBjF,QAP/C,WACpBsD,GAAgB,IAMiF5+B,KAAMy+B,EAAYD,aAAcM,IACzH,sBAAKjjC,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,sOAEI,+HAEJ,sBAAKF,MAAO,CAAEC,QAAS,QAAvB,UACI,sBAAKD,MAAO,CAAEkC,MAAO,OAArB,UAEI,sBAAK7D,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,0IAA4B81B,cAAc,6BACvD,cAACsL,EAAD,CAAOlhC,KAAK,2BAA2BmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcsN,0BAA0B1a,IAAOA,KAAMoN,EAAcC,uBAAwBkf,aAAcnf,EAAcsG,mCAAoC4Y,mBAAoBlf,EAAcuN,sCAAuCyR,OAAQhf,EAAcU,6BAA8Bue,UAAWjf,EAAcsO,kCACnT,KAArDtO,EAAciF,4BAA4BxV,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAciF,iCAG7G,sBAAKnqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,sEAAe81B,cAAc,WAC1C,cAACsL,EAAD,CAAOlhC,KAAK,SAASmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcwN,UAAU5a,IAAOA,KAAMoN,EAAc3B,OAAQ6gB,mBAAoBlf,EAAcyN,sBAAuB0R,aAAcnf,EAAcuG,mBAAoByY,OAAQhf,EAAcW,aAAcse,UAAWjf,EAAcuO,kBACjO,KAArCvO,EAAckF,YAAYzV,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAckF,iBAG7F,sBAAKpqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,gEAAc81B,cAAc,sBACzC,cAACsL,EAAD,CAAOlhC,KAAK,oBAAoBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc7F,oBAAoBvH,IAAOA,KAAMoN,EAAc1X,iBAAkB42B,mBAAoBlf,EAAc0N,gCAAiCyR,aAAcnf,EAAcwG,6BAA8BwY,OAAQhf,EAAcY,uBAAwBqe,UAAWjf,EAAcwO,4BACpR,KAA/CxO,EAAcmF,sBAAsB1V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcmF,2BAGvG,sBAAKrqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,qLAAoC81B,cAAc,oDAC/D,cAACsL,EAAD,CAAOlhC,KAAK,kDAAkDmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc2N,+CAA+C/a,IAAOA,KAAMoN,EAAcE,4CAA6Cgf,mBAAoBlf,EAAc4N,2DAA4DuR,aAAcnf,EAAcyG,wDAAyDuY,OAAQhf,EAAca,kDAAmDoe,UAAWjf,EAAcyO,uDAC9Z,KAA1EzO,EAAcoF,iDAAiD3V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcoF,sDAGlI,sBAAKtqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,2GAAsB81B,cAAc,YACjD,cAACsL,EAAD,CAAOlhC,KAAK,UAAUmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc6N,YAAYjb,IAAOA,KAAMoN,EAAcG,SAAU+e,mBAAoBlf,EAAc8N,wBAA2BqR,aAAcnf,EAAc0G,qBAAuBsY,OAAQhf,EAAcc,eAAgBme,UAAWjf,EAAc0O,oBAC7O,KAAvC1O,EAAcqF,cAAc5V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcqF,mBAG/F,sBAAKvqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,iHAAuB81B,cAAc,sBAClD,cAACsL,EAAD,CAAOlhC,KAAK,oBAAoBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc+N,oBAAoBnb,IAAOA,KAAMoN,EAAcI,iBAAkB8e,mBAAoBlf,EAAcgO,gCAAiCmR,aAAcnf,EAAc2G,6BAA+BqY,OAAQhf,EAAce,uBAAwBke,UAAWjf,EAAc2O,4BACrR,KAA/C3O,EAAcsF,sBAAsB7V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcsF,2BAGvG,sBAAKxqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,+FAAoB81B,cAAc,aAC/C,cAACsL,EAAD,CAAOlhC,KAAK,WAAWmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc2K,YAAY/X,IAAOA,KAAMoN,EAAckD,SAAUgc,mBAAoBlf,EAAcoN,wBAAyB+R,aAAcnf,EAAc4G,qBAAuBoY,OAAQhf,EAAcgB,eAAgBie,UAAWjf,EAAc4O,oBAC5O,KAAvC5O,EAAcgG,cAAcvW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcgG,mBAG/F,sBAAKlrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,sEAAe81B,cAAc,YAC1C,cAACsL,EAAD,CAAOlhC,KAAK,UAAUmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcoJ,WAAWxW,IAAOA,KAAMoN,EAAcqE,QAAS6a,mBAAoBlf,EAAcqJ,uBAAwB8V,aAAcnf,EAAc6G,oBAAsBmY,OAAQhf,EAAciB,cAAege,UAAWjf,EAAc6O,mBACvO,KAAtC7O,EAAcoG,aAAa3W,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcoG,kBAG9F,sBAAKtrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,mKAAiC81B,cAAc,yBAC5D,cAAC,EAAD,CAAYre,OAAQ,CAAC,4BAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAciD,wBAAyBjnB,SAAU,SAACC,GAAD,OAAO+jB,EAAc8K,2BAA2B7uB,EAAEE,OAAOC,QAA5L,SACK4jB,EAAcyE,aAAa3mB,KAAI,SAAAgc,GAAW,OAAI,wBAA0B1d,MAAO0d,EAAjC,SAA+CA,GAAlCA,YAIxE,cAACglB,EAAD,CAAOlhC,KAAK,uBAAuBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc4K,gBAAgBhY,IAAOA,KAAMoN,EAAcgD,aAAckc,mBAAoBlf,EAAc6K,4BAA6BsU,aAAcnf,EAAc8G,yBAA2BkY,OAAQhf,EAAckB,mBAAoB+d,UAAWjf,EAAc8O,wBACxQ,KAA3C9O,EAAc+F,kBAAkBtW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc+F,uBAGnG,sBAAKjrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,mFAAkB81B,cAAc,uBAC7C,cAAC,EAAD,CAAYre,OAAQ,CAAC,qDAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcuE,mCAAoCvoB,SAAU,SAACC,GAAD,OAAO+jB,EAAcmJ,sCAAsCltB,EAAEE,OAAOC,QAAlN,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,aAItE,cAACygC,EAAD,CAAOlhC,KAAK,qBAAqBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAciJ,qBAAqBrW,IAAOA,KAAMoN,EAAcsE,kBAAmB4a,mBAAoBlf,EAAckJ,iCAAkCiW,aAAcnf,EAAc+G,8BAAgCiY,OAAQhf,EAAcmB,wBAAyB8d,UAAWjf,EAAc+O,6BAC1R,KAAhD/O,EAAcqG,uBAAuB5W,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcqG,4BAGxG,sBAAKvrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,uHAAwB81B,cAAc,sBACnD,cAAC,EAAD,CAAYre,OAAQ,CAAC,4BAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,yBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcmC,mCAAoCnmB,SAAU,SAACC,GAAD,OAAO+jB,EAAc8L,sCAAsC7vB,EAAEE,OAAOC,QAAlN,UACI,wBAAiBA,MAAO,IAAX,IACZ4jB,EAAc8E,kBAAkBhnB,KAAI,SAAA24B,GAAK,OAAI,wBAAuBr6B,MAAOq6B,EAAMp4B,GAApC,SAAyCo4B,EAAM74B,MAAlC64B,EAAMp4B,cAI7E,cAACygC,EAAD,CAAOlhC,KAAK,oBAAoBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc0L,oBAAoB9Y,IAAOA,KAAMoN,EAAckC,iBAAkBgd,mBAAoBlf,EAAc2L,gCAAiCwT,aAAcnf,EAAcgH,6BAA+BgY,OAAQhf,EAAcoB,uBAAwB6d,UAAWjf,EAAcgP,4BACrR,KAA/ChP,EAAc0F,sBAAsBjW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc0F,2BAGvG,sBAAK5qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,uHAAwB81B,cAAc,iBACnD,cAAC,EAAD,CAAYre,OAAQ,CAAC,4BAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,yBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcmC,mCAAoCnmB,SAAU,SAACC,GAAD,OAAO+jB,EAAc8L,sCAAsC7vB,EAAEE,OAAOC,QAAlN,UACI,wBAAiBA,MAAO,IAAX,IACZ4jB,EAAc8E,kBAAkBhnB,KAAI,SAAA24B,GAAK,OAAI,wBAAuBr6B,MAAOq6B,EAAMp4B,GAApC,SAAyCo4B,EAAM74B,MAAlC64B,EAAMp4B,cAI7E,cAACygC,EAAD,CAAOlhC,KAAK,oBAAoBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc0L,oBAAoB9Y,IAAOA,KAAMoN,EAAckC,iBAAkBgd,mBAAoBlf,EAAc2L,gCAAiCwT,aAAcnf,EAAcgH,6BAA+BgY,OAAQhf,EAAcoB,uBAAwB6d,UAAWjf,EAAcgP,4BACrR,KAA/ChP,EAAc0F,sBAAsBjW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc0F,8BAG3G,sBAAKjpB,MAAO,CAAEkC,MAAO,OAArB,UAEI,sBAAK7D,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,4GAAuB81B,cAAc,oBAClD,cAAC,EAAD,CAAYre,OAAQ,CAAC,qDAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAciC,gCAAiCjmB,SAAU,SAACC,GAAD,OAAO+jB,EAAcuM,mCAAmCtwB,EAAEE,OAAOC,QAA5M,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,aAItE,cAACygC,EAAD,CAAOlhC,KAAK,kBAAkBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc0P,kBAAkB9c,IAAOA,KAAMoN,EAAcgC,eAAgBkd,mBAAoBlf,EAAc2P,8BAAgCwP,aAAcnf,EAAciH,2BAA6B+X,OAAQhf,EAAcqB,qBAAsB4d,UAAWjf,EAAciP,0BAC5Q,KAA7CjP,EAAcyF,oBAAoBhW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcyF,yBAGrG,sBAAK3qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,6JAAgC81B,cAAc,WAC3D,cAAC,EAAD,CAAYre,OAAQ,CAAC,mFAAmB,0DAAc,oDAAa,iEAAnE,SACI,sBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,UACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcM,wBAAyBtkB,SAAU,SAACC,GAAD,OAAO+jB,EAAcyM,2BAA2BxwB,EAAEE,OAAOC,QAA5L,SACK4jB,EAAcwE,aAAa1mB,KAAI,SAAAgR,GAAM,OAAI,wBAAwB1S,MAAO0S,EAAOzQ,GAAtC,SAA2CyQ,EAAOlR,MAArCkR,EAAOzQ,SAElE,wBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcO,sBAAuBvkB,SAAU,SAACC,GAAD,OAAO+jB,EAAc2M,yBAAyB1wB,EAAEE,OAAOC,QAA1M,SACK4jB,EAAc7Y,eAAerJ,KAAI,SAAA2hC,GAAO,OAAI,wBAAsBrjC,MAAOqjC,EAA7B,SAAuCA,GAA1BA,QAE9D,wBAAQhjC,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcQ,iCAAkCxkB,SAAU,SAACC,GAAD,OAAO+jB,EAAcsM,oCAAoCrwB,EAAEE,OAAOC,QAAhO,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,SAE9D,wBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc8B,sBAAuB9lB,SAAU,SAACC,GAAD,OAAO+jB,EAAc6M,yBAAyB5wB,EAAEE,OAAOC,QAA1M,SACK4jB,EAAc0E,cAAc5mB,KAAI,SAAA4hC,GAAM,OAAI,wBAAqBtjC,MAAOsjC,EAA5B,SAAqCA,GAAxBA,aAIpE,cAACZ,EAAD,CAAOlhC,KAAK,SAASmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAciO,mBAAmBrb,IAAOA,KAAMoN,EAAcK,gBAAiB6e,mBAAoBlf,EAAckO,+BAAgCiR,aAAcnf,EAAckH,4BAA+B8X,OAAQhf,EAAcS,sBAAuBwe,UAAWjf,EAAcqO,2BACvQ,KAA9CrO,EAAcuF,qBAAqB9V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcuF,0BAGtG,sBAAKzqB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,sJAA8B81B,cAAc,oBACzD,cAACsL,EAAD,CAAOlhC,KAAK,kBAAkBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcmO,0BAA0Bvb,IAAOA,KAAMoN,EAAc+B,uBAAwBmd,mBAAoBlf,EAAcoO,sCAAuC+Q,aAAcnf,EAAcmH,mCAAqC6X,OAAQhf,EAAcsB,6BAA8B2d,UAAWjf,EAAckP,kCAC3S,KAArDlP,EAAcwF,4BAA4B/V,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcwF,iCAG7G,sBAAK1qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,mFAAkB81B,cAAc,aAC7C,cAAC,EAAD,CAAYre,OAAQ,CAAC,mFAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcqC,mBAAoBrmB,SAAU,SAACC,GAAD,OAAO+jB,EAAciM,sBAAsBhwB,EAAEE,OAAOC,QAAlL,SACK4jB,EAAcgF,UAAUlnB,KAAI,SAAA6hC,GAAQ,OAAI,wBAA0BvjC,MAAOujC,EAASthC,GAA1C,SAA+CshC,EAAS/hC,MAA3C+hC,EAASthC,aAI3E,cAACygC,EAAD,CAAOlhC,KAAK,WAAWmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc+L,YAAYnZ,IAAOA,KAAMoN,EAAcoC,SAAU8c,mBAAoBlf,EAAcgM,wBAAyBmT,aAAcnf,EAAcoH,qBAAuB4X,OAAQhf,EAAcuB,eAAgB0d,UAAWjf,EAAcmP,oBAC5O,KAAvCnP,EAAc2F,cAAclW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc2F,mBAG/F,sBAAK7qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,gJAA6B81B,cAAc,wBACxD,cAACsL,EAAD,CAAOlhC,KAAK,sBAAuBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc4L,sBAAsBhZ,IAAOA,KAAMoN,EAAcsC,mBAAoB4c,mBAAoBlf,EAAc6L,kCAAmCsT,aAAcnf,EAAcqH,+BAAiC2X,OAAQhf,EAAcwB,yBAA0Byd,UAAWjf,EAAcoP,8BAChS,KAAjDpP,EAAc4F,wBAAwBnW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc4F,6BAGzG,sBAAK9qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,2HAA4B81B,cAAc,QACvD,cAAC,EAAD,CAAYre,OAAQ,CAAC,2BAAQ,oDAAa,oDAAa,gEAAe,4BAAtE,SACI,sBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,UACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcwC,eAAgBxmB,SAAU,SAACC,GAAD,OAAO+jB,EAAcqL,kBAAkBpvB,EAAEE,OAAOC,QAA1K,SACK4jB,EAAcyE,aAAa3mB,KAAI,SAAAgc,GAAW,OAAI,wBAA0B1d,MAAO0d,EAAjC,SAA+CA,GAAlCA,QAEhE,wBAAQrd,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcyC,qBAAsBzmB,SAAU,SAACC,GAAD,OAAO+jB,EAAcsL,wBAAwBrvB,EAAEE,OAAOC,QAAxM,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,SAE9D,uBAAOvC,KAAK,OAAOW,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc0C,WAAY1mB,SAAU,SAAAC,GAAC,OAAI+jB,EAAcuL,cAActvB,EAAEE,OAAOC,UAC5M,uBAAON,KAAK,OAAOW,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc4C,eAAgB5mB,SAAU,SAAAC,GAAC,OAAI+jB,EAAcyL,kBAAkBxvB,EAAEE,OAAOC,UACpN,wBAAQK,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc2C,oBAAqB3mB,SAAU,SAACC,GAAD,OAAO+jB,EAAcwL,uBAAuBvvB,EAAEE,OAAOC,QAAtM,SACK4jB,EAAc8E,kBAAkBhnB,KAAI,SAAA24B,GAAK,OAAI,wBAAuBr6B,MAAOq6B,EAAMp4B,GAApC,SAAyCo4B,EAAM74B,MAAlC64B,EAAMp4B,cAI7E,cAACygC,EAAD,CAAOlhC,KAAK,MAAMmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcmL,OAAOvY,IAAOA,KAAMoN,EAAcuC,IAAK2c,mBAAoBlf,EAAcoL,mBAAqB+T,aAAcnf,EAAcsH,gBAAkB0X,OAAQhf,EAAcyB,UAAWwd,UAAWjf,EAAcqP,eACpN,KAAlCrP,EAAc6F,SAASpW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc6F,cAG1F,sBAAK/qB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,sIAA6B81B,cAAc,UACxD,cAAC,EAAD,CAAYre,OAAQ,CAAC,2BAAQ,qDAA7B,SACI,sBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,UACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc8C,kBAAmB9mB,SAAU,SAACC,GAAD,OAAO+jB,EAAciL,qBAAqBhvB,EAAEE,OAAOC,QAAhL,SACK4jB,EAAcyE,aAAa3mB,KAAI,SAAAgc,GAAW,OAAI,wBAA0B1d,MAAO0d,EAAjC,SAA+CA,GAAlCA,QAEhE,wBAAQrd,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc+C,wBAAyB/mB,SAAU,SAACC,GAAD,OAAO+jB,EAAckL,2BAA2BjvB,EAAEE,OAAOC,QAA9M,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,cAItE,cAACygC,EAAD,CAAOlhC,KAAK,QAAQmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc+K,UAAUnY,IAAOA,KAAMoN,EAAc6C,OAAQqc,mBAAoBlf,EAAcgL,sBAAuBmU,aAAcnf,EAAcuH,mBAAqByX,OAAQhf,EAAc0B,aAAcud,UAAWjf,EAAcsP,kBACjO,KAArCtP,EAAc8F,YAAYrW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAc8F,iBAG7F,sBAAKhrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,oFACb,cAAC,EAAD,CAA0ByX,OAAQ,CAAC,2BAAQ,2BAAQ,qBAAO,kFAAkB,2BAAQ,4EAAiB,0FAArG,SACI,sBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,UACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcoD,oCAAqCpnB,SAAU,SAACC,GAAD,OAAO+jB,EAAcoK,uCAAuCnuB,EAAEE,OAAOC,QAApN,SACK4jB,EAAc6E,8BAA8B/mB,KAAI,SAAAsgB,GAAW,OAAI,yBAA6BhiB,MAAOgiB,EAAY/Z,SAAhD,UAA2D+Z,EAAY/Z,SAAvE,MAAoF+Z,EAAYxgB,OAAnFwgB,EAAY/f,SAE7F,wBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcqD,wBAAyBrnB,SAAU,SAACC,GAAD,OAAO+jB,EAAcqK,2BAA2BpuB,EAAEE,OAAOC,QAA9M,SACK4jB,EAAc8E,kBAAkBhnB,KAAI,SAAA24B,GAAK,OAAI,wBAAuBr6B,MAAOq6B,EAAM74B,KAApC,SAA2C64B,EAAM74B,MAApC64B,EAAMp4B,SAErE,wBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcsD,gBAAiBtnB,SAAU,SAACC,GAAD,OAAO+jB,EAAcsK,mBAAmBruB,EAAEE,OAAOC,QAA9L,SACK4jB,EAAc+E,UAAUjnB,KAAI,SAAAolB,GAAQ,OAAI,yBAA0B9mB,MAAO8mB,EAAS7e,SAA1C,UAAqD6e,EAAS7e,SAA9D,MAA2E6e,EAAStlB,OAAvEslB,EAAS7kB,SAEnE,uBAAOvC,KAAK,OAAOW,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcuD,YAAavnB,SAAU,SAAAC,GAAC,OAAI+jB,EAAcuK,eAAetuB,EAAEE,OAAOC,UAC9M,uBAAOK,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcwD,WAC5HxnB,SAAU,SAAAC,GAAC,OAAI+hC,EAAYx3B,KAAKvK,EAAEE,OAAOC,QAAU4jB,EAAcwK,cAAcvuB,EAAEE,OAAOC,OAAS,QACrG,uBAAOK,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcyD,cAC5HznB,SAAU,SAAAC,GAAC,OAAI+jB,EAAcyK,iBAAiBxuB,EAAEE,OAAOC,UAC3D,uBAAON,KAAK,OAAOW,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc0D,gBAAiB1nB,SAAU,SAAAC,GAAC,OAAI+jB,EAAc0K,mBAAmBzuB,EAAEE,OAAOC,cAhB9M,WAmBhB,cAAC0iC,EAAD,CAAOlhC,KAAK,UAAUmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAckK,WAAWtX,IAAOA,KAAMoN,EAAcmD,QAAS+b,mBAAoBlf,EAAcmK,uBAAwBgV,aAAcnf,EAAcwH,oBAAsBwX,OAAQhf,EAAc2B,cAAesd,UAAWjf,EAAcuP,mBACvO,KAAtCvP,EAAciG,aAAaxW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAciG,kBAG9F,sBAAKnrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,+KAAmC81B,cAAc,sBAC9D,cAAC,EAAD,CAAYre,OAAQ,CAAC,qDAArB,SACI,qBAAK1Y,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,wBAAQ5C,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc4D,kCAAmC5nB,SAAU,SAACC,GAAD,OAAO+jB,EAAciK,qCAAqChuB,EAAEE,OAAOC,QAAlO,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,aAItE,cAACygC,EAAD,CAAOlhC,KAAK,oBAAoBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAc+J,oBAAoBnX,IAAOA,KAAMoN,EAAc2D,iBAAkBub,mBAAoBlf,EAAcgK,gCAAiCmV,aAAcnf,EAAcyH,6BAA+BuX,OAAQhf,EAAc4B,uBAAwBqd,UAAWjf,EAAcwP,6BACrR,KAA/CxP,EAAckG,sBAAsBzW,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAckG,2BAGvG,sBAAKprB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,UACI,cAACkiC,EAAD,CAAOnhC,MAAM,oIAA2B81B,cAAc,kBACtD,cAAC,EAAD,CAAYre,OAAkD,YAA1C6K,EAAc8D,wBAC9B,CAAC,2BAAQ,oDAAa,2BAAQ,oDAAa,0DAAc,qDACzD,CAAC,2BAAQ,oDAAa,2BAAQ,oDAAa,2DAF/C,SAGI,sBAAKrnB,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,UACI,wBAAQ5C,MAAO,CAAEkC,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc8D,wBAAyB9nB,SAAU,SAACC,GAAD,OAAO+jB,EAAcwJ,2BAA2BvtB,EAAEE,OAAOC,QAA5L,SACK4jB,EAAcyE,aAAa3mB,KAAI,SAAAgc,GAAW,OAAI,wBAA0B1d,MAAO0d,EAAjC,SAA+CA,GAAlCA,QAEhE,uBAAOhe,KAAK,OAAOW,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeJ,OAAQ,MAAOgB,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAc+D,qBAAsB/nB,SAAU,SAAAC,GAAC,OAAI+jB,EAAcyJ,wBAAwBxtB,EAAEE,OAAOC,UAChO,yBAAQK,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcgE,6BAA8BhoB,SAAU,SAACC,GAAD,OAAO+jB,EAAc0J,gCAAgCztB,EAAEE,OAAOC,QAAxN,UACI,wBAAQA,MAAM,GAAd,oFACC4jB,EAAc8E,kBAAkBhnB,KAAI,SAAA24B,GAAK,OAAI,wBAAuBr6B,MAAOq6B,EAAMp4B,GAApC,SAAyCo4B,EAAM74B,MAAlC64B,EAAMp4B,UAErE,wBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAciE,8BAA+BjoB,SAAU,SAACC,GAAD,OAAO+jB,EAAc2J,iCAAiC1tB,EAAEE,OAAOC,QAA1N,SACK4jB,EAAc4E,aAAa9mB,KAAI,SAAAmgB,GAAI,OAAI,yBAAsB7hB,MAAO6hB,EAAKtY,eAAlC,UAAmDsY,EAAKtY,eAAxD,MAA2EsY,EAAKvY,mBAAnEuY,EAAK5f,SAE9D,yBAAQ5B,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAckE,0BAA2BloB,SAAU,SAACC,GAAD,OAAO+jB,EAAc4J,6BAA6B3tB,EAAEE,OAAOC,QAAlN,UACI,wBAAQA,MAAM,GAAd,mHACC4jB,EAAc7Y,eAAerJ,KAAI,SAAA2hC,GAAO,OAAI,wBAAsBrjC,MAAOqjC,EAA7B,SAAuCA,GAA1BA,SAEnB,YAA1Czf,EAAc8D,yBACX,wBAAQrnB,MAAO,CAAEG,UAAW,MAAO+B,MAAO,cAAeY,SAAU,MAAO8L,QAAS,QAAUjP,MAAO4jB,EAAcmE,4BAA6BnoB,SAAU,SAACC,GAAD,OAAO+jB,EAAc6J,+BAA+B5tB,EAAEE,OAAOC,QAAtN,SACK4jB,EAAc2E,iBAAiB7mB,KAAI,SAAAhC,GAAI,OAAI,wBAAmBM,MAAON,EAA1B,SAAiCA,GAApBA,aAIzE,sBAAKW,MAAO,CAAEC,QAAS,QAAvB,UACI,cAACoiC,EAAD,CAAOlhC,KAAK,gBAAgBmhC,QAAS,SAAAnsB,GAAI,OAAIoN,EAAcsJ,gBAAgB1W,IAAOA,KAAMoN,EAAc6D,aAAcqb,mBAAoBlf,EAAcuJ,4BAA6B4V,aAAcnf,EAAc0H,yBAA2BsX,OAAQhf,EAAc6B,wBAAyBod,UAAWjf,EAAcyP,6BAClT,wBAAOhzB,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUY,OAAQ,UAAWzC,YAAa,OAAvF,UACI,uBAAO3B,KAAK,WAAWmB,QAAS+iB,EAAcoE,kBAAmBpoB,SAAU,SAAAC,GAAC,OAAI+jB,EAAc8J,qBAAqB7tB,EAAEE,OAAOc,YADhI,cAMwC,KAA3C+iB,EAAcmG,kBAAkB1W,QAAiB,qBAAKhT,MAAO,CAAEO,MAAO,OAArB,SAA+BgjB,EAAcmG,6BAM3G,qBAAKrrB,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,aAAcgC,MAAO,cAAekC,OAAQ,cAA7I,SACI,uBAAOgE,SAAUmb,EAAcxjB,OAAQ1B,UAAU,SAASgB,KAAK,SAASM,MAAM,qBAAMK,MAAO,CAAE6S,QAAS,cAAe/P,SAAU,SAAWlC,QApWlI,WACpB2iB,EAAc4P,WACTz0B,MAAK,SAAAC,GACF,IAAMmd,EAAend,EAAIgF,QAAO,SAAAnB,GAAI,YAAU3D,IAAR2D,KACtCF,QAAQC,IAAIuZ,GACZolB,EAAcplB,GACVulB,GAEAD,GAAgB,mBCkMrB+B,GAxPI,SAACnlC,GAAW,IAAD,oDAClBuU,EAAqDvU,EAArDuU,QAAStK,EAA4CjK,EAA5CiK,QAAS2Z,EAAmC5jB,EAAnC4jB,OAAQwhB,EAA2BplC,EAA3BolC,YAAax5B,EAAc5L,EAAd4L,UAI/C,EAAoCpF,mBAAS,MAA7C,mBAAmB6+B,GAAnB,WAEA,EAAkC7+B,mBAAS,MAA3C,mBAAkB8+B,GAAlB,WAEA,EAA4C9+B,mBAAS,MAArD,mBAAuB++B,GAAvB,WAKAh9B,qBAAU,WACN88B,EAAc9wB,GACd+wB,EAAa1hB,GACb2hB,EAAkBH,KAEnB,IAIH,MAAgD5+B,oBAAS,GAAzD,mBAAOg/B,EAAP,KAAyBC,EAAzB,KACA,EAA8Cj/B,oBAAS,GAAvD,mBAAOk/B,EAAP,KAAwBC,EAAxB,KACA,EAAkCn/B,oBAAS,GAA3C,oBAAOo/B,GAAP,MAAkBC,GAAlB,MACA,GAA0Cr/B,oBAAS,GAAnD,qBAAOs/B,GAAP,MAAsBC,GAAtB,MACA,GAAwCv/B,oBAAS,GAAjD,qBAAOw/B,GAAP,MAAqBC,GAArB,MACA,GAAsDz/B,oBAAS,GAA/D,qBAAO0/B,GAAP,MAA4BC,GAA5B,MACA,GAA4C3/B,oBAAS,GAArD,qBAAO4/B,GAAP,MAAuBC,GAAvB,MACA,GAA4C7/B,oBAAS,GAArD,qBAAO8/B,GAAP,MAAuBC,GAAvB,MACA,GAAgD//B,oBAAS,GAAzD,qBAAOggC,GAAP,MAAyBC,GAAzB,MAIA,GAAkDjgC,oBAAS,GAA3D,qBAAOkgC,GAAP,MAA0BC,GAA1B,MACA,GAAwCngC,oBAAS,GAAjD,qBAAOogC,GAAP,MAAqBC,GAArB,MACA,GAA8CrgC,oBAAS,GAAvD,qBAAOsgC,GAAP,MAAwBC,GAAxB,MACA,GAAkDvgC,oBAAS,GAA3D,qBAAOwgC,GAAP,MAA0BC,GAA1B,MACA,GAA8DzgC,oBAAS,GAAvE,qBAAO0gC,GAAP,MAAgCC,GAAhC,MACA,GAAgD3gC,oBAAS,GAAzD,qBAAO4gC,GAAP,MAAyBC,GAAzB,MACA,GAA4C7gC,oBAAS,GAArD,qBAAO8gC,GAAP,MAAuBC,GAAvB,MAKA,GAA0D/gC,oBAAS,GAAnE,qBAAOghC,GAAP,MAA8BC,GAA9B,MACA,GAA8DjhC,oBAAS,GAAvE,qBAAOkhC,GAAP,MAAgCC,GAAhC,MACA,GAAgEnhC,oBAAS,GAAzE,qBAAOohC,GAAP,MAAiCC,GAAjC,MAEA,GAAwErhC,oBAAS,GAAjF,qBAAOshC,GAAP,MAAqCC,GAArC,MACA,GAA4EvhC,oBAAS,GAArF,qBAAOwhC,GAAP,MAAuCC,GAAvC,MACA,GAA8EzhC,oBAAS,GAAvF,qBAAO0hC,GAAP,MAAwCC,GAAxC,MACA,GAAwD3hC,oBAAS,GAAjE,qBAAO4hC,GAAP,MAA6BC,GAA7B,MAGMC,GAAkB,SAACtoC,GACrB,OAAO,sBAAKgC,MAAO,CAAE6D,SAAU,WAAYQ,OAAQ,kBAAmBnC,MAAO,OAAtE,UACH,qBAAKlC,MAAO,CAAEG,UAAW,MAAOC,aAAc,MAAOY,YAAa,OAAlE,SACKhD,EAAMoE,WAEX,qBAAKpC,MAAK,aAAI6D,SAAU,WAAYQ,OAAQ,kBAAmBrC,gBAAiB,OAAQmR,KAAM,OAAQ5E,IAAK,QAAWvQ,EAAMuoC,YAA5H,SAA2IvoC,EAAMiD,YAInJulC,GAAiB,SAAChnC,EAAGE,EAAQ0hB,EAAOja,EAAMs/B,EAAWplB,EAAW3Z,GAClE,IAAM/H,EAAQwH,EAAO,IAAIC,KAAK5H,EAAEE,OAAOC,OAAO0H,cAAgB7H,EAAEE,OAAOC,MAEjE+mC,EAActlB,EAAMrgB,MAAM,KAEb,SAAnB2lC,EAAY,IAAyC,IAAxBn0B,EAAQiP,KAAKzV,QAAgBs3B,EAAc9wB,EAAQm0B,EAAY,IAAM,IAAInsB,MAAM,GAAGzH,KAAK,CAAE2O,YAAa,GAAIC,cAAe,GAAIxY,eAAgB,MAE/J,YAAXxJ,GAAwB2jC,EAAchiB,IAAwBqlB,EAAY36B,OAAS,EAC9ErE,EAAQ6K,EAAQm0B,EAAY,IAAIh/B,EAAQ,GAAGg/B,EAAY,IAAM/mC,EAAQ4S,EAAQm0B,EAAY,IAAIA,EAAY,IAAM/mC,EAC/G+H,EAAQ6K,EAAQm0B,EAAY,IAAIh/B,EAAQ,GAAK/H,EAAQ4S,EAAQm0B,EAAY,IAAM/mC,IACzE,WAAXD,GAAuB4jC,EAAajiB,IAAwBqlB,EAAY36B,OAAS,EAC5ErE,EAAQka,EAAO8kB,EAAY,IAAIh/B,EAAQ,GAAGg/B,EAAY,IAAM/mC,EAAQiiB,EAAO8kB,EAAY,IAAIA,EAAY,IAAM/mC,EAC7G+H,EAAQka,EAAO8kB,EAAY,IAAIh/B,EAAQ,GAAK/H,EAAQiiB,EAAO8kB,EAAY,IAAM/mC,IACvE,gBAAXD,GAA4B6jC,EAAkBliB,IAAwBqlB,EAAY36B,OAAS,EACtFrE,EAAQ07B,EAAYsD,EAAY,IAAIh/B,EAAQ,GAAGg/B,EAAY,IAAM/mC,EAAQyjC,EAAYsD,EAAY,IAAIA,EAAY,IAAM/mC,EACvH+H,EAAQ07B,EAAYsD,EAAY,IAAIh/B,EAAQ,GAAK/H,EAAQyjC,EAAYsD,EAAY,IAAM/mC,IAE5F3B,EAAMuB,SAASG,EAAQgnC,EAAa/mC,EAAO0hB,EAAW3Z,GACtD++B,GAAaA,EAAUplC,KAAI,SAAAslC,GAAM,OAAI3oC,EAAMuB,SAASonC,EAAM,OAAYA,EAAM,MAAU5lC,MAAM,KACvFoG,EAAOw/B,EAAM,MAAU5lC,MAAM,KAAKwG,UAAUC,KAAK,KAAOm/B,EAAM,WAiBvE,OACI,sBAAKtoC,UAAU,iBAAf,UACI,eAACioC,GAAD,CAAiBrlC,MAAM,sEAAeslC,WAAY,CAAEpzB,KAAM,OAA1D,UAQI,sBAAK9U,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa65B,GAAoB,IAAOz5B,OAAQ,kBAAMy5B,GAAoB,IAA7H,oDACclxB,IAAYixB,EAAmB,uBAAO15B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQ8nB,YAAc,GAC/F96B,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,iBAAoB+S,EAAQ8nB,eAChF,sBAAKh8B,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa+5B,GAAmB,IAAO35B,OAAQ,kBAAM25B,GAAmB,IAA3H,0DACepxB,IAAYmxB,EAAkB,uBAAO55B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQ+nB,WAAa,GAC9F/6B,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,gBAAmB+S,EAAQ+nB,cAC/E,sBAAKj8B,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAai6B,IAAa,IAAO75B,OAAQ,kBAAM65B,IAAa,IAA/G,sEACiBtxB,IAAYqxB,GAAY,uBAAO95B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQ3K,UAAY,GACzFrI,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,eAAkB+S,EAAQ3K,aAC9E,sBAAKvJ,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAam6B,IAAiB,IAAO/5B,OAAQ,kBAAM+5B,IAAiB,IAAvH,gEACgBxxB,IAAYuxB,GAAgB,uBAAOh6B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQq0B,eAAiB,GACjGrnC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,oBAAuB+S,EAAQq0B,kBACnF,sBAAKvoC,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAaq6B,IAAgB,IAAOj6B,OAAQ,kBAAMi6B,IAAgB,IAArH,6CACY1xB,IAAYyxB,GAAe,uBAAOl6B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQs0B,mBAAqB,GAChGtnC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,wBAA2B+S,EAAQs0B,sBACvF,sBAAKxoC,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAau6B,IAAuB,IAAOn6B,OAAQ,kBAAMm6B,IAAuB,IAAnI,sEACiB5xB,IAAY2xB,GAAsB,uBAAOp6B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQu0B,wBAA0B,GACjHvnC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,6BAAgC+S,EAAQu0B,2BAC5F,sBAAKzoC,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAay6B,IAAkB,IAAOr6B,OAAQ,kBAAMq6B,IAAkB,IAAzH,6CACY9xB,IAAY6xB,GAAiB,uBAAOt6B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQw0B,OAAS,GACtFxnC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,YAAe+S,EAAQw0B,UAC3E,sBAAK1oC,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa26B,IAAkB,IAAOv6B,OAAQ,kBAAMu6B,IAAkB,IAAzH,6CACYhyB,IAAY+xB,GAAiB,uBAAOx6B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQy0B,SAAW,GACxFznC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,cAAiB+S,EAAQy0B,YAC7E,sBAAK3oC,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa66B,IAAoB,IAAOz6B,OAAQ,kBAAMy6B,IAAoB,IAA7H,sEACiBlyB,IAAYiyB,GAAmB,uBAAO16B,WAAS,EAACzK,KAAK,OAAOM,MAAQ4S,EAAQ00B,YAAc10B,EAAQ00B,WAAWlmC,MAAM,KAAKwG,UAAUC,KAAK,MAAS,GACzJjI,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,cAAc,MADrB,UACiC+S,EAAQ00B,kBADzC,aACiC,EAAoB3/B,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAE7I,eAAC8+B,GAAD,CAAiBrlC,MAAM,0DAAaslC,WAAY,CAAEpzB,KAAM,OAAxD,UACI,sBAAK9U,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa+6B,IAAqB,IAAO36B,OAAQ,kBAAM26B,IAAqB,IAA/H,uCACW/iB,GAAUA,EAAOD,cAAgB+iB,GAAoB,wBAAQ56B,WAAS,EAACnK,MAAOiiB,EAAOD,YAAY/Z,UAAY,GAChHrI,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,SAAU,wBAAwB,EAC/D,CAAC,CAAEE,OAAQ,SAAU0hB,MAAO,mBAAoBzhB,MAAO3B,EAAM6iB,6BAA6BrhB,EAAEE,OAAOC,OAA5C,MACvD,CAAED,OAAQ,SAAU0hB,MAAO,SAAUzhB,MAAOgL,OAAOC,KAAK5M,EAAM6iB,6BAA6BrhB,EAAEE,OAAOC,OAA5C,UAAgE,OAHpE,SAIvD3B,EAAM6iB,8BAAgClW,OAAO6lB,OAAOxyB,EAAM6iB,8BAA8Bxf,KAAI,SAAA1C,GAAG,OAC5F,wBAA2BgB,MAAOhB,EAAIiJ,SAAtC,mBAAoDjJ,EAAIwC,KAAxD,cAAkExC,EAAIiJ,WAAzDjJ,EAAIiJ,eALgC,UAOhDga,EAAOD,YAAYxgB,KAP6B,YAOrBygB,EAAOD,YAAY/Z,cAC3D,sBAAKvJ,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAai7B,IAAgB,IAAO76B,OAAQ,kBAAM66B,IAAgB,IAArH,uCACWjjB,IAAWgjB,GAAe,wBAAQ96B,WAAS,EAACnK,MAAOiiB,EAAOE,QAAU,GACvEviB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,SAAU,WADd,SAE5BxB,EAAM6iB,8BAAgCe,EAAOD,aAAeC,EAAOD,YAAY/Z,UAC5E+C,OAAOC,KAAK5M,EAAM6iB,6BAA6Be,EAAOD,YAAY/Z,UAAtD,UAA6EvG,KAAI,SAAA1C,GAAG,OAC5F,wBAAkBgB,MAAOhB,EAAzB,SAA+BA,GAAlBA,QACbijB,EAAOE,WACvB,sBAAKzjB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAam7B,IAAmB,IAAO/6B,OAAQ,kBAAM+6B,IAAmB,IAA3H,sEACiB3B,IAAgB0B,GAAkB,yBAAQh7B,WAAS,EAACnK,MAAOyjC,EAAYxhC,IAAM,GACtFrC,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,cAAe,MAAM,EAClD,CAAC,CAAEE,OAAQ,UAAW0hB,MAAO,0BAA2BzhB,MAAOoiB,SAASviB,EAAEE,OAAOC,SACjF3B,EAAM6N,iBAAiBiR,MAAK,SAAAne,GAAG,OAAIA,EAAIiD,KAAOmgB,SAASviB,EAAEE,OAAOC,YAHzB,UAI1C3B,EAAM6N,kBAAoB7N,EAAM6N,iBAAiBxK,KAAI,SAAA1C,GAAG,OACrD,wBAAqBgB,MAAOhB,EAAIiD,GAAhC,SAAqCjD,EAAIwC,MAA5BxC,EAAIiD,OALsB,OAK+BwhC,EAAYjiC,SAC9F,sBAAK9C,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAaq7B,IAAqB,IAAOj7B,OAAQ,kBAAMi7B,IAAqB,IAA/H,6CACY1yB,GAAWvU,EAAMyY,eAAiBuuB,GAAoB,wBAAQl7B,WAAS,EAACnK,MAAO4S,EAAQxJ,aAAe,GAC1GxJ,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,gBADc,SAEzDxB,EAAMyY,aAAaywB,cAAgBv8B,OAAOC,KAAK5M,EAAMyY,aAAaywB,cAAc7lC,KAAI,SAAA1C,GAAG,OACpF,wBAAkBgB,MAAOhB,EAAzB,SAA+BX,EAAMyY,aAAaywB,aAAavoC,IAAlDA,QACTX,EAAMyY,aAAaywB,aAAa30B,EAAQxJ,iBACxD,sBAAK1K,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAau7B,IAA2B,IAAOn7B,OAAQ,kBAAMm7B,IAA2B,IAA3I,sEACiB5yB,IAAY2yB,GAA0B,uBAAOp7B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQpF,mBAAqB,GAChH5N,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,wBAA2B+S,EAAQpF,sBACvF,sBAAK9O,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAay7B,IAAoB,IAAOr7B,OAAQ,kBAAMq7B,IAAoB,IAA7H,wFACoB9yB,IAAY6yB,GAAmB,uBAAOt7B,WAAS,EAACzK,KAAK,OAAOM,MAAQ4S,EAAQ2N,YAAc3N,EAAQ2N,WAAWnf,MAAM,KAAKwG,UAAUC,KAAK,MAAS,GAC5JjI,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,cAAc,MADlB,UAC8B+S,EAAQ2N,kBADtC,aAC8B,EAAoB5Y,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,SACzI,sBAAKnJ,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa27B,IAAkB,IAAOv7B,OAAQ,kBAAMu7B,IAAkB,IAAzH,sEACiBhzB,IAAY+yB,GAAiB,uBAAOx7B,WAAS,EAACzK,KAAK,OAAOM,MAAQ4S,EAAQ4N,UAAY5N,EAAQ4N,SAASpf,MAAM,KAAKwG,UAAUC,KAAK,MAAS,GACnJjI,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,YAAY,MADrB,UACiC+S,EAAQ4N,gBADzC,aACiC,EAAkB7Y,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,YAEzI,eAAC8+B,GAAD,CAAiBrlC,MAAM,8CAAWslC,WAAY,CAAEpzB,KAAM,OAAtD,UAMI,sBAAK9U,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa67B,IAAyB,IAAOz7B,OAAQ,kBAAMy7B,IAAyB,IAAvI,0DACelzB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAKy5B,GAAwB,uBAAO17B,WAAS,EAACzK,KAAK,OAAOM,OAAO,UAAA4S,EAAQiP,KAAK,UAAb,eAAiBC,cAAe,GACzJliB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,mBAAoB,KAAM,KAAM,KAAM,MADA,UACS+S,EAAQiP,KAAK,UADtB,aACS,EAAiBC,YAC5G+jB,IAAyB,uBAAO17B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBC,cAAgB,GACxHliB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,mBAAoB,KAAM,KAAM,KAAM,SAC9F,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAa+7B,IAA2B,IAAO37B,OAAQ,kBAAM27B,IAA2B,IAA3I,gEACgBpzB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAK25B,GAA0B,uBAAO57B,WAAS,EAACzK,KAAK,OAAOM,OAAO,UAAA4S,EAAQiP,KAAK,UAAb,eAAiBE,gBAAiB,GAC9JniB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,qBAAsB,KAAM,KAAM,KAAM,MADC,UACQ+S,EAAQiP,KAAK,UADrB,aACQ,EAAiBE,cAC9GgkB,IAA2B,uBAAO57B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBE,gBAAkB,GAC5HniB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,qBAAsB,KAAM,KAAM,KAAM,SAChG,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAai8B,IAA4B,IAAO77B,OAAQ,kBAAM67B,IAA4B,IAA7I,sEACiBtzB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAK65B,GAA2B,uBAAO97B,WAAS,EAACzK,KAAK,OAAOM,OAAO,UAAA4S,EAAQiP,KAAK,UAAb,eAAiBtY,iBAAkB,GACjK3J,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,sBAAuB,KAAM,KAAM,KAAM,MADE,UACO+S,EAAQiP,KAAK,UADpB,aACO,EAAiBtY,eAC/G08B,IAA4B,uBAAO97B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBtY,iBAAmB,GAC9H3J,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,sBAAuB,KAAM,KAAM,KAAM,SAMjG,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAam8B,IAAgC,IAAO/7B,OAAQ,kBAAM+7B,IAAgC,IAArJ,mFACoBxzB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAK+5B,GAA+B,uBAAOh8B,WAAS,EAACzK,KAAK,OAAOM,OAAO,UAAA4S,EAAQiP,KAAK,UAAb,eAAiBC,cAAe,GACrKliB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,mBAAoB,KAAM,KAAM,KAAM,MADY,UACH+S,EAAQiP,KAAK,UADV,aACH,EAAiBC,YAC5GqkB,IAAgC,uBAAOh8B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBC,cAAgB,GAC/HliB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,mBAAoB,KAAM,KAAM,KAAM,SAC9F,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAaq8B,IAAkC,IAAOj8B,OAAQ,kBAAMi8B,IAAkC,IAAzJ,yFACqB1zB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAKi6B,GAAiC,uBAAOl8B,WAAS,EAACzK,KAAK,OAAOM,MAAO4S,EAAQiP,KAAK,GAAGE,eAAiB,GACzKniB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,qBAAsB,KAAM,KAAM,KAAM,MADa,UACJ+S,EAAQiP,KAAK,UADT,aACJ,EAAiBE,cAC9GskB,IAAkC,uBAAOl8B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBE,gBAAkB,GACnIniB,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,qBAAsB,KAAM,KAAM,KAAM,SAChG,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAau8B,IAAmC,IAAOn8B,OAAQ,kBAAMm8B,IAAmC,IAA3J,+FACsB5zB,GAAWA,EAAQiP,MAAQjP,EAAQiP,KAAKzV,OAAS,EAAKm6B,GAAkC,uBAAOp8B,WAAS,EAACzK,KAAK,OAAOM,OAAO,UAAA4S,EAAQiP,KAAK,UAAb,eAAiBtY,iBAAkB,GAC7K3J,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,sBAAuB,KAAM,KAAM,KAAM,MADc,UACL+S,EAAQiP,KAAK,UADR,aACL,EAAiBtY,eAC/Gg9B,IAAmC,uBAAOp8B,WAAS,EAACzK,KAAK,OAAOM,OAAQ,UAAA4S,EAAQ40B,aAAR,eAAep7B,QAAS,IAAxB,UAA6BwG,EAAQiP,KAAK,UAA1C,aAA6B,EAAiBtY,iBAAmB,GACrI3J,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,sBAAuB,KAAM,KAAM,KAAM,SACjG,sBAAKnB,UAAU,qBAAqBuC,QAAS,kBAAMgJ,GAAay8B,IAAwB,IAAOr8B,OAAQ,kBAAMq8B,IAAwB,IAArI,qGACuB9zB,GAAWvU,EAAMyY,eAAiB2vB,GAAuB,wBAAQt8B,WAAS,EAACnK,MAAO4S,EAAQlI,gBAAkB,GAC3H9K,SAAU,SAAAC,GAAC,OAAIgnC,GAAehnC,EAAG,UAAW,mBAD4B,SAEvExB,EAAMyY,aAAaC,yBAA2B/L,OAAOC,KAAK5M,EAAMyY,aAAaC,yBAAyBrV,KAAI,SAAA1C,GAAG,OAC1G,wBAAkBgB,MAAOhB,EAAzB,SAA+BX,EAAMyY,aAAaC,wBAAwB/X,IAA7DA,QACTX,EAAMyY,aAAaC,wBAAwBnE,EAAQlI,uBAEvE,eAACi8B,GAAD,CAAiBrlC,MAAM,uCAASslC,WAAY,CAAEpzB,KAAM,OAApD,UACI,8GAAqBlL,EAAWA,EAAQm/B,eAAiB,EAAIn/B,EAAQm/B,cAArC,UAAwDrgC,KAAKC,IAAIiB,EAAQm/B,eAAzE,KAA8F,KAC9H,8GAAqBn/B,EAAWA,EAAQo/B,gBAAkB,EAAIp/B,EAAQo/B,eAAtC,UAA0DtgC,KAAKC,IAAIiB,EAAQo/B,gBAA3E,KAAiG,KACjI,4FAAkBp/B,EAAWA,EAAQq/B,iBAAmB,EAAIr/B,EAAQq/B,gBAAvC,UAA4DvgC,KAAKC,IAAIiB,EAAQq/B,iBAA7E,KAAoG,KACjI,sFAAiBr/B,EAAWA,EAAQs/B,gBAAkB,EAAIt/B,EAAQs/B,eAAtC,UAA0DxgC,KAAKC,IAAIiB,EAAQs/B,gBAA3E,KAAiG,KAC7H,4FACA,2HACA,4HCpKDzpC,I,MAAAA,YAAO,YAAPA,CAAoBC,aAhEZ,SAACC,GAAW,IAAD,IACxBC,EAAUC,cACRmiB,EAAiBriB,EAAMI,UAAvBiiB,aAER9Z,qBAAU,WASN,OARIrH,eAAe2R,QAAQ,cACvBwP,EAAauC,iBAAiB1jB,eAAe2R,QAAQ,gBAGrD3R,eAAeH,QAAQ,QAAS,mBAChCd,EAAQmB,KAAK,oBAGV,WACHihB,EAAa4B,kBAGlB,IAEH,IAAM1Q,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAChDV,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9ByO,EAAaxO,oBAAoBvQ,IAOrC,OACI,eAAC,EAAD,CAAWL,MAAM,gEAAcN,QAAM,EAACwB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAjH,UACI,cAAC,GAAD,CACI0J,UAAsC,OAA3ByW,EAAaM,UACxBpO,QAAS8N,EAAaE,eACtBtY,QAASoY,EAAaG,sBACtBoB,OAAQvB,EAAaI,cACrB2iB,YAAa/iB,EAAaK,mBAC1BG,6BAA8BR,EAAaQ,6BAC3ChV,iBAAkBwU,EAAaxU,iBAC/B4K,aAAc4J,EAAa5J,aAC3BlX,SAAU,SAACG,EAAQ0hB,EAAOzhB,EAAO0hB,EAAW3Z,GAAlC,OAA4C2Y,EAAac,mBAAmBzhB,EAAQ0hB,EAAOzhB,EAAO0hB,EAAW3Z,MAC3H,sBAAK1H,MAAO,CAAEC,QAAS,OAAQiC,MAAO,cAAelB,YAAa,QAAlE,UACI,uBAAO3C,UAAU,SAASgB,KAAK,SAASM,MAAM,wCAAUK,MAAO,CAAE6S,QAAS,cAAezO,OAAQ,SAAWxD,QAAS,eACrH,uBAAOvC,UAAU,SAASgB,KAAK,SAASM,MAAM,8CAAWK,MAAO,CAAE6S,QAAS,cAAezO,OAAQ,SAAWxD,QAAS,eACtH,uBAAOvC,UAAU,SAASgB,KAAK,SAASM,MAAM,iCAAQyI,UAAWiY,EAAaO,YAAa5gB,MAAO,CAAE6S,QAAS,cAAezO,OAAQ,SAAWxD,QAnBjI,WACtByf,EAAa+C,6BAmBL,uBAAO/kB,UAAU,SAASgB,KAAK,SAASM,MAAM,iCAAQsB,OAAO,UAAAof,EAAaE,sBAAb,eAA6BhY,UAAW,mFAAmBH,SAAQ,UAAEiY,EAAaE,sBAAf,aAAE,EAA6BhY,QAASvI,MAAO,CAAE6S,QAAS,cAAezO,OAAQ,SAAWxD,QAAS,kBAAMyf,EAAa6C,2BAE5P,eAAC,EAAD,CAAO7U,OAA0C,uBAAlCgS,EAAaW,iBACxB,CAAC,mFAAmB,yFAAoB,8CAAY,sDAAe,8CAAY,wCAAW,kFAAkB,0DAAc,oDAAa,mFAAmB,0FAC1J,CAAC,iCAAS,iCAAS,iCAAS,0DAAc,2BAAQ,4BAClDxe,KAAM6d,EAAaM,WAAa,GAChC3gB,MAAO,CAAEwnC,MAAO,QAChBp5B,WAAY,CAAElM,MAAO,QALzB,UAMI,sBAAKlC,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQkT,KAAM,MAAO5E,IAAK,UAAvE,UACI,qBAAKlQ,UAAU,yBAAyBuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,4BAA9F,kDACA,qBAAKnB,UAAU,yBAAyBuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,qBAAsB,EAAG,4BAAzG,+GACA,qBAAKnB,UAAU,qCAAqCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,WAAY,EAAG,4BAA3G,4DAEF6gB,EAAaM,WAAa,qBAAKtiB,UAAU,0BAAf,SAA0C,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,mC,SC4F7FzC,eAAO,YAAPA,CAAoBC,aAzJb,SAACC,GAAW,IAAD,UACrBg5B,EAAqBh5B,EAAMI,UAA3B44B,iBAERzwB,qBAAU,WACN,IAAMkhC,EAAgBzQ,EAAiBG,qBAAqBta,WAAU,SAAAzS,GAAQ,OAAIA,IAAa4sB,EAAiB5sB,YAChH4sB,EAAiBuD,SAASkN,GAE1B,IAAMxP,EAAmBjB,EAAiBI,sBAAsBta,MAAK,SAAApR,GAAW,OAAIA,EAAY9J,KAAOo1B,EAAiB5sB,SAASoB,sBACjIwrB,EAAiBwD,oBAAoBvC,KAEtC,CAACjB,EAAiB5sB,WAErB,IAqBMs9B,EAAY,WACd1Q,EAAiBtZ,oBAAoB,MACrCsZ,EAAiB0C,WAAW,MAC5B1C,EAAiB9I,YAAY,MAC7B8I,EAAiBtI,OAAO,MACxBsI,EAAiB6C,WAAW,OAG1B8N,EAA2B,WAE7B,IAAMC,EAAe5Q,EAAiB5sB,SAASw9B,aAAa77B,OAAS,GAAKirB,EAAiB5sB,SAASw9B,aAAa,GAC3GhgB,EAAUoP,EAAiBuB,WACjC,OAAOvB,EAAiB5sB,SAASw9B,aAAa77B,OAAS,GAAK,gCACxD,wGAAuB67B,EAAa1tB,SAApC,iEAA6D0tB,EAAalmB,cAA1E,uEAAyGkmB,EAAa1+B,eAAtH,4DAAqJ0+B,EAAanmB,eACjKmG,GAAW,0HAA0BA,EAAQyS,WAAlC,YAAgDzS,EAAQ0S,UAAxD,qDAAgF1S,EAAQigB,aAAxF,6BAA+GjgB,EAAQhgB,gBAI3I,OACI,qBAAKhG,GAAG,iBAAR,SACI,sBAAKvD,UAAU,gBAAf,UACI,qBAAKA,UAAU,uBAAf,SACI,cAAC,IAAD,CAASiC,KAAK,MAAMN,MAAO,CAAEyD,OAAQ,WAAa7C,QA3C9C,WACXo2B,EAAiBj3B,SAClBi3B,EAAiB4C,YAAY,MAC7B8N,UA0CI,sBAAKrpC,UAAU,wBAAf,UACI,sBAAKA,UAAU,oCAAoCuC,QAhChD,YACVo2B,EAAiBj3B,QAAUi3B,EAAiBtvB,MAAQ,IACrDsvB,EAAiB4C,YAAY5C,EAAiBG,qBAAqBH,EAAiBtvB,MAAQ,IAC5FggC,MA6BgF1nC,MAAO,CAAEyD,OAAmC,IAA3BuzB,EAAiBtvB,MAAc,cAAgB,UAAWogC,QAAoC,IAA3B9Q,EAAiBtvB,OAAe,OAA5L,UACI,cAAC,IAAD,CAAgBpH,KAAK,QADzB,qCAGA,qBAAKN,MAAO,CAAEwD,eAAgB,aAA9B,SAA8CwzB,EAAiBiB,kBAAjB,UAAwCjB,EAAiBiB,iBAAiBhvB,iBAA1E,gEAA0G+tB,EAAiBiB,iBAAiB/uB,kBAC1L,sBAAK7K,UAAU,oCAAoCuC,QA3ChD,YACVo2B,EAAiBj3B,QAAYi3B,EAAiBG,qBAAqBH,EAAiBtvB,MAAQ,KAC7FsvB,EAAiB4C,YAAY5C,EAAiBG,qBAAqBH,EAAiBtvB,MAAQ,IAC5FggC,MAwCgF1nC,MAAO,CAAEyD,OAASuzB,EAAiBG,qBAAqBH,EAAiBtvB,MAAQ,GAAqB,UAAhB,cAA2BogC,SAAU9Q,EAAiBG,qBAAqBH,EAAiBtvB,MAAQ,IAAM,OAAxQ,gCACQ,cAAC,IAAD,CAAkBpH,KAAK,cAGnC,sBAAKjC,UAAU,yBAAf,UACI,8BAAM24B,EAAiB5sB,SAASjD,KAAKG,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,OAC5E,sBAAKxH,MAAO,CAAEiC,UAAW,UAAzB,UACI,mEAAa+0B,EAAiB5sB,SAAS0B,2BACvC,yEAAckrB,EAAiB5sB,SAASD,uBAE5C,sBAAKnK,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,UAA3C,UAAuD,cAAC,KAAD,CAAUvC,KAAK,UAAWyG,KAAKC,IAAIgwB,EAAiB5sB,SAASF,oBAAqB8sB,EAAiB5sB,SAASF,mBAAqB,EAAI,IAAM,SAEtM,qBAAKlK,MAAO,CAAEC,QAAS,OAAQC,eAAgB,gBAA/C,SACI,cAACynC,EAAD,MAEJ,sBAAKtpC,UAAU,sBAAf,UAEI,sBAAK2B,MAAO,CAAEkC,MAAO,OAArB,UACI,qBAAK7D,UAAU,6BAAf,sCACA,gCACI,0BAAUuD,GAAG,eAAe5B,MAAO,CAAE8C,SAAU,SAA/C,SACKk0B,EAAiBkB,YAAY72B,KAAI,SAAAumB,GAAO,OACrC,wBAAyBjoB,MAAK,UAAKioB,EAAQyS,WAAb,YAA2BzS,EAAQ0S,UAAnC,cAAkD1S,EAAQhgB,UAAY5H,MAAO,CAAE8C,SAAU,UAA1G8kB,EAAQhmB,SAE7B,uBAAOmmC,KAAK,eAAe1pC,UAAU,2BAA2B+J,UAAW4uB,EAAiB5sB,SAASwtB,UAAWt4B,YAAY,8CACxHK,MAAOq3B,EAAiBpP,SAAW,GAAIroB,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiBrK,WAAWntB,EAAEE,OAAOC,gBAInI,sBAAKK,MAAO,CAAEkC,MAAO,OAArB,UACI,qBAAK7D,UAAU,6BAAf,sCACA,gCACI,0BAAUuD,GAAG,cAAc5B,MAAO,CAAE8C,SAAU,SAA9C,SACKk0B,EAAiBmB,oBAAoB92B,KAAI,SAAA24B,GAAK,OAC3C,wBAAuBr6B,MAAK,UAAKq6B,EAAM74B,KAAX,cAAqB64B,EAAMp4B,IAAM5B,MAAO,CAAE8C,SAAU,UAAnEk3B,EAAMp4B,SAE3B,uBAAOmmC,KAAK,cAAc1pC,UAAU,2BAA2B+J,UAAW4uB,EAAiB5sB,SAASwtB,UAAWt4B,YAAY,8CACvHK,OAAO,UAAAq3B,EAAiBnrB,wBAAjB,eAAmC9K,MAAM,OAAO,KAAM,GAAIxB,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiBtZ,oBAAoBle,EAAEE,OAAOC,gBAGtK,sBAAKK,MAAO,CAAEkC,MAAO,OAArB,UACI,qBAAK7D,UAAU,6BAAf,kDACA,gCACI,0BAAUuD,GAAG,gBAAb,SACKo1B,EAAiBoB,YAAY/2B,KAAI,SAAAkR,GAAO,OACrC,wBAAyB5S,MAAK,UAAK4S,EAAQ8nB,WAAb,YAA2B9nB,EAAQ+nB,UAAnC,cAAkD/nB,EAAQ3K,WAA3E2K,EAAQ3Q,SAE7B,uBAAOmmC,KAAK,gBAAgBC,SAAmD,KAAzC,UAAAhR,EAAiBoB,mBAAjB,eAA8BrsB,QAAc3D,UAAW4uB,EAAiB5sB,SAASwtB,WAAaZ,EAAiBgC,UAAYhC,EAAiB+B,cAAez5B,YAAY,0DACzMjB,UAAU,2BAA2BsB,MAAOq3B,EAAiBzkB,SAAW,GAAIhT,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiB0C,WAAWl6B,EAAEE,OAAOC,gBAGxK,sBAAKK,MAAO,CAAEkC,MAAO,OAArB,UACI,qBAAK7D,UAAU,6BAAf,gCACA,gCACI,0BAAUuD,GAAG,gBAAb,SACKo1B,EAAiBqB,aAAah3B,KAAI,SAAAolB,GAAQ,OACvC,wBAA0B9mB,MAAK,UAAK8mB,EAAStlB,KAAd,cAAwBslB,EAAS7e,WAAnD6e,EAAS7kB,SAE9B,uBAAOmmC,KAAK,gBAAgBC,SAAoD,KAA1C,UAAAhR,EAAiBqB,oBAAjB,eAA+BtsB,QAAc3D,UAAW4uB,EAAiB5sB,SAASwtB,WAAaZ,EAAiBgC,UAAYhC,EAAiB8B,aAAcx5B,YAAY,wCACzMjB,UAAU,2BAA2BsB,MAAOq3B,EAAiBvQ,UAAY,GAAIlnB,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiB9I,YAAY1uB,EAAEE,OAAOC,gBAG1K,sBAAKK,MAAO,CAAEkC,MAAO,OAArB,UACI,qBAAK7D,UAAU,6BAAf,0DACA,gCACI,0BAAUuD,GAAG,WAAb,SACKo1B,EAAiBsB,QAAUtB,EAAiBsB,OAAOj3B,KAAI,SAAAykB,GAAG,OACvD,wBAAqBnmB,MAAK,UAAKmmB,EAAIzd,OAAT,cAAqByd,EAAI3e,KAAzB,cAAmC2e,EAAIlkB,KAApDkkB,EAAIlkB,SAEzB,uBAAOmmC,KAAK,WAAWC,SAA8C,KAApC,UAAAhR,EAAiBsB,cAAjB,eAAyBvsB,QAAczM,YAAY,kEAAgBjB,UAAU,2BAA2B+J,SAAU4uB,EAAiB8B,cAAgB9B,EAAiB+B,cACjMp5B,OAAO,UAAAq3B,EAAiBlR,WAAjB,eAAsB/kB,MAAM,OAAO,KAAM,GAAIxB,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiBtI,OAAOlvB,EAAEE,OAAOC,oBAI9Iq3B,EAAiB5sB,SAASwtB,WAAa,qBAAK53B,MAAO,CAAEiC,UAAW,UAAzB,ieACvC+0B,EAAiBgC,UAAYhC,EAAiB8B,cAAgB9B,EAAiB+B,gBAAkB,sBAAK/4B,MAAO,CAAEiC,UAAW,UAAzB,kFAAoD+0B,EAAiBgC,SAAY,4BAAahC,EAAiB8B,cAAgB,+CAAe9B,EAAiB+B,eAAiB,2BAAhL,gJAAwN/B,EAAiBgC,SAAY,6EAAsBhC,EAAiB8B,cAAgB,8DAAoB9B,EAAiB+B,eAAiB,6EAAlW,mOACnG,sBAAK/4B,MAAO,CAAEC,QAAS,OAAQC,eAAgB,eAAgB2C,WAAY,SAAU1C,UAAW,QAAhG,UACI,0BAAUH,MAAO,CAAEioC,OAAQ,OAAQ/lC,MAAO,MAAOJ,OAAQ,QAAUxC,YAAY,oDAAYK,MAAOq3B,EAAiB5qB,SAAW,GAAI7M,SAAU,SAAAC,GAAC,OAAKw3B,EAAiBj3B,QAAUi3B,EAAiB6C,WAAWr6B,EAAEE,OAAOC,UAGlN,sBAAKtB,UAAU,mCAAf,UACI,qBAAKA,UAAU,+BAA+B2B,MAAO,CAAEmI,WAAY,UAAnE,+DACA,qBAAK9J,UAAU,+BAA+B2B,MAAO,CAAEG,UAAW,QAAUS,QAAS,kBAAOo2B,EAAiBj3B,QAAUi3B,EAAiB2D,aAAxI,4CAGP3D,EAAiBj3B,QAAU,qBAAK1B,UAAU,wBAAf,SAAwC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,iCC5C3FzC,eAAO,YAAPA,CAAoBC,aApGf,SAACC,GACjB,IAAQg5B,EAAqBh5B,EAAMI,UAA3B44B,iBAERzwB,qBAAU,WAQN,OAPAywB,EAAiBlY,mBACjBkY,EAAiB5C,sBACjB4C,EAAiBjY,wBACjBiY,EAAiByD,eACjBzD,EAAiBL,iBACjBK,EAAiB0D,gBAEV,WACH1D,EAAiBzmB,cAAc,GAAI,OAGxC,IAEH,IAAMY,EAAe,SAACC,EAAY5R,IAC5Bw3B,EAAiBC,gBAAiC,IAAf7lB,GAAsB4lB,EAAiBE,mBAAoC,IAAf9lB,IAC7F4lB,EAAiB1lB,eAAeF,EAAY5R,EAAEE,OAAOC,QAGvDuoC,EAAuB,SAAC1oC,EAAGqE,GAC7BrE,GAAKqE,EAAWmzB,EAAiBQ,qBAAqBh4B,EAAEE,OAAOc,QAASqD,GACpE8G,OAAOC,KAAKosB,EAAiBK,gBAAgBh2B,KAAI,SAAA0O,GAAG,OAAIinB,EAAiBQ,sBAAqB,EAAMznB,OAG5G,OACI,eAAC,EAAD,CAAW9O,MAAM,8GAAyBkB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAArH,UACI,sBAAKF,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAU2C,WAAY,SAAU1C,UAAW,QAA1F,UACI,qBAAKH,MAAO,CAAE0B,WAAY,OAAQiG,WAAY,UAA9C,4EACA,uBAAOtI,KAAK,OAAOM,MAAOq3B,EAAiB5zB,SAAUpD,MAAO,CAAE8C,SAAU,MAAOpB,WAAY,QAAUnC,SAAU,SAAAC,GAAC,OAAIw3B,EAAiBzmB,cAAc/Q,EAAEE,OAAOC,UAC5J,uBAAON,KAAK,OAAOM,MAAOq3B,EAAiB1zB,OAAQtD,MAAO,CAAE8C,SAAU,MAAOpB,WAAY,QAAUnC,SAAU,SAAAC,GAAC,OAAIw3B,EAAiBzmB,cAAc,KAAM/Q,EAAEE,OAAOC,UAChK,qBAAKK,MAAO,CAAEO,MAAO,OAAQiD,eAAgB,YAAaC,OAAQ,UAAW/B,WAAY,QAAUd,QAAS,kBAAMo2B,EAAiBzmB,cAAc,GAAI,KAArJ,gCACA,sBAAKlS,UAAU,SAASuC,QAAS,kBAAMo2B,EAAiBE,mBAAqBF,EAAiB5C,uBAC1Fp0B,MAAO,CAAEC,QAAS,OAAQ4S,QAAS,aADvC,UAEI,cAAC,IAAD,CAAU7S,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,uCAMJ,sBAAK9S,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAU2C,WAAY,SAAU1C,UAAW,QAA1F,UACI,wBAAOH,MAAO,CAAEyD,OAAQ,WAAxB,UACI,uBAAOpF,UAAU,8BAA8BgB,KAAK,WAChDmB,QAASw2B,EAAiBK,eAAeC,OAAQ/3B,SAAU,SAAAC,GAAC,OAAI0oC,EAAqB1oC,EAAG,aAFhG,mEAKA,wBAAOQ,MAAO,CAAEyD,OAAQ,UAAWzC,YAAa,QAAhD,UACI,uBAAO3C,UAAU,8BAA8BgB,KAAK,WAChDmB,QAASw2B,EAAiBK,eAAeE,SAAUh4B,SAAU,SAAAC,GAAC,OAAI0oC,EAAqB1oC,EAAG,eAFlG,gFAKA,qBAAKQ,MAAO,CAAEO,MAAO,OAAQiD,eAAgB,YAAaC,OAAQ,UAAWzC,YAAa,QAAUJ,QAASsnC,EAA7G,sDAEJ,sBAAK7pC,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OACX7M,OAAQk1B,EAAiB3jB,gBAAkB2jB,EAAiB1jB,iBAAmB0jB,EAAiB3jB,gBAAkB2jB,EAAiB1jB,kBAFvI,UAII,sBAAKtT,MAAO,CAAE8B,OAAQk1B,EAAiBI,sBAAsBrrB,OAAS,IAAM,cAAe/K,YAAa,mBAAxG,UACI,sBAAK3C,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOq3B,EAAiBxjB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAC/E,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,0DAAc,2BAAQ,iCAAS,6CAAW,+DAAc,2BAAQ,iCAAS,gEAAe,4BACpG7L,KAAMw0B,EAAiBI,sBACvBnoB,mBAAoB+nB,EAAiBljB,wBACrC9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0BowB,EAAiBE,mBAAqBF,EAAiBjjB,2BAA2BvT,EAASkH,EAAOd,IACtJ5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIk1B,EAAiB/iB,oBAAoBnS,IAC5DsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QANjF,UAOI,qBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,SACI,qBAAK9U,UAAS,iDAAuF,gBAA3C24B,EAAiBtjB,uBAA2C,eAAiB9S,QAAS,SAAApB,KAAhJ,0DAGJ,qBAAKnB,UAAU,6BAAf,sEACE24B,EAAiBC,gBAAkB,qBAAK54B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAG5G,sBAAKP,MAAO,CAAE8B,OAAQk1B,EAAiBG,qBAAqBprB,OAAS,IAAM,eAA3E,UACI,sBAAK1N,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOq3B,EAAiB5iB,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAC9E,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,cAAC,EAAD,CAAOzE,OAAQ,CAAC,iCAAS,wCAAW,2BAAQ,2BAAQ,uCAAU,iCAAS,qDACnE7L,KAAMw0B,EAAiBG,qBACvB9nB,SAAU,CAAC,4BACXjF,SAAU,SAAAxD,GAAI,OAAIowB,EAAiB4C,YAAYhzB,IAC/C5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIk1B,EAAiBtiB,mBAAmB5S,IAC3DsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QANjF,UAOMk1B,EAAiBE,mBAAqB,qBAAK74B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,gCAIlHy2B,EAAiB5sB,UAAY,cAAC,GAAD,WC/FpCuK,GAAeC,EAAQ,IAiLd9W,eAAO,YAAPA,CAAoBC,aA/KX,SAACC,GAAW,IAAD,IAEvBo9B,EAAyBp9B,EAAMI,UAA/Bg9B,qBACR,EAAsC52B,mBAASsQ,OAAOC,YAAtD,mBAAOC,EAAP,KAAoBC,EAApB,KAEA1O,qBAAU,WACN60B,EAAqBkB,8BAA8B59B,MAAK,kBAAM+R,OAAkB/R,MAAK,kBAAMgS,OAE3FoE,OAAOO,SAAW,SAAC7V,GACfyV,EAAezV,EAAEE,OAAOqV,eAG7B,IAEHxO,qBAAU,WACN60B,EAAqBzqB,yBAEtB,CAACyqB,EAAqBE,2BAEzB,IAIM7qB,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAU46B,EAAqBpqB,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALtImqB,EAAqBa,gCAAgC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YACzFnrB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAarF2Q,EAAe,SAACC,EAAY5R,GAC9B47B,EAAqBC,oBAAsBD,EAAqB9pB,eAAeF,EAAY5R,EAAEE,OAAOC,QAGlG4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5C4pB,EAAqBC,qBACrBvqB,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9BwpB,EAAqBvpB,oBAAoBT,EAAY9P,KAIvDoP,EAAyB,WAC3B0qB,EAAqBiB,6BAA6BjB,EAAqBK,+BAMrE9lB,EAAc,SAACC,GACjBwlB,EAAqBvlB,WAAWD,GAC3BlX,MAAK,SAAAC,GACF,GAAIA,EAAImX,GAAI,CACR,IAAMzH,EAAS1P,EAAI6Q,QAAQuG,IAAI,uBAC/B,GAAI1H,EAAQ,CACRqC,IACA,IAAMsF,EAAW3H,EAAO/G,MAAM+G,EAAO4H,QAAQ,aAAe,EAAG5H,EAAOtC,OAAS,GAC/EpN,EAAIuX,OAAOxX,MAAK,SAAAyX,GAAI,OAAIxB,GAAawB,EAAMH,YAM/D,OACI,eAAC,EAAD,CAAW/U,MAAM,0DAAakB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAzG,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAuBmE,KAAM44B,EAAqBI,uBAC9Cj8B,SAzDO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvEo3B,EAAqBa,gCAAgCtpB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,MAyD/Fo3B,EAAqBI,uBAAuBzvB,OAAS,GAAK,sBAAK1N,UAAU,2CAAf,UACvD,sBAAKA,UAAU,0CAAf,UACI,uBAAOgB,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyC2B,MAAO,CAAEoE,OAAQ,WAAaxD,QA9CjH,WACrBw6B,EAAqBa,gCAAgC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cACzFnrB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QA6CnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS8P,EAC7B1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,yCAOR,sBAAKzU,UAAU,0CAA0C2B,MAAO,CAAEgB,YAAa,QAA/E,UACI,uBAAO3B,KAAK,SAASM,MAAM,8CAAWtB,UAAU,yCAAyCuC,QAAS,kBAAM+U,OACxG,uBAAOtW,KAAK,SAASM,MAAM,gEAActB,UAAU,yCAAyCuC,QAAS,kBAAM+U,GAAY,eAInI,sBAAKtX,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OAAQ7L,SAAUkS,GAAe,KAAO,SAAW,QAC9DlT,OAAQs5B,EAAqB/nB,gBAAkB+nB,EAAqB9nB,iBAAmB8nB,EAAqB/nB,gBAAkB+nB,EAAqB9nB,kBAFvJ,UAII,sBAAKtT,MAAO,CAAE8B,OAAQs5B,EAAqBG,0BAA0BxvB,OAAS,IAAM,cAAe/K,YAAa,mBAAhH,UACI,sBAAK3C,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOy7B,EAAqB5nB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACnF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,eAAM,sEAAgB,0DAAc,2DAChD3F,YAAU,EACVlG,KAAM44B,EAAqBG,0BAC3B/yB,cAAe4yB,EAAqBvnB,mBACpC5E,mBAAoBmsB,EAAqBtnB,wBACzC9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBrnB,2BAA2BvT,EAASkH,EAAOd,IACpH+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBzyB,eAAenI,EAASoG,EAAM,IAC7F4D,oBAAqB,SAACgM,EAAe5P,GAAhB,OAAyBw0B,EAAqB5wB,oBAAoBgM,EAAe5P,EAAM,IAC5G8D,eAAc,UAAE0wB,EAAqB3kB,oBAAvB,aAAE,EAAmC4f,uBACnDvrB,QAAM,EACNE,gBAAiB,SAAC7D,EAAMP,GAAP,OAAgBw0B,EAAqBpwB,gBAAgB7D,EAAMP,EAAM,IAClFsE,eAAgB,SAAC/D,EAAMP,GAAP,OAAgBw0B,EAAqBlwB,eAAe/D,EAAMP,EAAM,IAChFqD,UAAW,SAAC0M,EAAK/P,GAAN,OAAew0B,EAAqBxkB,eAAeD,EAAK/P,EAAM,IACzE+G,OAAQ,SAAC/G,GAAD,OAAUw0B,EAAqBztB,OAAO/G,EAAM,IACpD5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIs5B,EAAqBnnB,oBAAoBnS,IAChEsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QAjBvE,UAoBI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAA+E,gBAA/C+8B,EAAqB1nB,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAAzL,kDACA,qBAAKnB,UAAS,qCAA+E,sBAA/C+8B,EAAqB1nB,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAArM,4CACA,qBAAKnB,UAAS,qCAA+E,YAA/C+8B,EAAqB1nB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAjL,wDACA,qBAAKnB,UAAS,qCAA+E,YAA/C+8B,EAAqB1nB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAjL,qDAEJ,qBAAKnB,UAAU,6BAAf,sEACE+8B,EAAqBC,oBAAsB,qBAAKh9B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGpH,sBAAKP,MAAO,CAAE8B,OAAQs5B,EAAqBE,yBAAyBvvB,OAAS,IAAM,cAAerK,WAAY,OAA9G,UACI,sBAAKrD,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOy7B,EAAqBhnB,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAClF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,2BAAQ,kCAAU,2BAAQ,0DAAc,oDAAa,sEAAgB,2DACjF7L,KAAM44B,EAAqBE,yBAC3BxtB,YAAa,CAAC,mCAEdnF,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBzyB,eAAenI,EAASoG,EAAM,EAAGc,IAEhG8C,oBAAqB,SAACgM,EAAe5P,EAAMc,GAAtB,OAAgC0zB,EAAqB5wB,oBAAoBgM,EAAe5P,EAAM,EAAGc,IACtHgD,eAAc,UAAE0wB,EAAqB3kB,oBAAvB,aAAE,EAAmC4f,uBACnDvrB,QAAM,EACNE,gBAAiB,SAAC7D,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBpwB,gBAAgB7D,EAAMP,EAAM,EAAGc,IAC5FwD,eAAgB,SAAC/D,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBlwB,eAAe/D,EAAMP,EAAM,EAAGc,IAC1FuC,UAAW,SAAC0M,EAAK/P,EAAMc,GAAZ,OAAsB0zB,EAAqBxkB,eAAeD,EAAK/P,EAAM,EAAGc,IACnFiG,OAAQ,SAAC/G,GAAD,OAAUw0B,EAAqBztB,OAAO/G,EAAM,IACpD8E,YAAa0vB,EAAqB1vB,YAClCD,oBAAqB,SAACtE,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqB3vB,oBAAoBtE,EAAMP,EAAM,EAAGc,IACpGkE,yBAA0B,SAACzE,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBxvB,yBAAyBzE,EAAMP,EAAM,EAAGc,IAC9GmE,iBAAkBuvB,EAAqBvvB,iBACvC7L,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIs5B,EAAqB1mB,mBAAmB5S,IAC/DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QApBvE,UAuBI,qBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEsP,MAAO,QAAhE,SACI,qBAAKjR,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,YAAa,EAAG,+BAA/G,oFAEF47B,EAAqBC,oBAAsB,qBAAKh9B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,wCCmBrHzC,eAAO,YAAPA,CAAoBC,aA3LT,SAACC,GAEvB,IAAQu+B,EAA2Bv+B,EAAMI,UAAjCm+B,uBACR,EAAsC/3B,oBAAS,GAA/C,mBAAOiK,EAAP,KAAoB05B,EAApB,KACA,EAAwC3jC,mBAAS+3B,EAAuBE,4BAAxE,mBAAO2L,EAAP,KAAqBC,EAArB,KAEA/lC,QAAQC,IAAIg6B,EAAuBE,4BAEnCl2B,qBAAU,WACNg2B,EAAuBmB,gCAClBh/B,MAAK,WACF,IAAM0E,EAAQ,WAAM,IAAIgE,MAAOkJ,cAAjB,UACRhN,EAAM,WAAM,IAAI8D,MAAOC,cAAcC,MAAM,EAAG,KACpDi1B,EAAuBhsB,cAAcnN,EAAUE,GAC/Ci5B,EAAuBc,sCAAsCj6B,EAASrC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,GACtG+0B,EAAuBc,sCAAsC/5B,EAAOvC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,MAEvG9I,MAAK,kBAAM+R,OACX/R,MAAK,kBAAMgS,SAEjB,IAEHnK,qBAAU,WACNg2B,EAAuB5rB,yBAExB,CAAC4rB,EAAuB3rB,oBAE3B,IAIMH,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAU+7B,EAAuBvrB,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALxIsrB,EAAuBa,kCAAkC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YAC7FtsB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAgCrF2Q,EAAe,SAACC,EAAY5R,GAC9B+8B,EAAuBC,sBAAwBD,EAAuBjrB,eAAeF,EAAY5R,EAAEE,OAAOC,QAGxG4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5C+qB,EAAuBC,uBACvB1rB,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9B2qB,EAAuB1qB,oBAAoBT,EAAY9P,KAIzDoP,EAAyB,WAC3B,IAAIoB,EAAOyqB,EAAuBK,+BAQlC9qB,EAAK+qB,WAAL,sBAAsB/qB,EAAK+qB,WAAWl5B,QAAO,SAAAnB,GAAI,MAAkB,eAAdA,EAAKrB,SAA1D,YACGo7B,EAAuBO,mCAAmCD,WAAWx7B,KAAI,SAAA8Q,GAAO,OAPjE3P,EAO8E2P,GANvF3R,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,iBAAuE,IAAI4G,MAAOkJ,cAAlF,UAClB9N,EAAKhC,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,WAAiE,IAAI4G,MAAOC,cAAcC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAjI,UACXhF,EAHM,IAACA,OAQjBtD,eAAe2R,QAAQ,UAA0E3R,eAAesT,WAAW,UAAxF+pB,EAAuBkB,+BAA+B3rB,IAa9F,OAHAxP,QAAQC,IAAI6lC,GACZ9lC,QAAQC,IAAIg6B,EAAuBE,4BAG/B,eAAC,EAAD,CAAWx7B,MAAM,uHAAwBkB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAApH,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAsBmE,KAAM+5B,EAAuBI,yBAC/Cp9B,SA/EO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvEu4B,EAAuBa,kCAAkCzqB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,IA+EhGjB,iBA5DiB,SAACC,GAC9Bu5B,EAAuBe,8CAA8Ct6B,EAAOjC,MAAM,OA4DtEqC,SAAUm5B,EAAuBn5B,SACjCE,OAAQi5B,EAAuBj5B,OAC/BD,WA3De,SAAC8D,GAC5Bo1B,EAAuBhsB,cAAcpJ,GACrCo1B,EAAuBc,sCAAsCl2B,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IA0DtFjE,SAvDa,SAAC4D,GAC1Bo1B,EAAuBhsB,cAAc,KAAMpJ,GAC3Co1B,EAAuBc,sCAAsCl2B,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IAsDtF9D,UAnDQ,WACpB64B,EAAuBhsB,cAAc,GAAI,IACzCgsB,EAAuBc,sCAAsC,KAAM,KAAM,YAkDhEd,EAAuBI,yBAAyB5wB,OAAS,GAAK,qBAAK1N,UAAU,2CAAf,SAC3D,sBAAKA,UAAU,0CAA0C2B,MAAO,CAAE6D,SAAU,YAA5E,UACI,uBAAOxE,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QA1EnF,WACrB27B,EAAuBa,kCAAkC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cAC7FtsB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QAyEnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS,kBAAM27B,EAAuBC,sBAAwB9rB,KAClF1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,8CAShB,sBAAKzU,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OACX7M,OAAQy6B,EAAuBlpB,gBAAkBkpB,EAAuBjpB,iBAAmBipB,EAAuBlpB,gBAAkBkpB,EAAuBjpB,kBAF/J,UAII,sBAAKtT,MAAO,CAAE8B,OAAQy6B,EAAuBG,4BAA4B3wB,OAAS,IAAM,cAAe/K,YAAa,mBAApH,UACI,qBAAKhB,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,SACI,sBAAK/B,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,OAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAO48B,EAAuB/oB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACrF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,eAG3E,eAAC,EAAD,CAAOzE,OAAQ,CAAC,eAAM,sEAAgB,2DAClC3F,YAAU,EACVlG,KAAM+5B,EAAuBG,4BAC7Bl0B,cAAe+zB,EAAuB1oB,mBACtC5E,mBAAoBstB,EAAuBzoB,wBAC3C9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBC,sBAAwBD,EAAuBxoB,2BAA2BvT,EAASkH,EAAOd,IACrK+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBvoB,sBAAsBxT,EAASkH,EAAOd,IACvG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIy6B,EAAuBtoB,oBAAoBnS,IAClEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QATjF,UAUI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAAiF,gBAAjDk+B,EAAuB7oB,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAA3L,kDACA,qBAAKnB,UAAS,qCAAiF,sBAAjDk+B,EAAuB7oB,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAAvM,4CACA,qBAAKnB,UAAS,qCAAiF,YAAjDk+B,EAAuB7oB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAnL,wDACA,qBAAKnB,UAAS,qCAAiF,YAAjDk+B,EAAuB7oB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAnL,sDAEF+8B,EAAuBC,sBAAwB,qBAAKn+B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGxH,sBAAKP,MAAO,CAAE8B,OAAQy6B,EAAuBE,2BAA2B1wB,OAAS,IAAM,cAAerK,WAAY,OAAlH,UACI,sBAAK1B,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,UACI,uBAAOf,KAAK,SAASM,MAAM,qGAAqBK,MAAO,CAAEgB,YAAa,OAASJ,QAAS,kBAAIunC,GAAgB,MAC5G,sBAAK9pC,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,OAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAO48B,EAAuBnoB,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACpF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,gBAG3E,cAAC,EAAD,CAAOzE,OAAQ,CAAC,kCAAU,2BAAQ,gEAAe,iCAAS,sEAAgB,2BAAQ,iCAAS,0DAAc,oDAAa,gEAAe,8EAAmB,gEAAe,+FAAqB,yFAAoB,iEAC5MvD,QAAM,EACNgD,YAAa,CAAC,4BACdlD,KAAM,CAAC,YAAa,WAAY,cAAe,UAAW,4BAA6B,SAAU,iBAAkB,qBAAsB,sBAAuB,oBAAqB,uBAAwB,UAAW,2BAA4B,6BAA8B,oBAClR6D,aAAcA,EACdM,WAhFuB,SAACu5B,GACxChmC,QAAQC,IAAI+lC,GACZD,EAAiBC,GACjBH,GAAgB,IA8EA3lC,KAAM+5B,EAAuBE,2BAC7Bj0B,cAAe+zB,EAAuB3rB,kBACtCjI,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBhoB,qBAAqB/T,EAASkH,EAAOd,IACtG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIy6B,EAAuB7nB,mBAAmB5S,IACjEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QAXjF,UAYMy6B,EAAuBC,sBAAwB,qBAAKn+B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,uCCpLlIoU,GAAeC,EAAQ,IAwLd9W,eAAO,YAAPA,CAAoBC,aAtLZ,SAACC,GAAW,IAAD,IAEtBo9B,EAAyBp9B,EAAMI,UAA/Bg9B,qBACR,EAAsC52B,mBAASsQ,OAAOC,YAAtD,mBAAOC,EAAP,KAAoBC,EAApB,KAEA1O,qBAAU,WACN60B,EAAqBkB,8BAA8B59B,MAAK,kBAAM+R,OAAkB/R,MAAK,kBAAMgS,OAE3FoE,OAAOO,SAAW,SAAC7V,GACfyV,EAAezV,EAAEE,OAAOqV,eAG7B,IAEHxO,qBAAU,WACN60B,EAAqBzqB,yBAEtB,CAACyqB,EAAqBE,2BAEzB,IAIM7qB,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAU46B,EAAqBpqB,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALtImqB,EAAqBa,gCAAgC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YACzFnrB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAarF2Q,EAAe,SAACC,EAAY5R,GAC9B47B,EAAqBC,oBAAsBD,EAAqB9pB,eAAeF,EAAY5R,EAAEE,OAAOC,QAGlG4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5C4pB,EAAqBC,qBACrBvqB,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9BwpB,EAAqBvpB,oBAAoBT,EAAY9P,KAIvDoP,EAAyB,WAC3B0qB,EAAqBiB,6BAA6BjB,EAAqBK,+BAMrE9lB,EAAc,SAACC,GACjBwlB,EAAqBvlB,WAAWD,GAC3BlX,MAAK,SAAAC,GACF,GAAIA,EAAImX,GAAI,CACR,IAAMzH,EAAS1P,EAAI6Q,QAAQuG,IAAI,uBAC/B,GAAI1H,EAAQ,CACRqC,IACA,IAAMsF,EAAW3H,EAAO/G,MAAM+G,EAAO4H,QAAQ,aAAe,EAAG5H,EAAOtC,OAAS,GAC/EpN,EAAIuX,OAAOxX,MAAK,SAAAyX,GAAI,OAAIxB,GAAawB,EAAMH,YAM/D,OACI,eAAC,EAAD,CAAW/U,MAAM,0DAAakB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAzG,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAuBmE,KAAM44B,EAAqBI,uBAC9Cj8B,SAzDO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvEo3B,EAAqBa,gCAAgCtpB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,MAyD/Fo3B,EAAqBI,uBAAuBzvB,OAAS,GAAK,sBAAK1N,UAAU,2CAAf,UACvD,sBAAKA,UAAU,0CAAf,UACI,uBAAOgB,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyC2B,MAAO,CAAEoE,OAAQ,WAAaxD,QA9CjH,WACrBw6B,EAAqBa,gCAAgC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cACzFnrB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QA6CnE,qBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,sBAAK7D,UAAU,SAASuC,QAAS8P,EAC7B1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,sCAMJ,qBAAK9S,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,SACI,qBAAK7D,UAAU,SAASuC,QAAS8P,EAC7B1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,oEAMR,sBAAKzE,UAAU,0CAA0C2B,MAAO,CAAEgB,YAAa,QAA/E,UACI,uBAAO3B,KAAK,SAASM,MAAM,8CAAWtB,UAAU,yCAAyCuC,QAAS,kBAAM+U,OACxG,uBAAOtW,KAAK,SAASM,MAAM,gEAActB,UAAU,yCAAyCuC,QAAS,kBAAM+U,GAAY,eAInI,sBAAKtX,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OAAQ7L,SAAUkS,GAAe,KAAO,SAAW,QAC9DlT,OAAQs5B,EAAqB/nB,gBAAkB+nB,EAAqB9nB,iBAAmB8nB,EAAqB/nB,gBAAkB+nB,EAAqB9nB,kBAFvJ,UAII,sBAAKtT,MAAO,CAAE8B,OAAQs5B,EAAqBG,0BAA0BxvB,OAAS,IAAM,cAAe/K,YAAa,mBAAhH,UACI,sBAAK3C,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOy7B,EAAqB5nB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACnF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,eAAM,sEAAgB,0DAAc,2DAChD3F,YAAU,EACVlG,KAAM44B,EAAqBG,0BAC3B/yB,cAAe4yB,EAAqBvnB,mBACpC5E,mBAAoBmsB,EAAqBtnB,wBACzC9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBrnB,2BAA2BvT,EAASkH,EAAOd,IACpH+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBzyB,eAAenI,EAASoG,EAAM,IAC7F4D,oBAAqB,SAACgM,EAAe5P,GAAhB,OAAyBw0B,EAAqB5wB,oBAAoBgM,EAAe5P,EAAM,IAC5G8D,eAAc,UAAE0wB,EAAqB3kB,oBAAvB,aAAE,EAAmC4f,uBACnDvrB,QAAM,EACNE,gBAAiB,SAAC7D,EAAMP,GAAP,OAAgBw0B,EAAqBpwB,gBAAgB7D,EAAMP,EAAM,IAClFsE,eAAgB,SAAC/D,EAAMP,GAAP,OAAgBw0B,EAAqBlwB,eAAe/D,EAAMP,EAAM,IAChFqD,UAAW,SAAC0M,EAAK/P,GAAN,OAAew0B,EAAqBxkB,eAAeD,EAAK/P,EAAM,IACzE+G,OAAQ,SAAC/G,GAAD,OAAUw0B,EAAqBztB,OAAO/G,EAAM,IACpD5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIs5B,EAAqBnnB,oBAAoBnS,IAChEsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QAjBvE,UAoBI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAA+E,gBAA/C+8B,EAAqB1nB,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAAzL,kDACA,qBAAKnB,UAAS,qCAA+E,sBAA/C+8B,EAAqB1nB,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAArM,kDACA,qBAAKnB,UAAS,qCAA+E,YAA/C+8B,EAAqB1nB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAjL,+CAEJ,qBAAKnB,UAAU,6BAAf,sEACE+8B,EAAqBC,oBAAsB,qBAAKh9B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGpH,sBAAKP,MAAO,CAAE8B,OAAQs5B,EAAqBE,yBAAyBvvB,OAAS,IAAM,cAAerK,WAAY,OAA9G,UACI,sBAAKrD,UAAU,mCAAf,UACI,uBAAOA,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAOy7B,EAAqBhnB,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MAClF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,aAEvE,eAAC,EAAD,CAAOzE,OAAQ,CAAC,2BAAQ,kCAAU,2BAAQ,iCAAS,qBAAO,gEAAe,iCAAS,oDAAa,0DAAc,8CAAY,0DAAc,2DACnI7L,KAAM44B,EAAqBE,yBAC3BxtB,YAAa,CAAC,mCAEdnF,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0Bw0B,EAAqBzyB,eAAenI,EAASoG,EAAM,EAAGc,IAEhG8C,oBAAqB,SAACgM,EAAe5P,EAAMc,GAAtB,OAAgC0zB,EAAqB5wB,oBAAoBgM,EAAe5P,EAAM,EAAGc,IACtHgD,eAAc,UAAE0wB,EAAqB3kB,oBAAvB,aAAE,EAAmC4f,uBACnDvrB,QAAM,EACNE,gBAAiB,SAAC7D,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBpwB,gBAAgB7D,EAAMP,EAAM,EAAGc,IAC5FwD,eAAgB,SAAC/D,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBlwB,eAAe/D,EAAMP,EAAM,EAAGc,IAC1FuC,UAAW,SAAC0M,EAAK/P,EAAMc,GAAZ,OAAsB0zB,EAAqBxkB,eAAeD,EAAK/P,EAAM,EAAGc,IACnFiG,OAAQ,SAAC/G,GAAD,OAAUw0B,EAAqBztB,OAAO/G,EAAM,IACpD8E,YAAa0vB,EAAqB1vB,YAClCD,oBAAqB,SAACtE,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqB3vB,oBAAoBtE,EAAMP,EAAM,EAAGc,IACpGkE,yBAA0B,SAACzE,EAAMP,EAAMc,GAAb,OAAuB0zB,EAAqBxvB,yBAAyBzE,EAAMP,EAAM,EAAGc,IAC9GmE,iBAAkBuvB,EAAqBvvB,iBACvC7L,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIs5B,EAAqB1mB,mBAAmB5S,IAC/DsM,WAAY,CACRnO,QAAS,QAASiU,SAAU,OAAQnS,UAAW,OAAQD,OAAQ,QApBvE,UAuBI,sBAAKzD,UAAU,iCAAiC2B,MAAO,CAAEsP,MAAO,QAAhE,UACI,qBAAKjR,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,YAAa,EAAG,+BAA/G,wDACA,qBAAKnB,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,YAAa,EAAG,+BAA/G,kDACA,qBAAKnB,UAAU,wCAAwCuC,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,YAAa,EAAG,+BAA/G,gDAEF47B,EAAqBC,oBAAsB,qBAAKh9B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,wCCFrHzC,eAAO,YAAPA,CAAoBC,aA7KV,SAACC,GAEtB,IAAQu+B,EAA2Bv+B,EAAMI,UAAjCm+B,uBAERh2B,qBAAU,WACNg2B,EAAuBmB,gCAClBh/B,MAAK,WACF,IAAM0E,EAAQ,WAAM,IAAIgE,MAAOkJ,cAAjB,UACRhN,EAAM,WAAM,IAAI8D,MAAOC,cAAcC,MAAM,EAAG,KACpDi1B,EAAuBhsB,cAAcnN,EAAUE,GAC/Ci5B,EAAuBc,sCAAsCj6B,EAASrC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,GACtG+0B,EAAuBc,sCAAsC/5B,EAAOvC,MAAM,KAAKwG,UAAUC,KAAK,KAAM,MAEvG9I,MAAK,kBAAM+R,OACX/R,MAAK,kBAAMgS,SAEjB,IAEHnK,qBAAU,WACNg2B,EAAuB5rB,yBAExB,CAAC4rB,EAAuB3rB,oBAE3B,IAIMH,EAAiB,WACdvR,eAAe2R,QAAQ,UAKxBC,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAC/DA,EAAEgB,QAAU+7B,EAAuBvrB,eAAexR,EAAEyR,aAAa,eAAiB,GAAGzR,EAAEyR,aAAa,iBAAiBzR,EAAEyR,aAAa,uBALxIsrB,EAAuBa,kCAAkC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,YAC7FtsB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,OAgCrF2Q,EAAe,SAACC,EAAY5R,GAC9B+8B,EAAuBC,sBAAwBD,EAAuBjrB,eAAeF,EAAY5R,EAAEE,OAAOC,QAGxG4R,EAAyB,SAAC/R,EAAG8B,EAAK8P,EAAYI,GAC5C+qB,EAAuBC,uBACvB1rB,SAASC,iBAAiBS,GAAYxD,SAAQ,SAAAxO,GAAC,OAAIA,EAAEiS,UAAUC,OAAO,kBACtElS,EAAEmS,cAAcF,UAAUG,IAAI,eAC9B2qB,EAAuB1qB,oBAAoBT,EAAY9P,KAIzDoP,EAAyB,WAC3B,IAAIoB,EAAOyqB,EAAuBK,+BAQlC9qB,EAAK+qB,WAAL,sBAAsB/qB,EAAK+qB,WAAWl5B,QAAO,SAAAnB,GAAI,MAAkB,eAAdA,EAAKrB,SAA1D,YACGo7B,EAAuBO,mCAAmCD,WAAWx7B,KAAI,SAAA8Q,GAAO,OAPjE3P,EAO8E2P,GANvF3R,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,iBAAuE,IAAI4G,MAAOkJ,cAAlF,UAClB9N,EAAKhC,QAAQ,GAAKgC,EAAKhC,QAAQ,IAA0B,KAApBgC,EAAKhC,QAAQ,GAAYgC,EAAKhC,QAAQ,GAAzD,WAAiE,IAAI4G,MAAOC,cAAcC,MAAM,EAAG,IAAIvG,MAAM,KAAKwG,UAAUC,KAAK,KAAjI,UACXhF,EAHM,IAACA,OAQjBtD,eAAe2R,QAAQ,UAA0E3R,eAAesT,WAAW,UAAxF+pB,EAAuBkB,+BAA+B3rB,IAG9F,OACI,eAAC,EAAD,CAAW7Q,MAAM,sEAAekB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAA3G,UACI,sBAAK7B,UAAU,gCAAf,UACI,cAAC,EAAD,CAAsBmE,KAAM+5B,EAAuBI,yBAC/Cp9B,SArEO,SAACoT,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,GACvEu4B,EAAuBa,kCAAkCzqB,EAAWxR,EAAMX,EAASkC,EAAYkB,EAAaI,IAqEhGjB,iBAlDiB,SAACC,GAC9Bu5B,EAAuBe,8CAA8Ct6B,EAAOjC,MAAM,OAkDtEqC,SAAUm5B,EAAuBn5B,SACjCE,OAAQi5B,EAAuBj5B,OAC/BD,WAjDe,SAAC8D,GAC5Bo1B,EAAuBhsB,cAAcpJ,GACrCo1B,EAAuBc,sCAAsCl2B,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IAgDtFjE,SA7Ca,SAAC4D,GAC1Bo1B,EAAuBhsB,cAAc,KAAMpJ,GAC3Co1B,EAAuBc,sCAAsCl2B,EAAKpG,MAAM,KAAKwG,UAAUC,KAAK,KAAM,IA4CtF9D,UAzCQ,WACpB64B,EAAuBhsB,cAAc,GAAI,IACzCgsB,EAAuBc,sCAAsC,KAAM,KAAM,YAwChEd,EAAuBI,yBAAyB5wB,OAAS,GAAK,qBAAK1N,UAAU,2CAAf,SAC3D,sBAAKA,UAAU,0CAA0C2B,MAAO,CAAE6D,SAAU,YAA5E,UACI,uBAAOxE,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAAS6P,IACjG,uBAAOpR,KAAK,SAASM,MAAM,wCAAUtB,UAAU,yCAAyCuC,QAhEnF,WACrB27B,EAAuBa,kCAAkC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,cAC7FtsB,SAASC,iBAAiB,gCAAgC/C,SAAQ,SAAAxO,GAAC,OAAIA,EAAEgB,SAAU,QA+DnE,sBAAKR,MAAO,CAAE6D,SAAU,WAAY5D,QAAS,OAAQ4C,WAAY,SAAU3C,eAAgB,SAAUgC,MAAO,OAA5G,UACI,sBAAK7D,UAAU,SAASuC,QAAS,kBAAM27B,EAAuBC,sBAAwB9rB,KAClF1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,UAEI,cAAC,IAAD,CAAU9C,MAAO,CAAE0B,WAAY,OAASpB,KAAK,MAAMwS,KAAK,UAF5D,oCAKA,qBAAKzU,UAAU,SAASuC,QAAS,kBAAM27B,EAAuBC,sBAAwB9rB,KAClF1Q,MAAO,CAAEC,QAAS,OAAQiC,MAAO,OAAQ2Q,QAAS,YAAa/P,SAAU,SAD7E,0EAQhB,sBAAKzE,UAAU,+BAA+B2B,MAAO,CACjD2O,UAAW,OACX7M,OAAQy6B,EAAuBlpB,gBAAkBkpB,EAAuBjpB,iBAAmBipB,EAAuBlpB,gBAAkBkpB,EAAuBjpB,kBAF/J,UAII,sBAAKtT,MAAO,CAAE8B,OAAQy6B,EAAuBG,4BAA4B3wB,OAAS,IAAM,cAAe/K,YAAa,kBAAmBe,UAAW,QAAlJ,UACI,qBAAK/B,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,SACI,sBAAK/B,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,QAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAO48B,EAAuB/oB,iBAAkBjU,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACrF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,eAG3E,eAAC,EAAD,CAAOzE,OAAQ,CAAC,eAAM,2DAClB3F,YAAU,EACVlG,KAAM+5B,EAAuBG,4BAC7Bl0B,cAAe+zB,EAAuB1oB,mBACtC5E,mBAAoBstB,EAAuBzoB,wBAC3C9E,yBAA0B,SAACxO,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBC,sBAAwBD,EAAuBxoB,2BAA2BvT,EAASkH,EAAOd,IACrK+B,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBvoB,sBAAsBxT,EAASkH,EAAOd,IACvG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIy6B,EAAuBtoB,oBAAoBnS,IAClEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQpS,OAAQ,OAAQC,UAAW,QATjF,UAUI,sBAAK1D,UAAU,iCAAiC2B,MAAO,CAAEmT,KAAM,QAA/D,UACI,qBAAK9U,UAAS,qCAAiF,gBAAjDk+B,EAAuB7oB,uBAA2C,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,cAAe,EAAG,gCAA3L,kDACA,qBAAKnB,UAAS,qCAAiF,sBAAjDk+B,EAAuB7oB,uBAAiD,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,oBAAqB,EAAG,gCAAvM,kDACA,qBAAKnB,UAAS,qCAAiF,YAAjDk+B,EAAuB7oB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAnL,4CACA,qBAAKnB,UAAS,qCAAiF,YAAjDk+B,EAAuB7oB,uBAAuC,eAAiB9S,QAAS,SAAApB,GAAC,OAAI+R,EAAuB/R,EAAG,UAAW,EAAG,gCAAnL,oCAEF+8B,EAAuBC,sBAAwB,qBAAKn+B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,8BAGxH,sBAAKP,MAAO,CAAE8B,OAAQy6B,EAAuBE,2BAA2B1wB,OAAS,IAAM,cAAerK,WAAY,MAAOK,UAAW,QAApI,UACI,qBAAK/B,MAAO,CAAEC,QAAS,OAAQ4C,WAAY,SAAUzC,aAAc,QAAnE,SACI,sBAAK/B,UAAU,mCAAmC2B,MAAO,CAAEkC,MAAO,OAAlE,UACI,uBAAO7D,UAAU,gCAAgCgB,KAAK,OAAOC,YAAY,iCACrEK,MAAO48B,EAAuBnoB,gBAAiB7U,SAAU,SAACC,GAAD,OAAO2R,EAAa,EAAG3R,MACpF,cAAC,IAAD,CAAUnB,UAAU,+BAA+BiC,KAAK,MAAMwS,KAAK,eAG3E,cAAC,EAAD,CAAOzE,OAAQ,CAAC,gEAAe,oDAAa,0DAAc,8CAAY,2BAAQ,kCAAU,2BAAQ,iCAAS,qBAAO,4BAAS,oDAAa,0DAAc,8CAAW,0DAAa,gEAAc,oDAAY,2DAClMvD,QAAM,EAENtI,KAAM+5B,EAAuBE,2BAC7Bj0B,cAAe+zB,EAAuB3rB,kBACtCjI,eAAgB,SAACnI,EAASkH,EAAOd,GAAjB,OAA0B21B,EAAuBhoB,qBAAqB/T,EAASkH,EAAOd,IACtG5G,MAAO,CAAE8B,OAAQ,oBACjB0E,YAAa,SAAA1E,GAAM,OAAIy6B,EAAuB7nB,mBAAmB5S,IACjEsM,WAAY,CAAEnO,QAAS,QAASiU,SAAU,OAAQpS,OAAQ,OAAQC,UAAW,QARjF,UASMw6B,EAAuBC,sBAAwB,qBAAKn+B,UAAU,yBAAf,SAAyC,cAACgC,EAAA,EAAD,CAAMC,KAAM,GAAIC,MAAM,uCCzKlIgoC,GAAS,CACX,CACIrlC,aAAc,gEACdtB,GAAI,wBAER,CACIsB,aAAc,4EACdtB,GAAI,yBAER,CACIsB,aAAc,wHACdtB,GAAI,qCAER,CACIsB,aAAc,sEACdtB,GAAI,sBAIN6W,GAAa,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQtW,EAAe,EAAfA,SAC1B,OAAO,sBAAKpC,MAAO,CAAEC,QAAS,OAAQG,aAAc,OAA7C,UACH,qBAAKJ,MAAO,CAAE0B,WAAY,OAA1B,SACKgX,EAAOrX,KAAI,SAACJ,EAAOyG,GAAR,OAAkB,sBAAiB1H,MAAO,CAAEG,UAAWuH,EAAQ,GAAK,OAAlD,UAA4DzG,EAA5D,MAAUyG,QAE3CtF,MAmJMtE,eAAO,YAAPA,CAAoBC,aA/If,SAACC,GACjB,MAA4BwG,mBAAS,GAArC,mBAAOgkC,EAAP,KAAeC,EAAf,KACA,EAA4CjkC,mBAAS,IAArD,mBAAOkkC,EAAP,KAAuBC,EAAvB,KACA,EAAkCnkC,mBAAS,IAA3C,mBAAOokC,EAAP,KAAkBC,EAAlB,KACA,EAAgCrkC,mBAAS,MAAzC,mBAAOskC,EAAP,KAAiBC,EAAjB,KACA,EAAkDvkC,mBAAS,IAA3D,mBAAOwkC,EAAP,KAA0BC,EAA1B,KACA,EAAsEzkC,mBAAS,GAA/E,mBAAO0kC,EAAP,UAGA3iC,qBAAU,cAEP,IAEH,IA2CM4iC,EAAkB,SAACp5B,EAAKpQ,GAC1B,IAAIypC,EAAgBR,EACpBQ,EAAcr5B,GAAOpQ,EACrBkpC,EAAaO,IAGXC,EAAgB,WAEd,IAAIC,EAAW,GACf3+B,OAAOC,KAAK89B,GAAgBrnC,KAAI,SAAA0O,GAAQu5B,EAASlqC,KAAKspC,EAAe34B,GAAK7M,iBAC1E+lC,EAAqBK,GAErB,IAAMC,EAAO5+B,OAAOC,KAAK89B,GAAgBrnC,KAAI,SAAA0O,GAEzC,OADAzN,QAAQC,IAAIwN,GACoB,UAA7B24B,EAAe34B,GAAK1Q,KAEf,gCACI,uBAAOW,MAAO,CAACyD,OAAQ,WAAvB,SACI,uBAAOpF,UAAW0R,EACX1Q,KAAMqpC,EAAe34B,GAAK1Q,KAC1BE,SAAU,SAAAC,GAAC,OAAI2pC,EAAgBp5B,EAAKvQ,EAAEE,OAAOC,QAC7CK,MAAO,CACHG,UAAW,MACX+B,MAAO,cACPJ,OAAQ,MACRgB,SAAU,MACV8L,QAAS,WATgBmB,GAYxC,0BAIQ24B,EAAe34B,GAAKygB,OACVnvB,KAAI,SAAAmoC,GAC1B,OACI,gCACI,uBAAOnrC,UAAWmrC,EACXroC,KAAMunC,EAAe34B,GACrB1Q,KAAK,QACLE,SAAU,SAAAC,GAAC,OAAI2pC,EAAgBp5B,EAAKvQ,EAAEE,OAAOC,UAEpD,uBAAOK,MAAO,CAACyD,OAAQ,WAAvB,SACK+lC,GADmCA,YAS5DT,EAAYQ,IAIpB,OACI,eAAC,EAAD,CAAWtoC,MAAM,oDAAYkB,cAAe,CAAElC,QAAS,OAAQ2C,cAAe,SAAU1C,eAAgB,UAAxG,UACI,sBAAKF,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAU2C,WAAY,SAAU1C,UAAW,QAA1F,UACI,qBAAKH,MAAO,CAAE0B,WAAY,OAAQiG,WAAY,UAA9C,0DACA,wBAAQ3H,MAAO,CAAEkC,MAAO,cAAeY,SAAU,OAASvD,SAAU,SAACC,GAAD,OAtGrD,SAACgpC,GACxBlmC,QAAQC,IAAIimC,GACZC,EAAUD,GAGVvuB,EAAA,kCAAqCuuB,IAChC9pC,MAAK,SAAAC,GACFgqC,EAAkBhqC,GAClB2D,QAAQC,IAAI,QAAU0N,KAAKC,UAAUvR,IACrC0qC,OAEHlwB,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,MA2FmDqwB,CAAmBjqC,EAAEE,OAAOC,QAAvG,SACK4oC,GAAQlnC,KAAI,SAAC2B,EAAQC,GAAT,OACT,wBAA0BtD,MAAOqD,EAAOpB,GAAxC,SAA6CoB,EAAOE,cAAvCD,WAIzB,qBAAKjD,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAU2C,WAAY,SAAU1C,UAAW,QAA1F,SACI,qBAAK9B,UAAU,gCAAgC2B,MAAO,CAAE4C,cAAe,SAAU1C,eAAgB,cAAjG,SACI,cAAC,GAAD,CAAYwY,OAAQswB,EAApB,SACI,qBAAKhpC,MAAO,CAAEC,QAAS,OAAQ2C,cAAe,UAA9C,SACI,iCACKkmC,EACAA,GACG,8BACI,wBAAQzpC,KAAK,SAASuB,QAtGrC,SAACrC,GAClBA,EAAMC,iBAENyb,EAAA,+BAAmCuuB,EAAnC,2CAA4EU,GAA+BN,GAAW,GACjHlqC,MAAK,SAACgrC,GAAD,OAAcA,EAASxzB,UAC5BxX,MAAK,SAACwX,GAEH,IAAMyC,EAAM7D,OAAO4sB,IAAIM,gBACnB,IAAIP,KAAK,CAACvrB,KAER0rB,EAAO9wB,SAAS+wB,cAAc,KACpCD,EAAKG,KAAOppB,EACZipB,EAAK+H,aACD,WADJ,UAEOnB,EAFP,SAMA13B,SAASgB,KAAKmwB,YAAYL,GAG1BA,EAAKM,QAGLN,EAAKgI,WAAWzH,YAAYP,MAE/BzoB,OAAM,SAAAC,GAAG,OAAI9W,QAAQ+W,MAAMD,OA4EA,uEClHzBywB,OAhCf,WACE,OACE,eAAC,IAAD,CAAeC,SAAS,IAAxB,UACE,cAAC,IAAD,CAAUztB,GAAG,WACyB,SAArCvd,aAAa+R,QAAQ,aAA0B3R,eAAeH,QAAQ,QAAS,SAC9EG,eAAe2R,QAAQ,UAAiD,SAArC/R,aAAa+R,QAAQ,aAA0B3R,eAAeH,QAAQ,QAAS,mBACnHG,eAAe2R,QAAQ,UAAY,cAAC,IAAD,CAAUwL,GAAE,UAAKnd,eAAe2R,QAAQ,UAAY,YACxF,eAAC,IAAD,WACE,cAAC,IAAD,CAAOk5B,KAAK,eAAezK,UAAW0K,KAEtC,cAAC,IAAD,CAAOD,KAAK,gBAAgBzK,UAAW2K,KAEvC,cAAC,IAAD,CAAOF,KAAK,uBAAuBzK,UAAW4K,IAE9C,cAAC,IAAD,CAAOH,KAAK,uCAAuCzK,UAAW6K,KAC9D,cAAC,IAAD,CAAOJ,KAAK,sBAAsBzK,UAAW8K,KAE7C,cAAC,IAAD,CAAOL,KAAK,sCAAsCzK,UAAW+K,KAC7D,cAAC,IAAD,CAAON,KAAK,sBAAsBzK,UAAWgL,KAE7C,cAAC,IAAD,CAAOP,KAAK,kCAAkCzK,UAAWiL,IACzD,cAAC,IAAD,CAAOR,KAAK,kCAAkCzK,UAAWkL,KACzD,cAAC,IAAD,CAAOT,KAAK,kBAAkBzK,UAAWmL,IAEzC,cAAC,IAAD,CAAOV,KAAK,gBAAgBzK,UAAWoL,KAEvC,cAAC,IAAD,CAAOX,KAAK,SAASzK,UAAWqL,WC/BpBC,QACW,cAA7B91B,OAAOjU,SAASgqC,UAEe,UAA7B/1B,OAAOjU,SAASgqC,UAEhB/1B,OAAOjU,SAASgqC,SAASC,MACvB,2DCTNzM,IAAS0M,OACP,cAAC,IAAD,CAAU3sC,UAAW0b,EAArB,SACE,cAAC,GAAD,MAEFhJ,SAASqtB,eAAe,SDsHpB,kBAAmB6M,WACrBA,UAAUC,cAAcC,MACrBxsC,MAAK,SAAAysC,GACJA,EAAaC,gBAEdjyB,OAAM,SAAAE,GACL/W,QAAQ+W,MAAMA,EAAMe,c","file":"static/js/main.57bd5509.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2limQ\",\"content\":\"Modal_content__6VWTD\",\"modal\":\"Modal_modal__9ZFov\",\"slide-down\":\"Modal_slide-down__3pKCh\"};","import React from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/login/Login.css';\r\n\r\nconst Login = (props) => {\r\n    const history = useHistory();\r\n\r\n    const { loginStore } = props.rootStore;\r\n\r\n    const HandleSubmit = (event) => {\r\n        event.preventDefault();\r\n        loginStore.login()\r\n            .then(res => {\r\n                loginStore.setLoader(false);\r\n                if (!res && res !== undefined) {\r\n                    localStorage.setItem('remember', loginStore.rememberMe);\r\n                    localStorage.setItem('userName', loginStore.userName);\r\n                    sessionStorage.setItem('login', 'true');\r\n                    sessionStorage.setItem('route', '/finance-report');\r\n                    loginStore.setErrorMessage('');\r\n                    history.push('/finance-report');\r\n                }\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className='loginPage' >\r\n            <div className='loginBorder'> {/** gradientBorderBox */}\r\n                <div className='loginBorderPosition' >\r\n                    {/* <img className='loginLogo' alt='Blyzer' src={require('../../assets/images/LOGO.png')} /> */}\r\n                    <div className='loginTitle' ></div>\r\n                    <form className='loginForm' onSubmit={HandleSubmit}>\r\n                        <input className='loginInput' type='text' placeholder=' ' onChange={(e) => loginStore.changeUserName(e.target.value)} />\r\n                        <input className='loginInput' type='password' placeholder='' onChange={(e) => loginStore.changePassword(e.target.value)} />\r\n                        <div className='loginErrorMessage'>\r\n                            {loginStore.errorMessage.includes('Incorrect') ? '    ' : loginStore.errorMessage}\r\n                        </div>\r\n                        {loginStore.loader && <div style={{ display: 'flex', justifyContent: 'center', marginTop: '-2em', marginBottom: '2em' }}><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                        <button className='loginSubmit disableTextSelectionHighlighting' ></button>\r\n                        <label className='loginInputCheckbox disableTextSelectionHighlighting' >\r\n                            <input type='checkbox' placeholder='remember' checked={loginStore.rememberMe} onChange={e => loginStore.changeRememberMe(e.target.checked)} />\r\n                             \r\n                        </label>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(Login));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { FaShoppingCart } from 'react-icons/fa';\r\nimport { MdArrowBack } from 'react-icons/md';\r\nimport '../../styles/containers/ContainerHeader.css';\r\n\r\nconst ContainerHeader = (props) => {\r\n    const history = useHistory();\r\n\r\n    const HandleGoBack = () => {\r\n        const location = history.location.pathname.split('/')[1];\r\n        sessionStorage.setItem('reload', 'true');\r\n        sessionStorage.setItem('route', `/${location}`);\r\n        history.push(location);\r\n    }\r\n\r\n    const HandleClickCart = () => {\r\n        sessionStorage.setItem('route', '/finance-report/payments-basket');\r\n        history.push('/finance-report/payments-basket')\r\n    }\r\n\r\n    return (\r\n        <div className='containerHeader'>\r\n            {props.goBack && <div className='containerHeaderGoBack' onClick={HandleGoBack} >\r\n                \r\n                <MdArrowBack size='1.5em' style={{ marginRight: '5px' }} />\r\n            </div>}\r\n            <div className='containerHeaderTitle' >\r\n                {props.title}\r\n            </div>\r\n            {/* {props.showCart &&  */}\r\n            {!history.location.pathname.includes('payments-basket') && <div className='containerHeaderCart' >\r\n                <FaShoppingCart size='2em' onClick={HandleClickCart} />\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nContainerHeader.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    // showCart: PropTypes.bool,\r\n    goBack: PropTypes.bool,\r\n}\r\n\r\nexport default ContainerHeader;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { GoPrimitiveDot } from \"react-icons/go\";\r\nimport '../../styles/containers/ContainerNavbar.css';\r\n\r\nconst ContainerNavbar = (props) => {\r\n    const history = useHistory();\r\n\r\n    const tabs = [\r\n        {\r\n            name: '\" ',\r\n            location: '/finance-report',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/finance-report/payments-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/periodic-reception',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/periodic-reception/reception-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/students-reception',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '  ',\r\n            location: '/students-reception/students-basket',\r\n            underTab: true,\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '\" ',\r\n            location: '/transactions-report',\r\n            // icon: require('../../assets/images/lab.png')\r\n        },\r\n        {\r\n            name: '  ',\r\n            location: '/import-data',\r\n            // icon: require('../../assets/images/heart.png')\r\n        },\r\n        {\r\n            name: '  -  ',\r\n            location: '/bank-account',\r\n            // icon: require('../../assets/images/heart.png')\r\n        },\r\n        {\r\n            name: ' ',\r\n            location: '/student-form',\r\n            // icon: require('../../assets/images/heart.png')\r\n        }\r\n    ]\r\n\r\n    const HandleChangePage = (tab) => {\r\n        if (history.location.pathname === tab.location)\r\n            history.replace(tab.location)\r\n        else {\r\n            sessionStorage.setItem('route', tab.location);\r\n            history.push(tab.location);\r\n        }\r\n    }\r\n\r\n    return (tabs.map(tab => <div key={tab.name} className='navbarTab'>\r\n        <div className='navbarTabName'\r\n            style={{\r\n                color: history.location.pathname.includes(tab.location) && '#3BB2DC', marginRight: tab.underTab && '10px',\r\n                minWidth: tab.underTab && '0'\r\n            }}\r\n            onClick={() => HandleChangePage(tab)} >\r\n            {tab.underTab && <GoPrimitiveDot size='0.8em' style={{ color: history.location.pathname.includes(tab.location) && '#3BB2DC', marginLeft: '3px' }} />}\r\n            {/* <img src={tab.icon} alt='' className={`navbarTabNameIcon ${history.location.pathname.includes(tab.location) && 'selectedNavbarTab'}`} /> */}\r\n            {tab.name}\r\n        </div>\r\n    </div>)\r\n    )\r\n}\r\n\r\nexport default ContainerNavbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ContainerHeader from './ContainerHeader';\r\nimport ContainerNavbar from './ContainerNavbar';\r\nimport '../../styles/containers/Container.css';\r\n\r\nconst Container = (props) => {\r\n    return (\r\n        <div id='containerPage' className='containerPage disableTextSelectionHighlighting' >\r\n            <div style={{ display: 'flex', direction: 'rtl' }}>\r\n                <div style={{ height: '100vh', minHeight: '100%', backgroundColor: '#c5c5c5' }} >\r\n                    <h3 style={{ textAlign: 'center' }}>School Manager</h3>\r\n                    <ContainerNavbar />\r\n                </div>\r\n                <div style={{ width: '100%', marginBottom: '10px' }}>\r\n                    <ContainerHeader title={props.title} goBack={props.goBack} />\r\n                    {/* showCart={props.showCart} */}\r\n                    <div style={props.childrenStyle}>\r\n                        {props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nContainer.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    // showCart: PropTypes.bool,\r\n    children: PropTypes.any.isRequired,\r\n    childrenStyle: PropTypes.any,\r\n    goBack: PropTypes.bool,\r\n}\r\n\r\nexport default Container;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst FinanceReportFilters = (props) => {\r\n    console.log(props.data);\r\n    return (\r\n        <div className='disableTextSelectionHighlighting financeReportFiltersContainer' >\r\n            {props.data.map((filters, titleIndex) => <React.Fragment key={filters.title}>\r\n                <div className='financeReportFiltersPosition' >\r\n                    <div className='financeReportFiltersTitle' >{filters.title}</div>\r\n                    {\r\n                        filters.title === '' ?\r\n                            <div style={{ display: 'flex', height: '70%' }}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-evenly', alignItems: 'center' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em' }} onChange={(e) => props.dateSelectOption(e.target.value)}>\r\n                                        {filters.filters.map((option, optionIndex) =>\r\n                                            <option key={optionIndex} value={[option.display_name, option.name, option.filter_key]}>{option.display_name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ fontSize: '1em' }} value={props.dateFrom} onChange={e => props.onDateFrom(e.target.value)} />\r\n                                    <input type='date' style={{ fontSize: '1em' }} value={props.dateTo} onChange={e => props.onDateTo(e.target.value)} />\r\n                                    <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer' }} onClick={() => props.cleanDate()}></div>\r\n                                </div>\r\n                            </div> :\r\n                            <div style={{ display: 'flex' }}>\r\n                                {filters.filters.map((filter, filterIndex) => <div key={filterIndex} className='checksDataContainer' style={{ position: 'relative', display: 'flex', flexDirection: 'column', marginRight: filterIndex > 0 && '1.5em' }}>\r\n                                    <div style={{ fontWeight: '500', textDecoration: 'underline' }}>{filter.display_name}</div>\r\n                                    {filter.checkboxes.map((value, checkboxIndex) => <div key={checkboxIndex}>\r\n                                        <label style={{ cursor: 'pointer' }}>\r\n                                            <input className='checkboxFinanceReportFilter' type='checkbox' title_index={titleIndex} filter_index={filterIndex}\r\n                                                checkbox_index={checkboxIndex} onChange={e => props.onChange(filters.name, filter.name, value, titleIndex, filterIndex, checkboxIndex)} />\r\n                                            {value}\r\n                                        </label>\r\n                                    </div>)}\r\n                                </div>)}\r\n                            </div>}\r\n                </div>\r\n                <hr style={{ margin: 'auto 1em', border: 'none', borderLeft: '1px dashed rgba(158 158 158 / 0.8)', height: '50%', width: '1px' }} />\r\n            </React.Fragment>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nFinanceReportFilters.propTypes = {\r\n    data: PropTypes.arrayOf(PropTypes.object),\r\n    onChange: PropTypes.func.isRequired,\r\n    dateSelectOption: PropTypes.func,\r\n    dateFrom: PropTypes.string,\r\n    dateTo: PropTypes.string,\r\n    onDateFrom: PropTypes.func,\r\n    onDateTo: PropTypes.func,\r\n    cleanDate: PropTypes.func,\r\n}\r\n\r\nexport default FinanceReportFilters;","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FiCheckSquare, FiMinusSquare, FiTrash2, FiPlusSquare } from 'react-icons/fi';\r\nimport '../styles/Table.css';\r\n\r\nconst Table = (props) => {\r\n    const [edit, setEdit] = useState(-1);\r\n    const [editText, setEditText] = useState('');\r\n    const [editTextTitle, setEditTextTitle] = useState('');\r\n    const [newData, setNewData] = useState({});\r\n    const [title, setTitle] = useState('');\r\n    const [inputType, setInputType] = useState('');\r\n\r\n    let incomeSum = 0;\r\n    let expanseSum = 0;\r\n    let balanceSum = 0;\r\n    let balanceTotalSum = 0;\r\n    let cashSum = 0;\r\n    let commitmentSum = 0;\r\n    let flowSum = 0;\r\n    let monthlyFlowSum = 0;\r\n    let lineOfCreditSum = 0;\r\n    let loanSum = 0;\r\n    let transactionAmountSum = 0;\r\n    let expenseSum = 0;\r\n    let expenseTotalSum = 0;\r\n    let periodicSum = 0;\r\n    let periodicTotalSum = 0;\r\n    let totalChargedAmountSum = 0;\r\n\r\n    const tableRef = useRef(null);\r\n\r\n    const regNumber = /^\\d+$/;\r\n\r\n    useEffect(() => {\r\n        props.tableHeight && tableRef.current && props.tableHeight(tableRef.current.scrollHeight);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [props.data])\r\n\r\n    const ShowWithMinus = (item, data) => {\r\n        return item && data && !isNaN(data) ? (data.toString().includes('-') ? `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}-` :\r\n            `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}`) : ''\r\n        // item ? (data < 0 ? `${Math.abs(data).toFixed(2)}-` : `${data}`) : '';\r\n    }\r\n\r\n    const convertIsoDate = (date) => {\r\n        return date && new Date(date).toISOString().slice(0, 10).split('-').reverse().join('/');\r\n    }\r\n\r\n    const HandleTableData = (title, item, index) => {\r\n        switch (title) {\r\n            case '':\r\n                return <div style={{ whiteSpace: 'nowrap' }}>{item.identity}</div>;\r\n            case '':\r\n                return item.name;\r\n            case ' ':\r\n                return item.full_name;\r\n            case '':\r\n                item && (incomeSum += parseFloat(item.income_sum));\r\n                return ShowWithMinus(item, item?.income_sum);\r\n            case '':\r\n                item && (expanseSum += parseFloat(item.expense_sum));\r\n                return ShowWithMinus(item, item?.expense_sum);\r\n            case '':\r\n                item && (balanceSum += parseFloat(item.balance));\r\n                return ShowWithMinus(item, item?.balance);\r\n            case ' ':\r\n                item && (balanceTotalSum += parseFloat(item.balance_total));\r\n                return item ? ShowWithMinus(item, item?.balance_total) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n            case ' ':\r\n            case ' ':\r\n                return <div>\r\n                    <input disabled={(title === ' ' && (item?.amount >= 0 || item?.payment_status === '' || item?.payment_status === '')) ||\r\n                        (title === ' ' && item.deleted)}\r\n                        title={(title === ' ' && (item?.deleted ? '  ' : item?.amount >= 0 ? '   ' :\r\n                            (item?.payment_status === '' || item?.payment_status === '') ? `      ${item?.payment_status}` : '')) ||\r\n                            (title === ' ' && item.deleted && '  ') || ''}\r\n                        type='checkbox' checked={item ? (props.tableCheckbox ? props.tableCheckbox[index].checked : item.is_printable) : false}\r\n                        style={{\r\n                            visibility: (!item || props.rightTable) && 'hidden', position: (item && props.rightTable) && 'absolute',\r\n                            cursor: 'pointer'\r\n                        }} onChange={e => props.changeCheckbox(e.target.checked, index, item)} />\r\n                    {item && props.rightTable && <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\r\n                        <FiMinusSquare size='1em' style={{ cursor: 'pointer' }} onClick={() => props.changeCheckbox(false, index, item)} />\r\n                        <FiCheckSquare size='1em' style={{ cursor: 'pointer', color: item.all_selected && '#3BB2DC' }} onClick={() => props.changeCheckbox(true, index, item)} />\r\n                    </div>}\r\n                </div>;\r\n            case '':\r\n                return ShowWithMinus(item, item?.expense_amount);\r\n            case '':\r\n                return ShowWithMinus(item, item?.income_amount);\r\n            case '':\r\n                return item.course_type;\r\n            case ' ':\r\n                return item.coordinator_name;\r\n            case '':\r\n                return item.institution_name;\r\n            case '':\r\n                return item.date;\r\n            case ' ':\r\n                return item ? item.account_number : <div style={{ visibility: 'hidden' }}>0</div>;\r\n            case '':\r\n                item && (lineOfCreditSum += parseFloat(item.line_of_credit));\r\n                return ShowWithMinus(item, item?.line_of_credit); //item ? (item.line_of_credit < 0 ? `${Math.abs(item.line_of_credit)}-` : item.line_of_credit) : '';\r\n            case '':\r\n                item && (loanSum += parseFloat(item.loan));\r\n                return ShowWithMinus(item, item?.loan); //item ? (item.loan < 0 ? `${Math.abs(item.loan)}-` : item.loan) : '';\r\n            case '':\r\n                item && (commitmentSum += parseFloat(item.commitment));\r\n                return ShowWithMinus(item, item?.commitment); //item ? (item.commitment < 0 ? `${Math.abs(item.commitment)}-` : item.commitment) : '';\r\n            case '':\r\n                item && (cashSum += parseFloat(item.cash));\r\n                return ShowWithMinus(item, item?.cash); //item ? (item.cash < 0 ? `${Math.abs(item.cash)}-` : item.cash) : '';\r\n            case '':\r\n                item && (flowSum += parseFloat(item.flow));\r\n                return ShowWithMinus(item, item?.flow); //item ? (item.flow < 0 ? `${Math.abs(item.flow)}-` : item.flow) : '';\r\n            case ' ':\r\n                item && (monthlyFlowSum += parseFloat(item.flow));\r\n                return ShowWithMinus(item, item?.monthly_flow); //item ? (item.flow < 0 ? `${Math.abs(item.flow)}-` : item.flow) : '';\r\n            case '':\r\n            case ' ':\r\n            case ' ':\r\n                const date = title === '' ? item.date : title === ' ' ? item.transaction_date : item?.printing_date;\r\n                return convertIsoDate(date);\r\n            case ' ':\r\n                return convertIsoDate(item.value_date);\r\n            case '':\r\n                if (item?.amount || item?.amount?.toString() === '-0' || item?.amount?.toString() === '0') {\r\n                    transactionAmountSum += parseFloat(item.amount);\r\n                    const amount = ShowWithMinus(item, item.amount)\r\n                    return <div style={{ color: amount.includes('-') ? 'red' : 'green' }}>{amount}</div>;\r\n                }\r\n                if (item && props.allowEdit) {\r\n                    // onBlur={e => { item.expense_sum !== e.target.value && props.changeSum(editText); setEdit(''); }}\r\n                    transactionAmountSum += parseFloat(item.expense_sum);\r\n                    return <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.expense_sum); }}\r\n                        style={{ cursor: 'text', border: item.show_error && (!item.expense_sum || item.expense_sum === 0) && '1px solid red' }} >\r\n                        {edit === index && editTextTitle === title ? <input type='text' autoFocus value={editText}\r\n                            style={{ width: '85%', fontSize: '1em' }} onChange={e => regNumber.test(e.target.value) && setEditText(e.target.value)}\r\n                            onBlur={e => { item.expense_sum !== e.target.value && props.changeSum(editText, item, index); setEdit(''); }} /> :\r\n                            ShowWithMinus(item, item?.expense_sum)}</div>;\r\n                }\r\n                item && (transactionAmountSum += parseFloat(item?.transaction_amount));\r\n                return ShowWithMinus(item, item?.transaction_amount); //item ? (item.transaction_amount < 0 ? `${Math.abs(item.transaction_amount)}-` : item.transaction_amount) : '';\r\n            case '':\r\n                return item.reference_number;\r\n            case ' ':\r\n                return <FiPlusSquare size='1em' style={{ cursor: 'pointer', visibility: !item && 'hidden' }} onClick={() => props.makeLink(item)} />\r\n            case ' ':\r\n                return item && <select value={item.payment_method || item.method} style={{ borderColor: ((item.show_error && !item.payment_method) || (item.show_error && !item.method)) && 'red', fontSize: '1em', width: '100%', minWidth: '60px' }}\r\n                    onChange={e => e.target.value !== '' && props.changePaymentMethod(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.paymentMethods && Object.keys(props.paymentMethods).map(res =>\r\n                        <option key={res} value={props.paymentMethods[res]}>{props.paymentMethods[res]}</option>)}\r\n                </select>\r\n            case ' ':\r\n                if (item && props.allowEdit) {\r\n                    return <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(0); }} style={{ cursor: 'text' }} >\r\n                        {edit === index && editTextTitle === title ? <input type='text' autoFocus value={editText}\r\n                            style={{ width: '85%', fontSize: '1em' }} onChange={e => regNumber.test(e.target.value) && setEditText(e.target.value)}\r\n                            onBlur={e => { 0 !== e.target.value && props.changeSum(editText, item, index); setEdit(''); }} /> : 0}</div>;\r\n                }\r\n                item && (expenseSum += parseFloat(item.expense_sum));\r\n                return ShowWithMinus(item, item?.expense_sum);\r\n            case ' ':\r\n                item && (expenseTotalSum += parseFloat(item.expense_sum_total));\r\n                return ShowWithMinus(item, item?.expense_sum_total);\r\n            case ' ':\r\n                if (props.noEdit)\r\n                    return convertIsoDate(item.transmission_date);\r\n                return item && <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.transmission_date); }}\r\n                    style={{ cursor: 'text', border: item.show_error && (!item.transmission_date || item.transmission_date === 0) && '1px solid red' }} >\r\n                    {edit === index && editTextTitle === title ? <input type='date' autoFocus value={editText && editText.slice(0, 10)}\r\n                        style={{ width: '95%', fontSize: '1em' }} onChange={e => setEditText(`${e.target.value} 00:00`)}\r\n                        onBlur={e => {\r\n                            item.transmission_date !== e.target.value && props.changeCheckDate(editText, item, index);\r\n                            setEdit('');\r\n                        }} /> :\r\n                        item.transmission_date ? convertIsoDate(item.transmission_date) : 0}</div>;\r\n            case ' ':\r\n                if (props.noEdit)\r\n                    return convertIsoDate(item.for_month);\r\n                return item && <div onClick={() => { setEdit(index); setEditTextTitle(title); setEditText(item.for_month); }}\r\n                    style={{ cursor: 'text', border: item.show_error && !item.for_month && '1px solid red' }} >\r\n                    {edit === index && editTextTitle === title ? <input type='date' autoFocus value={editText && editText.slice(0, 10)}\r\n                        style={{ width: '95%', fontSize: '1em' }} onChange={e => setEditText(`${e.target.value} 00:00`)}\r\n                        onBlur={e => {\r\n                            item.for_month !== e.target.value &&\r\n                                props.changeForMonth(editText, item, index); setEdit('');\r\n                        }} /> :\r\n                        item.for_month ? convertIsoDate(item.for_month) : 0}</div>;\r\n            case ' ':\r\n                return item.employee_sum;\r\n            case ' ':\r\n                return item.student_sum;\r\n            case ' ':\r\n                return item && (item.print_employee_sum || item.print_student_sum || item.print_supplier_sum || 0);\r\n            case ' ':\r\n                return item && <select value={item.fk_bank_account_id} style={{ borderColor: item.show_error && !item.fk_bank_account_id && 'red', fontSize: '1em' }}\r\n                    onChange={e => e.target.value !== '' && props.changeBankAccountId(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.bankAccount && props.bankAccount.map(res =>\r\n                        <option key={res.id} value={res.id}>{res.account_number}</option>)}\r\n                </select>\r\n            case '':\r\n                return item && <select value={item.fk_trend_coordinator_id} style={{ borderColor: item.show_error && !item.fk_trend_coordinator_id && 'red', fontSize: '1em', width: '100%', minWidth: '60px' }}\r\n                    onChange={e => e.target.value !== '' && props.changeTrendCoordinatorId(e.target.value, item, index)} >\r\n                    <option value='' hidden></option>\r\n                    {props.trendCoordinator && props.trendCoordinator.map(res =>\r\n                        <option key={res.id} value={res.id}>{res.name}</option>)}\r\n                </select>\r\n            case '':\r\n                const description = item.transaction_description?.length > 29 ? `${item.transaction_description.slice(0, 30)}...` : item.transaction_description;\r\n                return description;\r\n            case '':\r\n                return item?.heb_attribution;\r\n            case ' ':\r\n                return item?.payment_status;\r\n            case '':\r\n                return item?.payment_method;\r\n            case ' ':\r\n                item && (periodicSum += parseFloat(item.pr_num));\r\n                return item ? ShowWithMinus(item, item?.pr_num) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                item && (periodicTotalSum += parseFloat(item.pr_amount_sum));\r\n                return item ? ShowWithMinus(item, item?.pr_amount_sum) : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return convertIsoDate(item.charge_date);\r\n            case '':\r\n                return item.comment?.length > 15 ? item.comment.slice(0, 15) : item.comment;\r\n            case ' ':\r\n                return item.periodic_reception_status;\r\n            case ' ':\r\n                return item ? item.num_failed_payment : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.num_success_payment : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.charges_remainder : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case '\"  ':\r\n                item && (totalChargedAmountSum += parseFloat(item.total_charged_amount));\r\n                return item ? item.total_charged_amount : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case ' ':\r\n                return item ? item.charges : <div style={{ visibility: !item && 'hidden' }}>0</div>;\r\n            case '  ':\r\n                return convertIsoDate(item.bank_permission_end_date);\r\n            case '  ':\r\n                return convertIsoDate(item.bank_permission_start_date);\r\n            case ' ':\r\n                return convertIsoDate(item.last_charge_date);\r\n            case '  ':\r\n                return convertIsoDate(item.end_date_course_enrollment);\r\n            case '  ':\r\n                return convertIsoDate(item.start_date_course_enrollment);\r\n            case ' ':\r\n                return item.course_type;\r\n            case ' - ':\r\n                return '';\r\n            case ' ':\r\n                return item.day_part;\r\n            case ' ':\r\n                return '';\r\n            case ' ':\r\n                return item.eligibility_min;\r\n            case ' ':\r\n                return item.eligibility_method;\r\n            case ' ':\r\n                return item.eligibility_level;\r\n            case '  ':\r\n                return convertIsoDate(item.end_date_trend_attribution);\r\n            case '  ':\r\n                return convertIsoDate(item.start_date_trend_attribution);\r\n            case ' ':\r\n                return item && (item.merged_printing_number ?\r\n                    <input type='button' value=' ' className='button' style={{ fontSize: '1em' }} onClick={() => props.splitPayment(item.merged_printing_number)} /> :\r\n                    <input type='checkbox' checked={props.mergedCheckbox.includes(item.expense_id)} onChange={e => props.changeMergedCheckbox(e.target.checked, item.expense_id)} />)\r\n            case ' ':\r\n                return item && item.merged_printing_number ? item.merged_printing_number : null;\r\n            case '':\r\n                return item && <FiTrash2 size='1.1em' style={{ cursor: 'pointer', color: 'red' }} onClick={() => props.delete(item)} />;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const ShowSumWithMinus = (data) => {\r\n        return !isNaN(data) ? (data < 0 ? `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}-` :\r\n            `${Math.abs(data % 1 !== 0 ? data.toFixed(2) : data)}`) : 0;\r\n    }\r\n\r\n    const HandleTableFootData = (title) => {\r\n        switch (title) {\r\n            case '':\r\n            case '':\r\n            case '':\r\n            case ' ':\r\n            case ' ':\r\n            case '':\r\n                return props.noFottTitle?.includes(title) ? '' : `${props.data.filter(data => data !== '').length} `;\r\n            case '':\r\n                return ShowSumWithMinus(incomeSum);\r\n            case '':\r\n                return ShowSumWithMinus(expanseSum);\r\n            case '':\r\n                return ShowSumWithMinus(balanceSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(balanceTotalSum);\r\n            case '':\r\n                return ShowSumWithMinus(lineOfCreditSum);\r\n            case '':\r\n                return ShowSumWithMinus(loanSum);\r\n            case '':\r\n                return ShowSumWithMinus(commitmentSum);\r\n            case '':\r\n                return ShowSumWithMinus(cashSum);\r\n            case '':\r\n                return ShowSumWithMinus(flowSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(monthlyFlowSum);\r\n            case '':\r\n                return ShowSumWithMinus(transactionAmountSum);\r\n            case ' ':\r\n                return !props.allowEdit && ShowSumWithMinus(expenseSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(expenseTotalSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(periodicSum);\r\n            case ' ':\r\n                return ShowSumWithMinus(periodicTotalSum);\r\n            case '\"  ':\r\n                return ShowSumWithMinus(totalChargedAmountSum);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    const {keys} = props\r\n    useEffect(()=>{\r\n        const tempObj = {}\r\n        if(keys){\r\n            \r\n            keys.forEach(element => {\r\n                tempObj[element] = null;\r\n              });\r\n              setNewData(tempObj)\r\n        }\r\n    },[keys])\r\n\r\n    const newRowDataHandler = (e)=>{\r\n        let tempData = {...newData}\r\n        tempData[e.target.title]=e.target.value \r\n        setNewData(tempData)\r\n    }\r\n    useEffect(()=>{\r\n        if(title==='bank_permission_end_date' || title==='bank_permission_start_date'||title==='charge_date'||title==='last_charge_date')setInputType('date')\r\n        if(title==='amount' || title==='charges'||title==='charges_remainder'||title==='identity'||title==='num_failed_peyment'||title==='num_success_peyment'||title==='total_charged_amount')setInputType('number')\r\n        setInputType('text')\r\n\r\n    },[title])\r\n    return (\r\n        <div style={{ position: 'relative', margin: '1em', ...props.style }}>\r\n            <table ref={tableRef} id='table' style={{ borderCollapse: 'collapse', ...props.tableStyle }} >\r\n                <thead style={{ backgroundColor: '#c5c5c5' }}>\r\n                    <tr >\r\n                        {props.header.map((head, index) => <th key={head}\r\n                            style={{\r\n                                position: 'sticky', top: '-1px', border: '1px solid black', backgroundColor: '#c5c5c5',\r\n                                boxShadow: 'inset 0px 0.5px 0px black, inset 0px -0.5px 0px black'\r\n                            }}>\r\n                            <div style={{ margin: '5px' }}>{head}</div>\r\n                        </th>)}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className='wrapWord'>\r\n                    {props.isAddingData &&  <tr >\r\n                        {keys.map((head, index) => <th key={head}\r\n                            style={{\r\n                                top: '-1px', border: '1px solid black', backgroundColor: '#F7F7F7' }} >\r\n                                {setTitle(head)}\r\n                            <input type={inputType} style={{ maxWidth: '68px',maxHeight:\"100%\", backgroundColor:'#F7F7F7',  outline: 'none', boxShadow: 'none',border:'none' }} title={head} onChange = {(e)=>newRowDataHandler(e)}/>\r\n                            \r\n                            </th>)\r\n                        }\r\n                        <input type='button' value='' style={{ position: 'absolute' }} size='5' onClick={()=>props.addingData(newData)}/>\r\n                    </tr> }\r\n                    {props.data.map((item, index) => <tr key={index} >{\r\n                        props.header.map((title) => <td key={title} style={{\r\n                            border: '1px solid black', cursor: item && title !== ' ' && title !== ' ' && title !== '' &&\r\n                                title !== ' ' && title !== ' ' && title !== ' ' && (!props.allowEdit || title !== '') &&\r\n                                (!props.allowEdit || title !== ' ') && props.changeTableSelectedItems && 'pointer',\r\n                            backgroundColor: item && props.tableSelectedItems && props.tableSelectedItems[index].checked && '#abcdef'\r\n                        }}\r\n                            onClick={() => item && title !== ' ' && title !== ' ' && title !== ' ' && title !== '' &&\r\n                                title !== ' ' && title !== ' ' && (!props.allowEdit || title !== '') && (!props.allowEdit || title !== ' ') &&\r\n                                props.changeTableSelectedItems && props.changeTableSelectedItems(props.tableSelectedItems &&\r\n                                    !props.tableSelectedItems[index].checked, index, item)}>\r\n                            <div style={{\r\n                                margin: '5px', maxWidth: '10em', wordBreak: 'break-word', color: item.deleted && 'gray'\r\n                                // backgroundColor: props.tableSelectedItems && props.tableSelectedItems[index].checked && 'red'\r\n                            }}>\r\n                                {HandleTableData(title, item, index)}</div>\r\n                        </td>)}\r\n                    </tr>)}\r\n                </tbody>\r\n                {!props.withoutSum && <tfoot style={{ width: '100%', fontWeight: 'bold' }}>\r\n                    <tr>\r\n                        {props.header.map((title, index) => <td key={title} style={{ position: 'sticky', bottom: '-1px', backgroundColor: '#f7f7f7' }}>\r\n                            <div style={{ margin: '5px' }}>{(!props.doNotSum || !props.doNotSum.includes(title)) && HandleTableFootData(title)}</div>\r\n                            {index === 0 && <div style={{ backgroundColor: '#f7f7f7', position: 'absolute', right: '-5px', top: '0', width: '5px', height: '100%' }}></div>}\r\n                        </td>)}\r\n                    </tr>\r\n                </tfoot>}\r\n            </table>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nTable.propTypes = {\r\n    header: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    data: PropTypes.array,\r\n    children: PropTypes.any,\r\n    style: PropTypes.any,\r\n    tableStyle: PropTypes.any,\r\n    className: PropTypes.string,\r\n    tableHeight: PropTypes.func,\r\n    tableCheckbox: PropTypes.array,\r\n    changeCheckbox: PropTypes.func,\r\n    tableSelectedItems: PropTypes.array,\r\n    changeTableSelectedItems: PropTypes.func,\r\n    doNotSum: PropTypes.array,\r\n    rightTable: PropTypes.bool,\r\n    changePaymentMethod: PropTypes.func,\r\n    paymentMethods: PropTypes.array,\r\n    allowEdit: PropTypes.bool,\r\n    changeCheckDate: PropTypes.func,\r\n    changeSum: PropTypes.func,\r\n}\r\n\r\nexport default Table;","import React, { useEffect, useState } from 'react'\r\nimport { SiGooglesheets } from 'react-icons/si';\r\n\r\n\r\nconst GoogleSheetsLink = ({headers,data,store,table}) => {\r\n    const [jsonFile,setJsonFile] = useState()\r\n\r\n    const JSONConverted=()=>{\r\n        let exportObj={}\r\n        let newData = []\r\n        for(let i=0;i<data.length;i++){\r\n            let tempObj ={}\r\n\r\n            for (const [key, value] of Object.entries(data[i])) {\r\n              tempObj[headers[key]]= value\r\n            }\r\n            newData.push(tempObj)\r\n\r\n        }\r\n        exportObj['table']=table\r\n        exportObj['data']=newData\r\n\r\n        let convertedData = JSON.stringify(exportObj)\r\n        setJsonFile(convertedData)\r\n        store.fetchGoogleSheets(convertedData)\r\n    }\r\n\r\n    \r\n  return (\r\n    <div onClick={JSONConverted} style={{ marginRight:'5px' }}>\r\n    <SiGooglesheets size='1.3em' title='GoogleSheets' style={{ cursor: 'pointer' }} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GoogleSheetsLink","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from './FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { GrDocumentCsv } from 'react-icons/gr';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport { CSVLink } from 'react-csv';\r\nimport GoogleSheetsLink from '../UI/GoogleSheetsLink'\r\n\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PaymentReport = (props) => {\r\n    const history = useHistory();\r\n    const { paymentReportStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        paymentReportStore.fetchFinanceReportFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                paymentReportStore.setDateFromTo(dateFrom, dateTo);\r\n                paymentReportStore.setFinanceReportFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                paymentReportStore.setFinanceReportFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        paymentReportStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [paymentReportStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        paymentReportStore.setFinanceReportFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            paymentReportStore.setFinanceReportFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = paymentReportStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        paymentReportStore.setFinanceReportFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        paymentReportStore.setFinanceReportFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        paymentReportStore.setDateFromTo(date);\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        paymentReportStore.setDateFromTo(null, date);\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        paymentReportStore.setDateFromTo('', '');\r\n        paymentReportStore.setFinanceReportFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        paymentReportStore.allFinanceReport && paymentReportStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (paymentReportStore.allFinanceReport) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            paymentReportStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = paymentReportStore.financeReportFiltersToSend;\r\n        const setDate = (data) => {\r\n            data.checked[0] = data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.expense_filters = [...body.expense_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.expense_filters.map(expense => setDate(expense))];\r\n        body.income_filters = [...body.income_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.income_filters.map(income => setDate(income))];\r\n        body.student_filters = [...body.student_filters,\r\n        ...paymentReportStore.financeReportFiltersDateToSend.student_filters.map(student => setDate(student))];\r\n        !sessionStorage.getItem('reload') ? paymentReportStore.fetchFilteredFinanceReport(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const HandleSelectedLeftTableSelectedItem = (item) => {\r\n        if (paymentReportStore.selectedLeftTableTab === 'student') {\r\n            sessionStorage.setItem('student_id', item.attribution_id);\r\n            history.push('/finance-report/student-profile');\r\n            sessionStorage.setItem('route', '/finance-report/student-profile');\r\n        }\r\n    }\r\n\r\n    const HandleExpenseMessage = () => {\r\n        setTimeout(() => {\r\n            paymentReportStore.changeExpenseMessage('');\r\n        }, 5000);\r\n\r\n        return <div style={{ position: 'absolute', left: '100%', whiteSpace: 'nowrap', marginLeft: '3px', fontSize: '1.1em' }}>{paymentReportStore.expenseMessage}</div>\r\n    }\r\n\r\n    console.log(paymentReportStore.financeReportFilters);\r\n    return (\r\n        <Container title='   -  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={paymentReportStore.financeReportFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={paymentReportStore.dateFrom}\r\n                    dateTo={paymentReportStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {paymentReportStore.financeReportFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => paymentReportStore.allFinanceReport && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'absolute', top: '110%', display: 'flex', alignItems: 'center', justifyContent: 'center', width: 'max-content' }}>\r\n                            {paymentReportStore.expenseMessage.trim() !== '' && HandleExpenseMessage()}\r\n                            <div className='button' onClick={() => paymentReportStore.allFinanceReport && paymentReportStore.fetchExpense()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: paymentReportStore.leftTableHeight < paymentReportStore.rightTableHeight ? paymentReportStore.leftTableHeight : paymentReportStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: paymentReportStore.rightTableFinanceReport.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={paymentReportStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${paymentReportStore.selectedRightTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={paymentReportStore.rightTableFinanceReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'income_sum' },\r\n                                { label: '', key: 'expense_sum' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={{\r\n                                  'name' :'',\r\n                                   'income_sum':'',\r\n                                  'expense_sum':'',\r\n                                   'balance':'',\r\n                                  'balance_total':' '\r\n                        }}\r\n                             data={paymentReportStore.rightTableFinanceReportDownloadCSV} \r\n                             store={paymentReportStore}\r\n                             table={paymentReportStore.selectedRightTableTab}\r\n                             />\r\n                             \r\n                    </div>\r\n                    <Table header={['', '', '', '', ' ', ' ']}\r\n                        rightTable\r\n                        data={paymentReportStore.rightTableFinanceReport}\r\n                        tableCheckbox={paymentReportStore.rightTableCheckbox}\r\n                        tableSelectedItems={paymentReportStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentReportStore.allFinanceReport && paymentReportStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => paymentReportStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentReportStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentReportStore.leftTableHeight < paymentReportStore.rightTableHeight && paymentReportStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentReportStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!paymentReportStore.allFinanceReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: paymentReportStore.leftTableFinanceReport.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={paymentReportStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${paymentReportStore.selectedLeftTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={paymentReportStore.leftTableFinanceReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'income_sum' },\r\n                                { label: '', key: 'expense_sum' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={{\r\n                            'identity':'' ,\r\n                            'full_name':' ' ,\r\n                            'income_sum':'' ,\r\n                            'expense_sum':'' ,\r\n                            'balance':'' ,\r\n                            'balance_total':' ' }\r\n                            } \r\n                            data={paymentReportStore.leftTableFinanceReportDownloadCSV} \r\n                            store={paymentReportStore}\r\n                            table={paymentReportStore.selectedLeftTableTab}\r\n                            />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', ' ', ' ']}\r\n                        data={paymentReportStore.leftTableFinanceReport}\r\n                        noFottTitle={[' ']}\r\n                        tableCheckbox={paymentReportStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => paymentReportStore.setLeftTableCheckbox(checked, index, item)}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentReportStore.allFinanceReport && HandleSelectedLeftTableSelectedItem(item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentReportStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentReportStore.leftTableHeight > paymentReportStore.rightTableHeight && paymentReportStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'employee', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'supplier', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!paymentReportStore.allFinanceReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PaymentReport));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from './FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst PaymentsBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { paymentsBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n    const [checkConsolidation, setCheckConsolidation] = useState('');\r\n\r\n    useEffect(() => {\r\n        paymentsBasketStore.fetchPaymentsBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n\r\n        return () => {\r\n            paymentsBasketStore.changeMergedCheckbox(null, null, true);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        paymentsBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [paymentsBasketStore.leftTablePaymentsBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        paymentsBasketStore.setPaymentsBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            paymentsBasketStore.setPaymentsBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = paymentsBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        paymentsBasketStore.setPaymentsBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        paymentsBasketStore.allPaymentsBasket && paymentsBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (paymentsBasketStore.allPaymentsBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            paymentsBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        paymentsBasketStore.fetchFilteredPaymentsBasket(paymentsBasketStore.paymentsBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        paymentsBasketStore.fetchPrint(onlyShown,checkConsolidation)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    const checkConsolidationHandle = (e)=>{\r\n        setCheckConsolidation(e.target.value)\r\n    }\r\n    return (\r\n        <Container title=' ' goBack childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={paymentsBasketStore.paymentsBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {paymentsBasketStore.paymentsBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <select  style={{width:'100%' }} value={checkConsolidation} onChange={checkConsolidationHandle} >\r\n                            <option value=\"\" selected disabled> </option>\r\n                            <option value=\"trend_coordinator\"></option>\r\n                            <option value=\"branch\"></option>\r\n                        </select>\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} style={{width:'100%' }}/>\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} style={{width:'100%' }} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => paymentsBasketStore.fetchMerge()} style={{width:'100%' }}/>\r\n                    </div>\r\n\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: paymentsBasketStore.leftTableHeight < paymentsBasketStore.rightTableHeight ? paymentsBasketStore.leftTableHeight : paymentsBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: paymentsBasketStore.rightTablePaymentsBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={paymentsBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={paymentsBasketStore.selectedRightTableTab === 'institution' ?\r\n                        (windowWidth > 1600 ? ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''] :\r\n                            ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '']) :\r\n                        (windowWidth > 1600 ? ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''] :\r\n                            ['', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ''])}\r\n                        rightTable\r\n                        data={paymentsBasketStore.rightTablePaymentsBasket}\r\n                        tableCheckbox={paymentsBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={paymentsBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => paymentsBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => paymentsBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => paymentsBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={paymentsBasketStore.generalLists?.expense_payment_methods}\r\n                        allowEdit\r\n                        changeCheckDate={(date, item) => paymentsBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => paymentsBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => paymentsBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => paymentsBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentsBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentsBasketStore.leftTableHeight < paymentsBasketStore.rightTableHeight && paymentsBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${paymentsBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!paymentsBasketStore.allPaymentsBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: paymentsBasketStore.leftTablePaymentsBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={paymentsBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', ' ', ' ', ' ', '', ' ', ' ', ' ', '']}\r\n                        data={paymentsBasketStore.leftTablePaymentsBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={paymentsBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => paymentsBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        mergedCheckbox={paymentsBasketStore.mergedCheckbox}\r\n                        changeMergedCheckbox={(checked, id) => paymentsBasketStore.changeMergedCheckbox(checked, id)}\r\n                        splitPayment={(merged_number) => paymentsBasketStore.fetchSplit(merged_number)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => paymentsBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={paymentsBasketStore.generalLists?.expense_payment_methods}\r\n                        allowEdit\r\n                        changeCheckDate={(date, item, index) => paymentsBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => paymentsBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => paymentsBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => paymentsBasketStore.delete(item, 0)}\r\n                        bankAccount={paymentsBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => paymentsBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => paymentsBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={paymentsBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => paymentsBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: paymentsBasketStore.leftTableHeight > paymentsBasketStore.rightTableHeight && paymentsBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'employee', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab' onClick={e => HandleSelectedTableTab(e, 'supplier', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!paymentsBasketStore.allPaymentsBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PaymentsBasket));","import React, { useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { GrDocumentCsv } from 'react-icons/gr';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport { CSVLink } from 'react-csv';\r\nimport GoogleSheetsLink from '../UI/GoogleSheetsLink'\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst TransactionsReport = (props) => {\r\n    // const history = useHistory();\r\n    const { transactionsReportStore } = props.rootStore;\r\n    console.log(transactionsReportStore);\r\n\r\n    useEffect(() => {\r\n        transactionsReportStore.fetchTransactionsReportFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                transactionsReportStore.setDateFromTo(dateFrom, dateTo);\r\n                transactionsReportStore.setTransactionsReportFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                transactionsReportStore.setTransactionsReportFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        transactionsReportStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [transactionsReportStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        transactionsReportStore.setTransactionsReportFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            transactionsReportStore.setTransactionsReportFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = transactionsReportStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        transactionsReportStore.setTransactionsReportFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        transactionsReportStore.setTransactionsReportFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        transactionsReportStore.setDateFromTo(date);\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        transactionsReportStore.setDateFromTo(null, date);\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        transactionsReportStore.setDateFromTo('', '');\r\n        transactionsReportStore.setTransactionsReportFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        transactionsReportStore.allTransactionsReport && transactionsReportStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (transactionsReportStore.allTransactionsReport) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            transactionsReportStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = transactionsReportStore.transactionsReportFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.expense_filters = [...body.expense_filters.filter(data => data.name !== 'expense_date'),\r\n        ...transactionsReportStore.transactionsReportFiltersDateToSend.expense_filters.map(expense => setDates(expense))];\r\n        body.income_filters = [...body.income_filters.filter(data => data.name !== 'income_date'),\r\n        ...transactionsReportStore.transactionsReportFiltersDateToSend.income_filters.map(income => setDates(income))];\r\n        body.attribution_filters = [...body.attribution_filters];\r\n        !sessionStorage.getItem('reload') ? transactionsReportStore.fetchFilteredTransactionsReport(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const HandleExpenseMessage = () => {\r\n        setTimeout(() => {\r\n            transactionsReportStore.changeExpenseMessage('');\r\n        }, 5000);\r\n\r\n        return <div style={{ position: 'absolute', left: '0', bottom: '-1.2em', whiteSpace: 'nowrap', marginLeft: '3px', fontSize: '1.1em' }}>{transactionsReportStore.expenseMessage}</div>\r\n    }\r\n\r\n    const HandleRestoreExpense = () => {\r\n        const checkboxRestoreLength = transactionsReportStore.leftTableCheckbox.filter(data => data.checked).length;\r\n\r\n        const HandleExeptRestoreExpense = () => {\r\n            transactionsReportStore.fetchRestoreExpense()\r\n                .then(() => {\r\n                    HandleSearchByCheckBox();\r\n                    HandleClosePopup();\r\n                })\r\n        }\r\n\r\n        const HandleClosePopup = () => {\r\n            transactionsReportStore.setShowPopup(false);\r\n        }\r\n\r\n        return <div id='popupContainer'>\r\n            <div className='restorePopup'>\r\n                <div> {` ${checkboxRestoreLength} `} </div>\r\n                <div>  ?</div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly', marginTop: '10px' }}>\r\n                    <div className='button' style={{ padding: '3px' }} onClick={HandleExeptRestoreExpense}></div>\r\n                    <div className='button' style={{ padding: '3px' }} onClick={HandleClosePopup}></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    const HandleRawTable = () => {\r\n        transactionsReportStore.fetchRawTable()\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={transactionsReportStore.transactionsReportFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={transactionsReportStore.dateFrom}\r\n                    dateTo={transactionsReportStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {transactionsReportStore.transactionsReportFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => transactionsReportStore.allTransactionsReport && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'absolute', top: '110%', display: 'flex', alignItems: 'center', justifyContent: 'center', width: 'max-content' }}>\r\n                            {transactionsReportStore.expenseMessage?.trim() !== '' && HandleExpenseMessage()}\r\n                            <div className='button' onClick={() => transactionsReportStore.allTransactionsReport && transactionsReportStore.setShowPopup(true)}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: transactionsReportStore.leftTableHeight < transactionsReportStore.rightTableHeight ? transactionsReportStore.leftTableHeight : transactionsReportStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: transactionsReportStore.rightTableTransactionsReport.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '50%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={transactionsReportStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <CSVLink filename={`${transactionsReportStore.selectedRightTableTab} ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={transactionsReportStore.rightTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink \r\n                            data={transactionsReportStore.rightTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'name' },\r\n                                { label: '', key: 'balance' },\r\n                                { label: ' ', key: 'balance_total' }\r\n                            ]}\r\n                            store={transactionsReportStore}\r\n                            table={ transactionsReportStore.selectedRightTableTab}\r\n                            />\r\n                    </div>\r\n                    <Table header={['', '', ' ']}\r\n                        rightTable\r\n                        data={transactionsReportStore.rightTableTransactionsReport}\r\n                        tableCheckbox={transactionsReportStore.rightTableCheckbox}\r\n                        tableSelectedItems={transactionsReportStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => transactionsReportStore.allTransactionsReport && transactionsReportStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => transactionsReportStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => transactionsReportStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'branch' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'branch', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${transactionsReportStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!transactionsReportStore.allTransactionsReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: transactionsReportStore.leftTableTransactionsReport.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '20%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={transactionsReportStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <div style={{ textDecoration: 'underline', fontWeight: '500' }}> :</div>\r\n                            <label style={{ display: 'flex', marginRight: '3px' }}>\r\n                                \r\n                                <input type='checkbox' checked={transactionsReportStore.checkExpense}\r\n                                    onChange={e => transactionsReportStore.changeCheckBox('expense', e.target.checked)} />\r\n                            </label>\r\n                            <label style={{ display: 'flex', marginRight: '3px' }}>\r\n                                \r\n                                <input type='checkbox' checked={transactionsReportStore.checkIncome}\r\n                                    onChange={e => transactionsReportStore.changeCheckBox('income', e.target.checked)} />\r\n                            </label>\r\n                        </div>\r\n                        <CSVLink style={{ marginRight: '1em' }} filename={`  ${new Date().toISOString().slice(0, 10)}.csv`}\r\n                            data={transactionsReportStore.leftTableTransactionsReportDownloadCSV}\r\n                            headers={[\r\n                                { label: '', key: 'heb_attribution' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'transaction_date' },\r\n                                { label: ' ', key: 'payment_status' },\r\n                                { label: '', key: 'amount' },\r\n                                { label: '', key: 'payment_method' },\r\n                                { label: ' ', key: 'for_month' },\r\n                                { label: ' ', key: 'printing_date' }\r\n                            ]}>\r\n                            <GrDocumentCsv size='1.3em' title='' style={{ cursor: 'pointer' }} />\r\n                        </CSVLink>\r\n                        <GoogleSheetsLink headers={[\r\n                                { label: '', key: 'heb_attribution' },\r\n                                { label: ' ', key: 'full_name' },\r\n                                { label: '', key: 'identity' },\r\n                                { label: ' ', key: 'transaction_date' },\r\n                                { label: ' ', key: 'payment_status' },\r\n                                { label: '', key: 'amount' },\r\n                                { label: '', key: 'payment_method' },\r\n                                { label: ' ', key: 'for_month' },\r\n                                { label: ' ', key: 'printing_date' }\r\n                            ]} data={transactionsReportStore.leftTableTransactionsReportDownloadCSV} store={transactionsReportStore}\r\n                            table={ ' ' }\r\n                            />\r\n                        <input style={{ marginRight: '1em' }} type='button' value='   ' onClick={HandleRawTable} />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', '', '', ' ', ' ', ' ']}\r\n                        noEdit\r\n                        noFottTitle={['']}\r\n                        data={transactionsReportStore.leftTableTransactionsReport}\r\n                        tableCheckbox={transactionsReportStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => transactionsReportStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => transactionsReportStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!transactionsReportStore.allTransactionsReport && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            {transactionsReportStore.showPopup && <HandleRestoreExpense />}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(TransactionsReport));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SelectData = (props) => {\r\n    return (\r\n        <div style={{ display: 'flex', marginBottom: '5px' }}>\r\n            <div style={{ marginLeft: '5px' }}>\r\n                {props.titles.map((title, index) => <div key={index} style={{ marginTop: index > 0 && '5px' }}>{title}:</div>)}\r\n            </div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nSelectData.propTypes = {\r\n    titles: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    children: PropTypes.any.isRequired\r\n}\r\n\r\nexport default SelectData;","export const url = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:80/' : '/';\r\n\r\nexport const Get = async (controller) => {\r\n    return await fetch(url + controller, {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json' }\r\n    })\r\n        .then(res => {\r\n            if (res.statusText === 'UNAUTHORIZED') {\r\n                localStorage.clear();\r\n                sessionStorage.clear();\r\n                window.location.replace('/');\r\n            }\r\n            else return res.json();\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const GetHeader = async (controller) => {\r\n    return await fetch(url + controller, {\r\n        method: 'GET',\r\n    })\r\n        .then(res => {\r\n            if (res.statusText === 'UNAUTHORIZED') {\r\n                localStorage.clear();\r\n                sessionStorage.clear();\r\n                window.location.replace('/');\r\n            }\r\n            else return res;\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Post = async (controller, body, withoutJson) => {\r\n    return await fetch(url + controller, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => withoutJson ? res : res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const PostFormData = async (controller, formData) => {\r\n    return await fetch(url + controller, {\r\n        method: 'POST',\r\n        body: formData\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Put = async (controller, body) => {\r\n    return await fetch(url + controller, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const PutFormData = async (controller, formData) => {\r\n    return await fetch(url + controller, {\r\n        method: 'PUT',\r\n        body: formData\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}\r\n\r\nexport const Delete = async (controller, body) => {\r\n    return await fetch(url + controller, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n    })\r\n        .then(res => res.json())\r\n        .catch(err => console.error(err))\r\n}","import loginStore from './LoginStore';\r\nimport paymentReportStore from './PaymentReportStore';\r\nimport paymentsBasketStore from './PaymentsBasketStore';\r\nimport transactionsReportStore from './TransactionsReportStore';\r\nimport studentStore from './StudentStore';\r\nimport uploadCSVFile from './UploadCSVFileStore';\r\nimport bankAccountStore from './BankAccountStore';\r\nimport receptionBasketStore from './ReceptionBasketStore';\r\nimport periodicReceptionStore from './PeriodicReceptionStore';\r\n\r\nconst RootStore = {\r\n    loginStore,\r\n    paymentReportStore,\r\n    paymentsBasketStore,\r\n    transactionsReportStore,\r\n    studentStore,\r\n    uploadCSVFile,\r\n    bankAccountStore,\r\n    receptionBasketStore,\r\n    periodicReceptionStore\r\n}\r\nexport default RootStore;","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass LoginStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    userName = '';\r\n    password = '';\r\n    rememberMe = false;\r\n    errorMessage = '';\r\n    loader = false;\r\n\r\n    setLoader = (load) => {\r\n        this.loader = load;\r\n    }\r\n\r\n    changeUserName = (value) => {\r\n        this.userName = value;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    changePassword = (value) => {\r\n        this.password = value;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    changeRememberMe = (checked) => {\r\n        this.rememberMe = checked;\r\n        this.setErrorMessage('');\r\n    }\r\n\r\n    setErrorMessage = (err) => {\r\n        !(this.errorMessage === '' && err === '') && (this.errorMessage = err);\r\n    }\r\n\r\n    login = async () => {\r\n        this.setErrorMessage('');\r\n        this.loader = true;\r\n        if (this.userName.trim() !== '' && this.password.trim() !== '') {\r\n            return await Fetch.Post('auth/login', { username: this.userName, password: this.password, remember_me: this.rememberMe })\r\n                .then(res => {\r\n                    res.error && this.setErrorMessage(res.message);\r\n                    return res.error;\r\n                })\r\n                .catch(err => { console.error(err); this.setErrorMessage(' ,   '); })\r\n        }\r\n        else {\r\n            this.setErrorMessage('     ');\r\n            return true;\r\n        };\r\n    }\r\n}\r\n\r\nexport default new LoginStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PaymentReportStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allFinanceReport = null;\r\n    leftTableFinanceReport = Array(10).fill('');\r\n    rightTableFinanceReport = Array(10).fill('');\r\n    leftTableFinanceReportDownloadCSV = [];\r\n    rightTableFinanceReportDownloadCSV = [];\r\n    financeReportFilters = [];\r\n    financeReportFiltersToSend = { expense_filters: [], income_filters: [], student_filters: [] };\r\n    financeReportFiltersDateToSend = {\r\n        expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        student_filters: []\r\n    };\r\n    financeReportFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'student';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n\r\n    setLeftTableFinanceReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.leftTableFinanceReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setRightTableFinanceReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.rightTableFinanceReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                console.log(item);\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTableFinanceReport = this.rightTableFinanceReport.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableFinanceReport.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem && leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTableFinanceReport[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTableFinanceReport = newRightTableFinanceReport\r\n        this.setRightTableFinanceReportDownloadCSV(newRightTableFinanceReport);\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allFinanceReport[0][this.selectedLeftTableTab] : this.leftTableFinanceReport;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableFinanceReport(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableFinanceReport(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTableFinanceReport.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] && !leftTableItem.deleted ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allFinanceReport[tableIndex])[this.selectedLeftTableTab].filter(search => search.identity.includes(value) ||\r\n                search.full_name.toLowerCase().includes(value.toLowerCase()) || search.income_sum.toString().includes(value) ||\r\n                search.expense_sum.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setLeftTableFinanceReport(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allFinanceReport[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.income_sum.toString().includes(value) ||\r\n                search.expense_sum.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setRightTableFinanceReport(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTableFinanceReport((this.allFinanceReport[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableFinanceReport((this.allFinanceReport[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setFinanceReportFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.financeReportFiltersToSend = { expense_filters: [], income_filters: [], student_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.financeReportFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.financeReportFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.financeReportFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.financeReportFiltersToSend[filters.name] = [...this.financeReportFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.financeReportFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setFinanceReportFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.financeReportFiltersDateSelectedOption;\r\n        let existIndex = this.financeReportFiltersDateToSend[selectedOption[2]]?.findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.financeReportFiltersDateToSend[selectedOption[2]].length;\r\n            this.financeReportFiltersDateToSend[selectedOption[2]] = [...this.financeReportFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' || selectedOption.length === 0 ?\r\n            this.financeReportFiltersDateToSend = {\r\n                expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n                income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n            } :\r\n            (this.financeReportFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setFinanceReportFiltersDateSelectedOption = (option) => {\r\n        this.financeReportFiltersDateSelectedOption = option;\r\n        const exist = this.financeReportFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setFinanceReportFilters = (data) => {\r\n        this.financeReportFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data.filter(filter => filter.name === 'date_filters')[0].filters[0];\r\n        this.financeReportFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableFinanceReport = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableFinanceReport = data.concat(moreRows);\r\n        this.setRightTableFinanceReportDownloadCSV(data);\r\n    }\r\n\r\n    setLeftTableFinanceReport = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableFinanceReport = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n        this.setLeftTableFinanceReportDownloadCSV(this.leftTableFinanceReport);\r\n    }\r\n\r\n    setAllFinanceReport = (data) => {\r\n        this.allFinanceReport = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTableFinanceReport(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableFinanceReport(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredFinanceReport = (body) => {\r\n        this.setAllFinanceReport(null);\r\n        Fetch.Post('finance_report', body)\r\n            .then(res => this.setAllFinanceReport(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchFinanceReportFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('finance_report/filters')\r\n            .then(res => this.setFinanceReportFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTableFinanceReport.length).fill({ checked: false });\r\n    }\r\n\r\n    fetchExpense = () => {\r\n        const body = this.leftTableCheckbox.filter(data => data.checked)\r\n            .map(data => ({\r\n                attribution: data.item.attribution, attribution_id: data.item.attribution_id, fk_branch_id: data.item.fk_branch_id,\r\n                fk_institution_id: data.item.fk_institution_id, fk_trend_coordinator_id: data.item.fk_trend_coordinator_id,\r\n                payment_method: data.item.payment_method, amount: data.item.expense_sum,\r\n                fk_bank_account_id: data.item.fk_bank_account_id, payment_status: ''\r\n            }));\r\n\r\n        body.length > 0 && Fetch.Post('finance_report?pay=true', body)\r\n            .then((res) => { this.changeExpenseMessage(res.message.value); this.resetCheckbox(); })\r\n            .catch(err => console.error(err))\r\n    }\r\n    fetchGoogleSheets = async (data) => {\r\n        console.log(data);\r\n        return await Fetch.Post('finance_report/export', data, false)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new PaymentReportStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PaymentsBasketStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allPaymentsBasket = null;\r\n    leftTablePaymentsBasket = Array(10).fill('');\r\n    rightTablePaymentsBasket = Array(10).fill('');\r\n    paymentsBasketFilters = [];\r\n    paymentsBasketFiltersToSend = { expense_filters: [], student_filters: [] }; //income_filters: [],\r\n    // paymentsBasketFiltersDateToSend = {\r\n    //     expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     student_filters: []\r\n    // };\r\n    paymentsBasketFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'student';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    // dateFrom = '';\r\n    // dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    generalLists = [];\r\n    bankAccount = [];\r\n    trendCoordinator = [];\r\n    mergedCheckbox = []\r\n\r\n    changeMergedCheckbox = (checked, id, clear) => {\r\n        if (clear)\r\n            this.mergedCheckbox = [];\r\n        else if (checked)\r\n            this.mergedCheckbox = [...this.mergedCheckbox, id];\r\n        else {\r\n            const index = this.mergedCheckbox.indexOf(id);\r\n            this.mergedCheckbox = [...this.mergedCheckbox.slice(0, index), ...this.mergedCheckbox.slice(index + 1, this.mergedCheckbox.length + 1)];\r\n        }\r\n    }\r\n\r\n    setBankAccount = (value) => {\r\n        this.bankAccount = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    print = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allPaymentsBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n        // Object.values(this.allPaymentsBasket[0]).map(tab => tab.map(item => item.is_printable && (body = [...body, item.expense_id])));\r\n\r\n        return await this.fetchPrint(onlyShown, body);\r\n    }\r\n\r\n    delete = (item, tableIndex) => {\r\n        if (tableIndex === 0) {\r\n            this.fetchDeleteExpense(item.expense_id, {})\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.deleteSelectedItem(item, tableIndex);\r\n                    }\r\n                })\r\n        }\r\n        if (tableIndex === 1) {\r\n            let body = [];\r\n            this.leftTablePaymentsBasket.map((leftTableItem) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (body = [...body, leftTableItem.expense_id]))\r\n            this.fetchDeleteExpense(null, body)\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.leftTablePaymentsBasket.map((leftTableItem) =>\r\n                            item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                            this.deleteSelectedItem(leftTableItem, tableIndex))\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    deleteSelectedItem = (item, tableIndex) => {\r\n        const data = this.leftTablePaymentsBasket.filter(data => data !== item);\r\n        this.setLeftTablePaymentsBasket(data, true);\r\n        this.allPaymentsBasket[tableIndex][this.selectedLeftTableTab] = this.allPaymentsBasket[tableIndex][this.selectedLeftTableTab]?.filter(leftItem => leftItem !== item);\r\n    }\r\n\r\n    checkExpence = (data, item, tableIndex, index, position, chengePosition) => {\r\n        let leftTable = this.leftTablePaymentsBasket;\r\n        let body = {};\r\n        body[position] = data;\r\n        chengePosition && (position = chengePosition);\r\n        if (tableIndex === 0)\r\n            (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(item))) &&\r\n                this.fetchEditExpense(item.expense_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTablePaymentsBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n        else if (tableIndex === 1)\r\n            this.leftTablePaymentsBasket.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(leftTableItem))) &&\r\n                this.fetchEditExpense(leftTableItem.expense_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTablePaymentsBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n            )\r\n    }\r\n\r\n    checkIsPrintAllow = (item) => {\r\n        this.leftTablePaymentsBasket = this.leftTablePaymentsBasket.map(leftBasket => {\r\n            leftBasket === item && (delete leftBasket['show_error']);\r\n            return leftBasket;\r\n        })\r\n        if (((!item.expense_sum || item.expense_sum === 0) ||\r\n            !item.payment_method || (!item.for_month || item.for_month === 0) ||\r\n            (item.payment_method === '' && (!item.transmission_date || item.transmission_date === 0)))) {\r\n            this.leftTablePaymentsBasket = this.leftTablePaymentsBasket.map(leftBasket => {\r\n                leftBasket === item && (leftBasket['show_error'] = true);\r\n                return leftBasket;\r\n            })\r\n            return false\r\n        }\r\n        return true;\r\n    }\r\n\r\n    changeLeftTablePaymentsBasket = (leftTable, index, position, data) => {\r\n        leftTable[index][position] = data;\r\n        this.leftTablePaymentsBasket = [...leftTable];\r\n    }\r\n\r\n    changeCheckDate = (date, item, tableIndex, index) => {\r\n        this.checkExpence(date, item, tableIndex, index, 'transmission_date');\r\n    }\r\n\r\n    changeForMonth = (date, item, tableIndex, index) => {\r\n        this.checkExpence(date, item, tableIndex, index, 'for_month');\r\n    }\r\n\r\n    changeCheckSum = (sum, item, tableIndex, index) => {\r\n        this.checkExpence(sum, item, tableIndex, index, 'amount', 'expense_sum');\r\n    }\r\n\r\n    changePaymentMethod = (paymentMethod, item, tableIndex, index) => {\r\n        this.checkExpence(paymentMethod, item, tableIndex, index, 'payment_method');\r\n    }\r\n\r\n    changeCheckbox = (checked, item, tableIndex, index) => {\r\n        this.checkExpence(checked, item, tableIndex, index, 'is_printable');\r\n    }\r\n\r\n    changeBankAccountId = (id, item, tableIndex, index) => {\r\n        this.checkExpence(id, item, tableIndex, index, 'fk_bank_account_id');\r\n    }\r\n\r\n    changeTrendCoordinatorId = (id, item, tableIndex, index) => {\r\n        this.checkExpence(id, item, tableIndex, index, 'fk_trend_coordinator_id');\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        this.rightTablePaymentsBasket = this.rightTablePaymentsBasket.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTablePaymentsBasket.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTablePaymentsBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                    leftTableItem.is_printable).length;\r\n                this.rightTablePaymentsBasket[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n                this.rightTablePaymentsBasket[index][`print_${this.selectedLeftTableTab}_sum`] = countLeftTableWithSameFkIdToPrint;\r\n                this.rightTablePaymentsBasket[index][`${this.selectedLeftTableTab}_sum`] = this.leftTablePaymentsBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allPaymentsBasket[0][this.selectedLeftTableTab] : this.leftTablePaymentsBasket;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTablePaymentsBasket(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTablePaymentsBasket(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    // setDateFromTo = (from, to) => {\r\n    //     from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n    //     to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    // }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allPaymentsBasket[tableIndex])[this.selectedLeftTableTab].filter(search =>\r\n                search.identity.includes(value) || search.full_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                search.for_month.includes(value) || search.transmission_date.includes(value) || search.expense_sum.toString().includes(value) ||\r\n                search.payment_method.toLowerCase().includes(value.toLowerCase()) || search.balance_total.toString().includes(value));\r\n            this.setLeftTablePaymentsBasket(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allPaymentsBasket[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.expense_sum_total.includes(value) ||\r\n                search.expense_sum.includes(value) || search.balance_total.toString().includes(value));\r\n            this.setRightTablePaymentsBasket(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTablePaymentsBasket((this.allPaymentsBasket[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTablePaymentsBasket((this.allPaymentsBasket[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setPaymentsBasketFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.paymentsBasketFiltersToSend = { expense_filters: [], student_filters: [] }); //, income_filters: []\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                (this.checkedFilters[titleIndex][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.paymentsBasketFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.paymentsBasketFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.paymentsBasketFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.paymentsBasketFiltersToSend[filters.name] = [...this.paymentsBasketFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.paymentsBasketFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    // setPaymentsBasketFiltersDateToSend = (date, dateIndex, fill) => {\r\n    //     const selectedOption = this.pPaymentsBasketFiltersDateSelectedOption;\r\n    //     let existIndex = this.paymentsBasketFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n    //     if (existIndex === -1) {\r\n    //         existIndex = this.paymentsBasketFiltersDateToSend[selectedOption[2]].length;\r\n    //         this.paymentsBasketFiltersDateToSend[selectedOption[2]] = [...this.paymentsBasketFiltersDateToSend[selectedOption[2]],\r\n    //         { name: selectedOption[1], checked: ['', ''] }]\r\n    //     }\r\n\r\n    //     fill === 'clear' ?\r\n    //         this.paymentsBasketFiltersDateToSend = {\r\n    //             expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //             income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n    //         } :\r\n    //         (this.paymentsBasketFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    // }\r\n\r\n    // setPaymentsBasketFiltersDateSelectedOption = (option) => {\r\n    //     this.paymentsBasketFiltersDateSelectedOption = option;\r\n    //     const exist = this.paymentsBasketFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n    //     exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    // }\r\n\r\n    setPaymentsBasketFilters = (data) => {\r\n        this.paymentsBasketFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        // const date = data.filter(filter => filter.name === 'date_filters')[0]?.filters[0];\r\n        // this.paymentsBasketFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTablePaymentsBasket = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTablePaymentsBasket = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTablePaymentsBasket = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = data.map(item => ({ checked: item.is_printable, fk_id: -1 }));\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTablePaymentsBasket = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllPaymentsBasket = (data) => {\r\n        data && data.length > 1 && Object.keys(data[1]).map(rightTableTabName =>\r\n            data[1][rightTableTabName].map((rightTableItem, index) =>\r\n                Object.keys(data[0]).map(leftTableTabName =>\r\n                (data[1][rightTableTabName][index][`${leftTableTabName}_sum`] = data[0][leftTableTabName].filter(leftTableItem =>\r\n                    rightTableItem[`fk_${rightTableTabName}_id`] === leftTableItem[`fk_${rightTableTabName}_id`]\r\n                ).length))\r\n            )\r\n        )\r\n\r\n        this.allPaymentsBasket = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTablePaymentsBasket(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTablePaymentsBasket(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredPaymentsBasket = (body) => {\r\n        this.setAllPaymentsBasket(null);\r\n        Fetch.Post('payment_basket', body)\r\n            .then(res => this.setAllPaymentsBasket(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPaymentsBasketFilters = async () => {\r\n        return await Fetch.Get('finance_report/filters?payment_basket=true')\r\n            .then(res => this.setPaymentsBasketFilters(res))\r\n            .then(() => {\r\n                this.fetchGeneralLists();\r\n                this.fetchBankAccount();\r\n                this.fetchTrendCoordinator();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchEditExpense = async (id, body) => {\r\n        return await Fetch.Put(`expense/${id}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteExpense = async (id, body) => {\r\n        return await Fetch.Delete(`expense${id ? `/${id}` : ''}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPrint = async (onlyShown,checkConsolidation) => {\r\n        let body = [];\r\n        onlyShown && this.allPaymentsBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n        console.log(checkConsolidation);\r\n\r\n        let header = checkConsolidation?`expense/print_payment?grouping=${checkConsolidation}`:'expense/print_payment'\r\n\r\n        if (!(onlyShown && body.length === 0)) {\r\n            return await Fetch.Post(header, body, true)\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchMerge = () => {\r\n        Fetch.Post('expense/merge_payment', this.mergedCheckbox)\r\n            .then(res => {\r\n                this.changeMergedCheckbox(null, null, true);\r\n                this.fetchFilteredPaymentsBasket(this.paymentsBasketFiltersToSend);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSplit = (merged_number) => {\r\n        let expense_id = [];\r\n        this.leftTablePaymentsBasket.forEach(item => {\r\n            if (item?.merged_printing_number === merged_number)\r\n                expense_id = [...expense_id, item.expense_id];\r\n        })\r\n\r\n        Fetch.Post('expense/split_payment', expense_id)\r\n            .then(res => {\r\n                this.fetchFilteredPaymentsBasket(this.paymentsBasketFiltersToSend);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new PaymentsBasketStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass TransactionsReportStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allTransactionsReport = null;\r\n    leftTableTransactionsReport = Array(10).fill('');\r\n    rightTableTransactionsReport = Array(10).fill('');\r\n    leftTableTransactionsReportDownloadCSV = [];\r\n    rightTableTransactionsReportDownloadCSV = [];\r\n    transactionsReportFilters = [];\r\n    transactionsReportFiltersToSend = { expense_filters: [], income_filters: [], attribution_filters: [] };\r\n    transactionsReportFiltersDateToSend = {\r\n        expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n        attribution_filters: []\r\n    };\r\n    transactionsReportFiltersDateSelectedOption = [];\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n    checkIncome = true;\r\n    checkExpense = true;\r\n    showPopup = false;\r\n\r\n    setLeftTableTransactionsReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.leftTableTransactionsReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                (itemKey.includes('date') || itemKey.includes('for_month')) && (item[itemKey] = item[itemKey]?.slice(0, 10).split('-').join('/') || null);\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setRightTableTransactionsReportDownloadCSV = (data) => {\r\n        const stringifyData = JSON.stringify(data);\r\n        this.rightTableTransactionsReportDownloadCSV = JSON.parse(stringifyData).map(item =>\r\n            Object.keys(item).reduce((obj, itemKey) => {\r\n                item[itemKey] = item[itemKey]?.toString() || null;\r\n                return item;\r\n            }, {}));\r\n    }\r\n\r\n    setShowPopup = (show) => {\r\n        this.showPopup = show;\r\n    }\r\n\r\n    changeCheckBox = (input, value) => {\r\n        if (input === 'income') this.checkIncome = value;\r\n        else if (input === 'expense') this.checkExpense = value;\r\n        this.leftTableSearch = '';\r\n        this.setLeftTableTransactionsReport(this.allTransactionsReport[0], true);\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTableTransactionsReport = this.rightTableTransactionsReport.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableTransactionsReport.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTableTransactionsReport[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTableTransactionsReport = newRightTableTransactionsReport;\r\n        this.setRightTableTransactionsReportDownloadCSV(newRightTableTransactionsReport);\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allTransactionsReport[0] : this.leftTableTransactionsReport;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`transaction_${this.selectedRightTableTab}_id`] ? rightItem[`transaction_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableTransactionsReport(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableTransactionsReport(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTableTransactionsReport.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allTransactionsReport[tableIndex]).filter(search => search.identity?.includes(value) ||\r\n                search.heb_attribution?.includes(value) || search.full_name?.toLowerCase()?.includes(value.toLowerCase()) ||\r\n                search.payment_status?.includes(value) || search.amount?.toString()?.includes(value) || search.payment_method?.includes(value) ||\r\n                (search.for_month?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.printing_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.transaction_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value));\r\n            this.setLeftTableTransactionsReport(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allTransactionsReport[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name?.toLowerCase()?.includes(value.toLowerCase()) || search.balance?.toString()?.includes(value) ||\r\n                search.balance_total?.toString()?.includes(value));\r\n            this.setRightTableTransactionsReport(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableTransactionsReport((this.allTransactionsReport[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setTransactionsReportFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.transactionsReportFiltersToSend = { expense_filters: [], income_filters: [], attribution_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.transactionsReportFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.transactionsReportFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.transactionsReportFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.transactionsReportFiltersToSend[filters.name] = [...this.transactionsReportFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.transactionsReportFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setTransactionsReportFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.transactionsReportFiltersDateSelectedOption;\r\n        let existIndex = this.transactionsReportFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.transactionsReportFiltersDateToSend[selectedOption[2]].length;\r\n            this.transactionsReportFiltersDateToSend[selectedOption[2]] = [...this.transactionsReportFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' ?\r\n            this.transactionsReportFiltersDateToSend = {\r\n                expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n                income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], attribution_filters: []\r\n            } :\r\n            (this.transactionsReportFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setTransactionsReportFiltersDateSelectedOption = (option) => {\r\n        this.transactionsReportFiltersDateSelectedOption = option;\r\n        const exist = this.transactionsReportFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setTransactionsReportFilters = (data) => {\r\n        this.transactionsReportFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data.filter(filter => filter.name === 'date_filters')[0].filters[0];\r\n        this.transactionsReportFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableTransactionsReport = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableTransactionsReport = data.concat(moreRows);\r\n        this.setRightTableTransactionsReportDownloadCSV(data);\r\n    }\r\n\r\n    setLeftTableTransactionsReport = (data, dontCheckRightTable) => {\r\n        data = data.filter(row => (this.checkIncome && row.amount >= 0) || (this.checkExpense && row.amount < 0))\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableTransactionsReport = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n        this.setLeftTableTransactionsReportDownloadCSV(data);\r\n    }\r\n\r\n    setAllTransactionsReport = (data) => {\r\n        data && data.length > 0 && (data[0] = Object.keys(data[0]).map(key => data[0][key]).flat());\r\n        this.allTransactionsReport = data;\r\n        data && data.length > 0 && this.setLeftTableTransactionsReport(data[0]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableTransactionsReport(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredTransactionsReport = (body) => {\r\n        this.setAllTransactionsReport(null);\r\n        Fetch.Post('transactions_report', body)\r\n            .then(res => this.setAllTransactionsReport(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTransactionsReportFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('transactions_report/filters')\r\n            .then(res => this.setTransactionsReportFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTableTransactionsReport.length).fill({ checked: false });\r\n    }\r\n\r\n    fetchRestoreExpense = () => {\r\n        const body = { expense_ids: this.leftTableCheckbox.filter(data => data.checked).map(data => data.item.id) };\r\n\r\n        return body.expense_ids.length > 0 ? Fetch.Put('transactions_report', body)\r\n            .then((res) => {\r\n                const withError = res.filter(data => data.error);\r\n                const withoutError = res.filter(data => !data.error);\r\n                const messageWithError = withError.length > 0 ? `(${withError.length}) ${withError[0].message}` : '';\r\n                const messageWithoutError = withoutError.length > 0 ? `(${withoutError.length}) ${withoutError[0].message}` : '';\r\n                this.changeExpenseMessage(`${messageWithError} ${messageWithoutError}`);\r\n                this.resetCheckbox();\r\n            })\r\n            .catch(err => console.error(err)) :\r\n            this.changeExpenseMessage('No data');\r\n    }\r\n\r\n    fetchRawTable = async () => {\r\n        const body = {\r\n            tables: [\"expense\", \"income\"],\r\n            start_date: this.dateFrom.split('-').reverse().join('/'),\r\n            end_date: this.dateTo.split('-').reverse().join('/'),\r\n            dates_attributes: [\"created_date\", \"created_date\"]\r\n        }\r\n\r\n        return await Fetch.Post('raw_table', body, true)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGoogleSheets = async (data) => {\r\n        return await Fetch.Post('transactions_report/export', data, true)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new TransactionsReportStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass StudentStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    newStudentDetails = {};\r\n    studentDetails = null;\r\n    studentBalanceDetails = null;\r\n    branchDetails = null;\r\n    coordinatorDetails = null;\r\n    tableData = null;\r\n    editStudent = false;\r\n    institutionBranchCoordinator = null;\r\n    trendCoordinator = null\r\n    generalLists = null;\r\n    allInstitution = null;\r\n    postBank = false;\r\n    selectedTableTab = 'payments';\r\n\r\n    setAllInstitution = (value) => {\r\n        this.allInstitution = value;\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    setInstitutionBranchCoordinator = (value) => {\r\n        this.institutionBranchCoordinator = value;\r\n    }\r\n\r\n    changeSelectedData = (target, param, value, changeAll, index) => {\r\n        const newTarget = target === 'student' ? this.studentDetails : target === 'branch' ? this.branchDetails :\r\n            target === 'coordinator' ? this.coordinatorDetails : null;\r\n\r\n        if (newTarget) {\r\n            this.setEditStudent(true);\r\n            if (changeAll) {\r\n                if (target === 'student') {\r\n                    this.studentDetails = changeAll;\r\n                    this.newStudentDetails = changeAll;\r\n                }\r\n                target === 'branch' && (this.branchDetails = changeAll);\r\n                target === 'coordinator' && (this.coordinatorDetails = changeAll);\r\n            }\r\n            else {\r\n                if (param[0] === 'bank' && !this.newStudentDetails.bank) {\r\n                    this.newStudentDetails.bank = new Array(2).fill({ bank_number: '', branch_number: '', account_number: '' });\r\n                    this.postBank = true;\r\n                }\r\n                param.length > 1 ? (index ? newTarget[param[0]][index - 1][param[1]] = value : newTarget[param[0]][param[1]] = value) :\r\n                    (index ? newTarget[param[0]][index - 1] = value : newTarget[param[0]] = value);\r\n                target === 'student' && (param.length > 1 ?\r\n                    (index ? this.newStudentDetails[param[0]][index - 1][param[1]] = value : this.newStudentDetails[param[0]][param[1]] = value) :\r\n                    (index ? this.newStudentDetails[param[0]][index - 1] = value : this.newStudentDetails[param[0]] = value));\r\n            }\r\n        }\r\n\r\n        if (this.allInstitution && target === 'branch') {\r\n            const institution = this.allInstitution.find(institution => institution.identity === this.branchDetails.institution.identity &&\r\n                institution.name === this.branchDetails.institution.name);\r\n            const branch = institution && institution.branches.find(branch => branch.symbol === parseInt(this.branchDetails.symbol));\r\n            if (branch) {\r\n                this.studentDetails.fk_branch_id = branch.id;\r\n                this.newStudentDetails.fk_branch_id = branch.id;\r\n            }\r\n        }\r\n    }\r\n\r\n    setEditStudent = (allow) => {\r\n        this.editStudent = allow;\r\n    }\r\n\r\n    resetDetails = () => {\r\n        this.studentDetails = null;\r\n        this.studentBalanceDetails = null;\r\n        this.branchDetails = null;\r\n        this.coordinatorDetails = null;\r\n        this.tableData = null;\r\n        this.editStudent = false;\r\n    }\r\n\r\n    setSelectedTableTab = (tab) => {\r\n        this.selectedTableTab = tab;\r\n        let data = []\r\n        switch (tab) {\r\n            case 'payments':\r\n                data = this.studentBalanceDetails?.payments || [];\r\n                break;\r\n            case 'course_enrollments':\r\n                data = this.studentBalanceDetails?.course_enrollments || [];\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setTableData(data);\r\n    }\r\n\r\n    setTableData = (data) => {\r\n        this.tableData = data;\r\n    }\r\n\r\n    setCoordinatorDetails = (details) => {\r\n        this.coordinatorDetails = details;\r\n    }\r\n\r\n    setBranchDetailsDetails = (details) => {\r\n        this.branchDetails = details;\r\n    }\r\n\r\n    setStudentBalanceDetails = (details) => {\r\n        const payments = details?.payments || [];\r\n        const arrayPayments = (Object.keys(payments).map(key => ({ date: key, ...payments[key] }))).map(pay => {\r\n            pay['course_type'] = this.studentDetails?.course_type;\r\n            pay['coordinator_name'] = this.coordinatorDetails?.name;\r\n            pay['institution_name'] = this.branchDetails?.institution?.name;\r\n\r\n            return pay;\r\n        });\r\n        details['payments'] = arrayPayments;\r\n        this.studentBalanceDetails = details;\r\n        this.setTableData(details.payments);\r\n    }\r\n\r\n    setStudentDetails = (details) => {\r\n        this.studentDetails = details;\r\n    }\r\n\r\n    fetchStudentById = (id) => {\r\n        this.editStudent = false;\r\n        this.tableData = null;\r\n        Fetch.Get(`student/${id}`)\r\n            .then(res => {\r\n                this.setStudentDetails(res);\r\n                this.fetchStudentBalanceById(id);\r\n                res.fk_branch_id && this.fetchBranchById(res.fk_branch_id);\r\n                res.fk_trend_coordinator_id && this.fetchCoordinatorById(res.fk_trend_coordinator_id);\r\n                this.fetchInstitutionBranchCoordinator();\r\n                this.fetchTrendCoordinator();\r\n                this.fetchGeneralLists();\r\n                this.fetchInstitution();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteStudent = () => {\r\n        this.studentDetails && Fetch.Delete(`student/${this.studentDetails.id}`)\r\n            .then(res => {\r\n                if (!res.error) {\r\n                    sessionStorage.setItem('route', '/finance-report');\r\n                    window.history.replaceState(null, '', '/finance-report');\r\n                }\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchStudentBalanceById = (id) => {\r\n        Fetch.Get(`finance_card/student/${id}`)\r\n            .then(res => this.setStudentBalanceDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchBranchById = (id) => {\r\n        Fetch.Get(`branch/${id}`)\r\n            .then(res => this.setBranchDetailsDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchCoordinatorById = (id) => {\r\n        Fetch.Get(`trend_coordinator/${id}`)\r\n            .then(res => this.setCoordinatorDetails(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitution = () => {\r\n        Fetch.Get('institution')\r\n            .then(res => this.setAllInstitution(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBranchCoordinator = () => {\r\n        Fetch.Get('institution_branch_coordinator')\r\n            .then(res => this.setInstitutionBranchCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSaveStudentDetails = () => {\r\n        if (this.studentDetails.bank) {\r\n            this.studentDetails.bank[0] && this.fetchSaveBankAccount(this.studentDetails.bank[0]);\r\n            this.studentDetails.bank[1] && this.fetchSaveBankAccount(this.studentDetails.bank[1]);\r\n        }\r\n\r\n        const body = { ...this.studentDetails };\r\n        delete body['id'];\r\n        delete body['bank']\r\n\r\n        Fetch.Put(`student/${this.studentDetails.id}`, body)\r\n            .then(() => this.fetchStudentById(this.studentDetails.id))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSaveBankAccount = async (data) => {\r\n        const id = data.id;\r\n        const body = { ...data, attribution_id: this.studentDetails.id, attribution_type: 'student' };\r\n        delete body['id'];\r\n\r\n        this.postBank ? await Fetch.Post(`general_bank_account`, body)\r\n            .catch(err => console.error(err)) :\r\n            await Fetch.Put(`general_bank_account/${id}`, body)\r\n                .catch(err => console.error(err))\r\n\r\n        this.postBank = false;\r\n    }\r\n}\r\n\r\nexport default new StudentStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass UploadCSVFile {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    loader = false;\r\n    institutionBankAccount = null;\r\n    branch = null;\r\n    trendCoordinator = null;\r\n    courseEnrollmentTrendCoordinatorAttribution = null;\r\n    students = null;\r\n    courseEnrollment = null;\r\n    studentsIncomes = null;\r\n    studentsIncomesSourceID = '';\r\n    studentsIncomesMethod = '';\r\n    studentsIncomesBankAccountNumber = '';\r\n    studentsIncomesUpdate = false;\r\n    institutionBankAccountUpdate = false;\r\n    branchUpdate = false;\r\n    trendCoordinatorUpdate = false;\r\n    courseEnrollmentTrendCoordinatorAttributionUpdate = false;\r\n    studentsUpdate = false;\r\n    courseEnrollmentUpdate = false;\r\n    supplierUpdate = false;\r\n    donatorUpdate = false;\r\n    generalBanksUpdate = false;\r\n    periodicReceptionUpdate = false;\r\n    clearingPlatformUpdate = false;\r\n    currentAccountUpdate = false;\r\n    studentsPaymentFailureUpdate = false;\r\n    clearingUpdate = false;\r\n    clearingValidationUpdate = false;\r\n    msvUpdate = false;\r\n    checksUpdate = false;\r\n    invoiceUpdate = false;\r\n    studentInsuranceUpdate = false;\r\n    expenseDraftFixedUpdate = false;\r\n    studentsPaymentStatus = '';\r\n    studentsPaymentFailure = null;\r\n    currentAccount = null;\r\n    currentAccountBankAccountNumber  = null;\r\n    clearingPlatform = null;\r\n    clearingPlatformTrendCoordinatorID = '';\r\n    clearing = null;\r\n    clearingPlatformID = '';\r\n    clearingValidation = null;\r\n    msv = null;\r\n    msvAttribution = '';\r\n    msvBankAccountNumber = '';\r\n    msvForDate = new Date().toISOString().slice(0, 10);\r\n    msvTrendCoordinator = '';\r\n    msvSendingDate = new Date().toISOString().slice(0, 10);\r\n    checks = null;\r\n    checksAttribution = '';\r\n    checksBankAccountNumber = '';\r\n    generalBanks = null;\r\n    generalBanksAttribution = '';\r\n    supplier = null;\r\n    invoice = null;\r\n    invoiceInstitutionBranchCoordinator = '';\r\n    invoiceTrendCoordinator = '';\r\n    invoiceSupplier = '';\r\n    invoiceDate = new Date().toISOString().slice(0, 10);\r\n    invoiceSum = '0';\r\n    invoiceNumber = '';\r\n    invoiceLastDate = '';\r\n    studentInsurance = null;\r\n    studentInsuranceBankAccountNumber = '';\r\n    expenseDraft = null;\r\n    expenseDraftAttribution = '';\r\n    expenseDraftForMonth = new Date().toISOString().slice(0, 10);\r\n    expenseDraftTrendCoordinator = '';\r\n    expenseDraftBankAccountNumber = '';\r\n    expenseDraftPaymentMethod = '';\r\n    expenseDraftScholarshipType = '';\r\n    expenseDraftFixed = false;\r\n    donator = null;\r\n    periodicReception = null;\r\n    periodicReceptionBankAccountNumber = '';\r\n    incomeSource = [];\r\n    paymentMethods = [];\r\n    attributions = [];\r\n    paymentStatus = [];\r\n    scholarshipTypes = [];\r\n    bankAccounts = [];\r\n    institutionBranchCoordinators = [];\r\n    trendCoordinators = [];\r\n    suppliers = [];\r\n    platforms = [];\r\n    errorInstitutionBankAccount = '';\r\n    errorBranch = '';\r\n    errorTrendCoordinator = '';\r\n    errorCourseEnrollmentTrendCoordinatorAttribution = '';\r\n    errorStudents = '';\r\n    errorCourseEnrollment = '';\r\n    errorStudentsIncomes = '';\r\n    errorStudentsPaymentFailure = '';\r\n    errorCurrentAccount = '';\r\n    errorClearingPlatform = '';\r\n    errorClearing = '';\r\n    errorClearingValidation = '';\r\n    errorMSV = '';\r\n    errorChecks = '';\r\n    errorGeneralBanks = '';\r\n    errorSupplier = ''\r\n    errorInvoice = ''\r\n    errorStudentInsurance = '';\r\n    errorExpenseDraft = '';\r\n    errorDonator = '';\r\n    errorPeriodicReception = '';\r\n    googleSheetsInstitutionBankAccount=false;\r\n    googleSheetsBranch=false;\r\n    googleSheetsTrendCoordinator=false;\r\n    googleSheetsCourseEnrollmentTrendCoordinatorAttribution=false;\r\n    googleSheetsStudents=false;\r\n    googleSheetsCourseEnrollment=false;\r\n    googleSheetsSupplier=false;\r\n    googleSheetsDonator=false;\r\n    googleSheetsGeneralBanks=false;\r\n    googleSheetsPeriodicReception=false;\r\n    googleSheetsClearingPlatform=false;\r\n    googleSheetsCurrentAccount=false;\r\n    googleSheetsStudentsIncomes=false;\r\n    googleSheetsStudentsPaymentFailure=false;\r\n    googleSheetsClearing=false;\r\n    googleSheetsClearingValidation=false;\r\n    googleSheetsMSV=false;\r\n    googleSheetsChecks=false;\r\n    googleSheetsInvoice=false;\r\n    googleSheetsStudentInsurance=false;\r\n    googleSheetsExpenseDraft=false;\r\n\r\n    setErrorInstitutionBankAccount = (value) => {\r\n        this.errorInstitutionBankAccount = value;\r\n    }\r\n\r\n    setErrorBranch = (value) => {\r\n        this.errorBranch = value;\r\n    }\r\n\r\n    setErrorTrendCoordinator = (value) => {\r\n        this.errorTrendCoordinator = value;\r\n    }\r\n\r\n    setErrorCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.errorCourseEnrollmentTrendCoordinatorAttribution = value;\r\n    }\r\n\r\n    setErrorStudents = (value) => {\r\n        this.errorStudents = value;\r\n    }\r\n\r\n    setErrorCourseEnrollment = (value) => {\r\n        this.errorCourseEnrollment = value;\r\n    }\r\n\r\n    setErrorStudentsIncomes = (value) => {\r\n        this.errorStudentsIncomes = value;\r\n    }\r\n\r\n    setErrorStudentsPaymentFailure = (value) => {\r\n        this.errorStudentsPaymentFailure = value;\r\n    }\r\n\r\n    setErrorCurrentAccount = (value) => {\r\n        this.errorCurrentAccount = value;\r\n    }\r\n\r\n    setErrorClearingPlatform = (value) => {\r\n        this.errorclearingPlatform = value;\r\n    }\r\n\r\n    setErrorClearing = (value) => {\r\n        this.errorClearing = value;\r\n    }\r\n\r\n    setErrorClearingValidation = (value) => {\r\n        this.errorClearingValidation = value;\r\n    }\r\n\r\n    setErrorMSV = (value) => {\r\n        this.errorMSV = value;\r\n    }\r\n\r\n    setErrorChecks = (value) => {\r\n        this.errorChecks = value;\r\n    }\r\n\r\n    setErrorGeneralBanks = (value) => {\r\n        this.errorGeneralBanks = value;\r\n    }\r\n\r\n    setErrorSupplier = (value) => {\r\n        this.errorSupplier = value;\r\n    }\r\n\r\n    setErrorInvoice = (value) => {\r\n        this.errorInvoice = value;\r\n    }\r\n\r\n    setErrorStudentInsurance = (value) => {\r\n        this.errorStudentInsurance = value;\r\n    }\r\n\r\n    setErrorExpenseDraft = (value) => {\r\n        this.errorExpenseDraft = value;\r\n    }\r\n\r\n    setErrorDonator = (value) => {\r\n        this.errorDonator = value;\r\n    }\r\n\r\n    setErrorPeriodicReception = (value) => {\r\n        this.errorPeriodicReception = value;\r\n    }\r\n\r\n    setPeriodicReception = (file) => {\r\n        this.periodicReception = file;\r\n        this.setErrorPeriodicReception('');\r\n    }\r\n\r\n    setGoogleSheetsPeriodicReception = (value) => {\r\n        this.googleSheetsDonator = value;\r\n    }\r\n    setPeriodicReceptionBankAccountNumber = (value) => {\r\n        this.periodicReceptionBankAccountNumber = value;\r\n    }\r\n\r\n    setDonator = (file) => {\r\n        this.donator = file;\r\n        this.setErrorDonator('');\r\n    }\r\n    setGoogleSheetsDonator = (value) => {\r\n        this.googleSheetsDonator = value;\r\n    }\r\n\r\n    setExpenseDraft = (file) => {\r\n        this.expenseDraft = file;\r\n        this.setErrorExpenseDraft('');\r\n    }\r\n\r\n    setGoogleSheetsExpenseDraft = (value) => {\r\n        this.googleSheetsExpenseDraft = value;\r\n    }\r\n    setExpenseDraftAttribution = (value) => {\r\n        this.expenseDraftAttribution = value;\r\n    }\r\n\r\n    setExpenseDraftForMonth = (value) => {\r\n        this.expenseDraftForMonth = value;\r\n    }\r\n\r\n    setExpenseDraftTrendCoordinator = (value) => {\r\n        this.expenseDraftTrendCoordinator = value;\r\n    }\r\n\r\n    setExpenseDraftBankAccountNumber = (value) => {\r\n        this.expenseDraftBankAccountNumber = value;\r\n    }\r\n\r\n    setExpenseDraftPaymentMethod = (value) => {\r\n        this.expenseDraftPaymentMethod = value;\r\n    }\r\n\r\n    setExpenseDraftScholarshipType = (value) => {\r\n        this.expenseDraftScholarshipType = value;\r\n    }\r\n\r\n    setExpenseDraftFixed = (checked) => {\r\n        this.expenseDraftFixed = checked;\r\n    }\r\n\r\n    setStudentInsurance = (file) => {\r\n        this.studentInsurance = file;\r\n        this.setErrorStudentInsurance('');\r\n    }\r\n\r\n    setGoogleSheetsStudentInsurance = (value) => {\r\n        this.googleSheetsStudentInsurance = value;\r\n    }\r\n    setStudentInsuranceBankAccountNumber = (value) => {\r\n        this.studentInsuranceBankAccountNumber = value;\r\n    }\r\n\r\n    setInvoice = (file) => {\r\n        this.invoice = file;\r\n        this.setErrorSupplier('');\r\n    }\r\n\r\n    setGoogleSheetsInvoice = (value) => {\r\n        this.googleSheetsInvoice = value;\r\n    }\r\n    setInvoiceInstitutionBranchCoordinator = (value) => {\r\n        this.invoiceInstitutionBranchCoordinator = value;\r\n    }\r\n\r\n    setInvoiceTrendCoordinator = (value) => {\r\n        this.invoiceTrendCoordinator = value;\r\n    }\r\n\r\n    setInvoiceSupplier = (value) => {\r\n        this.invoiceSupplier = value;\r\n    }\r\n\r\n    setInvoiceDate = (value) => {\r\n        this.invoiceDate = value;\r\n    }\r\n\r\n    setInvoiceSum = (value) => {\r\n        this.invoiceSum = value || '0';\r\n    }\r\n\r\n    setInvoiceNumber = (value) => {\r\n        this.invoiceNumber = value;\r\n    }\r\n\r\n    setInvoiceLastDate = (value) => {\r\n        this.invoiceLastDate = value;\r\n    }\r\n\r\n    setSupplier = (file) => {\r\n        this.supplier = file;\r\n        this.setErrorSupplier('');\r\n    }\r\n\r\n    setGeneralBanks = (file) => {\r\n        this.generalBanks = file;\r\n        this.setErrorGeneralBanks('');\r\n    }\r\n    setGoogleSheetsGeneralBanks = (value) => {\r\n        this.googleSheetsGeneralBanks = value;\r\n    }\r\n\r\n    setGeneralBanksAttribution = (value) => {\r\n        this.generalBanksAttribution = value;\r\n    }\r\n\r\n    setChecks = (file) => {\r\n        this.checks = file;\r\n        this.setErrorChecks('');\r\n    }\r\n\r\n    setGoogleSheetsChecks = (value) => {\r\n        this.googleSheetsChecks = value;\r\n    }\r\n    setChecksAttribution = (value) => {\r\n        this.checksAttribution = value;\r\n    }\r\n\r\n    setChecksBankAccountNumber = (value) => {\r\n        this.checksBankAccountNumber = value;\r\n    }\r\n\r\n    setMSV = (file) => {\r\n        this.msv = file;\r\n        this.setErrorMSV('');\r\n    }\r\n\r\n    setGoogleSheetsMSV = (value) => {\r\n        this.googleSheetsMSV = value;\r\n    }\r\n    setMsvAttribution = (value) => {\r\n        this.msvAttribution = value;\r\n    }\r\n\r\n    setMsvBankAccountNumber = (value) => {\r\n        this.msvBankAccountNumber = value;\r\n    }\r\n\r\n    setMsvForDate = (date) => {\r\n        this.msvForDate = date;\r\n    }\r\n\r\n    setMsvTrendCoordinator = (value) => {\r\n        this.msvTrendCoordinator = value;\r\n    }\r\n\r\n    setMsvSendingDate = (date) => {\r\n        this.msvSendingDate = date;\r\n    }\r\n\r\n    setClearingPlatform = (file) => {\r\n        this.clearingPlatform = file;\r\n        this.setErrorClearingPlatform('');\r\n    }\r\n    setGoogleSheetsClearingPlatform = (value) => {\r\n        this.googleSheetsClearingPlatform = value;\r\n    }\r\n\r\n    setClearingValidation = (file) => {\r\n        this.clearingValidation = file;\r\n        this.setErrorClearingValidation('');\r\n    }\r\n\r\n    setGoogleSheetsClearingValidation = (value) => {\r\n        this.googleSheetsClearingValidation = value;\r\n    }\r\n    setClearingPlatformTrendCoordinatorID = (value) => {\r\n        this.clearingPlatformTrendCoordinatorID = value;\r\n    }\r\n\r\n    setClearing = (file) => {\r\n        this.clearing = file;\r\n        this.setErrorClearing('');\r\n    }\r\n    setGoogleSheetsClearing = (value) => {\r\n        this.googleSheetsClearing = value;\r\n    }\r\n\r\n    setClearingPlatformID = (value) => {\r\n        this.clearingPlatformID = value;\r\n    }\r\n\r\n    setAttributions = (value) => {\r\n        this.attributions = value;\r\n        if (value) {\r\n            const firstAttribution = value[0];\r\n            this.setMsvAttribution(firstAttribution);\r\n            this.setChecksAttribution(firstAttribution);\r\n            this.setGeneralBanksAttribution(firstAttribution);\r\n            this.setExpenseDraftAttribution(firstAttribution);\r\n        }\r\n    }\r\n\r\n    setBankAccounts = (value) => {\r\n        this.bankAccounts = value;\r\n        if (value.length > 0) {\r\n            const firstBankAccountNumber = value[0].account_number;\r\n            this.setMsvBankAccountNumber(firstBankAccountNumber);\r\n            this.setChecksBankAccountNumber(firstBankAccountNumber);\r\n            this.setStudentsIncomesBankAccountNumber(firstBankAccountNumber);\r\n            this.setStudentInsuranceBankAccountNumber(firstBankAccountNumber);\r\n            this.setExpenseDraftBankAccountNumber(firstBankAccountNumber)\r\n            this.setPeriodicReceptionBankAccountNumber(firstBankAccountNumber);\r\n            this.setCurrentAccountBankAccountNumber(firstBankAccountNumber)\r\n        }\r\n    }\r\n\r\n    setIncomeSource = (value) => {\r\n        this.incomeSource = value;\r\n        value.length > 0 && this.setStudentsIncomesSourceID(value[0].id);\r\n    }\r\n\r\n    setPaymentMethods = (value) => {\r\n        this.paymentMethods = value;\r\n        value.length > 0 && this.setStudentsIncomesMethod(value[0]);\r\n    }\r\n\r\n    setPaymentStatus = (value) => {\r\n        this.paymentStatus = value\r\n        value.length > 0 && this.setStudentsPaymentStatus(value[0]);\r\n    }\r\n\r\n    setScholarshipTypes = (value) => {\r\n        this.scholarshipTypes = value;\r\n        value.length > 0 && this.setExpenseDraftScholarshipType(value[0])\r\n    }\r\n\r\n    setInstitutionBranchCoordinators = (value) => {\r\n        const objValue = Object.values(value);\r\n        this.institutionBranchCoordinators = objValue;\r\n        objValue.length > 0 && this.setInvoiceInstitutionBranchCoordinator(objValue[0].identity)\r\n    }\r\n\r\n    setTrendCoordinators = (value) => {\r\n        this.trendCoordinators = value;\r\n        value.length > 0 && this.setInvoiceTrendCoordinator(value[0].name);\r\n        value.length > 0 && this.setMsvTrendCoordinator(value[0].id);\r\n    }\r\n\r\n    setSuppliers = (value) => {\r\n        this.suppliers = value;\r\n        value.length > 0 && this.setInvoiceSupplier(value[0].identity);\r\n    }\r\n    setGoogleSheetsSupplier = (value) => {\r\n        this.googleSheetsSupplier = value;\r\n    }\r\n    \r\n    setPlatforms = (value) => {\r\n        this.platforms = value;\r\n        value.length > 0 && this.setClearingPlatformID(value[0].id);\r\n    }\r\n\r\n    setLoader = (value) => {\r\n        this.loader = value;\r\n    }\r\n\r\n    setInstitutionBankAccount = (value) => {\r\n        this.institutionBankAccount = value;\r\n        this.setErrorInstitutionBankAccount('');\r\n    }\r\n    setGoogleSheetsInstitutionBankAccount = (value) => {\r\n        console.log(value);\r\n        this.googleSheetsInstitutionBankAccount = value;\r\n    }\r\n    \r\n    setBranch = (value) => {\r\n        this.branch = value;\r\n        this.setErrorBranch('');\r\n    }\r\n    setGoogleSheetsBranch = (value) => {\r\n        this.googleSheetsBranch = value;\r\n    }\r\n    \r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n        this.setErrorTrendCoordinator('');\r\n    }\r\n    setGoogleSheetsTrendCoordinator = (value) => {\r\n        this.googleSheetsTrendCoordinator = value;\r\n    }\r\n    \r\n    setCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.courseEnrollmentTrendCoordinatorAttribution = value;\r\n        this.setErrorCourseEnrollmentTrendCoordinatorAttribution('');\r\n    }\r\n    setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution = (value) => {\r\n        this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution = value;\r\n    }\r\n    \r\n    setStudents = (value) => {\r\n        this.students = value;\r\n        this.setErrorStudents('');\r\n    }\r\n    setGoogleSheetsStudents = (value) => {\r\n        this.googleSheetsStudents = value;\r\n    }\r\n    \r\n    setCourseEnrollment = (value) => {\r\n        this.courseEnrollment = value;\r\n        this.setErrorCourseEnrollment('');\r\n    }\r\n    \r\n    setGoogleSheetsCourseEnrollment = (value) => {\r\n        this.googleSheetsCourseEnrollment = value;\r\n    }\r\n    setStudentsIncomes = (value) => {\r\n        this.studentsIncomes = value;\r\n        this.setErrorStudentsIncomes('');\r\n    }\r\n    setGoogleSheetsStudentsIncomes = (value) => {\r\n        this.googleSheetsStudentsIncomes = value;\r\n    }\r\n\r\n    setStudentsPaymentFailure = (value) => {\r\n        this.studentsPaymentFailure = value;\r\n        this.setErrorStudentsPaymentFailure('');\r\n    }\r\n    setGoogleSheetsStudentsPaymentFailure = (value) => {\r\n        this.googleSheetsStudentsPaymentFailure = value;\r\n    }\r\n\r\n    setStudentsIncomesSourceID = (value) => {\r\n        this.studentsIncomesSourceID = value;\r\n    }\r\n\r\n    setStudentsIncomesMethod = (value) => {\r\n        this.studentsIncomesMethod = value;\r\n    }\r\n\r\n    setStudentsIncomesBankAccountNumber = (value) => {\r\n        this.studentsIncomesBankAccountNumber = value;\r\n    }\r\n\r\n    setStudentsIncomesUpdate = (value) => {\r\n        this.studentsIncomesUpdate = value;\r\n    }\r\n\r\n    setInstitutionBankAccountUpdate = (value) => {\r\n        this.institutionBankAccountUpdate = value;\r\n    }\r\n    setBranchUpdate = (value) => {\r\n        this.branchUpdate = value;\r\n    }\r\n    setTrendCoordinatorUpdate = (value) => {\r\n        this.trendCoordinatorUpdate = value;\r\n    }\r\n    setCourseEnrollmentTrendCoordinatorAttributionUpdate = (value) => {\r\n        this.courseEnrollmentTrendCoordinatorAttributionUpdate = value;\r\n    }\r\n    setStudentsUpdate = (value) => {\r\n        this.studentsUpdate = value;\r\n    }\r\n    setCourseEnrollmentUpdate = (value) => {\r\n        this.courseEnrollmentUpdate = value;\r\n    }\r\n    setSupplierUpdate = (value) => {\r\n        this.supplierUpdate = value;\r\n    }\r\n    setDonatorUpdate = (value) => {\r\n        this.donatorUpdate = value;\r\n    }\r\n    setGeneralBanksUpdate = (value) => {\r\n        this.generalBanksUpdate = value;\r\n    }\r\n    setPeriodicReceptionUpdate = (value) => {\r\n        this.periodicReceptionUpdate = value;\r\n    }\r\n    setClearingPlatformUpdate = (value) => {\r\n        this.clearingPlatformUpdate = value;\r\n    }\r\n    setCurrentAccountUpdate = (value) => {\r\n        this.currentAccountUpdate = value;\r\n    }\r\n    setStudentsPaymentFailureUpdate = (value) => {\r\n        this.studentsPaymentFailureUpdate = value;\r\n    }\r\n    setClearingUpdate = (value) => {\r\n        this.clearingUpdate = value;\r\n    }\r\n    setClearingValidationUpdate = (value) => {\r\n        this.clearingValidationUpdate = value;\r\n    }\r\n    setMsvUpdate = (value) => {\r\n        this.msvUpdate = value;\r\n    }\r\n    setChecksUpdate = (value) => {\r\n        this.checksUpdate = value;\r\n    }\r\n    setInvoiceUpdate = (value) => {\r\n        this.invoiceUpdate = value;\r\n    }\r\n    setStudentsInsuranceUpdate = (value) => {\r\n        this.studentInsuranceUpdate = value;\r\n    }\r\n    setExpenseDraftFixedUpdate = (value) => {\r\n        this.expenseDraftFixedUpdate = value;\r\n    }\r\n\r\n\r\n\r\n    setStudentsPaymentStatus = (value) => {\r\n        this.studentsPaymentStatus = value;\r\n    }\r\n\r\n    setCurrentAccount = (value) => {\r\n        this.currentAccount = value;\r\n        this.setErrorCurrentAccount('');\r\n    }\r\n    setGoogleSheetsCurrentAccount = (value) => {\r\n        this.googleSheetsCurrentAccount = value;\r\n    }\r\n    setCurrentAccountBankAccountNumber = (value) => {\r\n        this.currentAccountBankAccountNumber = value;\r\n    }\r\n\r\n    sendData = async () => {\r\n        const fetch_1 = this.fetchInstitutionBankAccount();\r\n        const fetch_2 = this.fetchBranch();\r\n        const fetch_3 = this.fetchTrendCoordinator();\r\n        const fetch_4 = this.fetchCourseEnrollmentTrendCoordinatorAttribution();\r\n        const fetch_5 = this.fetchStudents();\r\n        const fetch_6 = this.fetchCourseEnrollment();\r\n        const fetch_7 = this.fetchStudentsIncomes();\r\n        const fetch_8 = this.fetchStudentsPaymentFailure();\r\n        const fetch_9 = this.fetchCurrentAccount();\r\n        const fetch_10 = this.fetchClearingPlatform();\r\n        const fetch_11 = this.fetchClearing();\r\n        const fetch_12 = this.fetchClearingValidation();\r\n        const fetch_13 = this.fetchMSV();\r\n        const fetch_14 = this.fetchChecks();\r\n        const fetch_15 = this.fetchGeneralBanks();\r\n        const fetch_16 = this.fetchSupplier();\r\n        const fetch_17 = this.fetchInvoice();\r\n        const fetch_18 = this.fetchStudentInsurance();\r\n        const fetch_19 = this.fetchExpenseDraft();\r\n        const fetch_20 = this.fetchDonator();\r\n        const fetch_21 = this.fetchPeriodicReception();\r\n\r\n        return await Promise.all([fetch_1, fetch_2, fetch_3, fetch_4, fetch_5, fetch_6, fetch_7, fetch_8, fetch_9, fetch_10,\r\n            fetch_11, fetch_12, fetch_13, fetch_14, fetch_15, fetch_16, fetch_17, fetch_18, fetch_19, fetch_20, fetch_21])\r\n            .then((res) => {\r\n                this.setLoader(false);\r\n                return res;\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBankAccount = async () => {\r\n        this.setErrorInstitutionBankAccount('');\r\n        if (this.institutionBankAccount || this.googleSheetsInstitutionBankAccount) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('institution_bank_account_csv', this.institutionBankAccount);\r\n            formData.append('google_sheets', this.googleSheetsInstitutionBankAccount);\r\n            return await (this.institutionBankAccountUpdate ? Fetch.PutFormData : Fetch.PostFormData)('institution_bank_account', formData)\r\n                .then(res => {\r\n                    res.error ? this.setErrorInstitutionBankAccount(res.message.value || res.message) : this.setInstitutionBankAccount(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBranch = async () => {\r\n        this.setErrorBranch('');\r\n        if (this.branch || this.googleSheetsBranch) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('branch_csv', this.branch);\r\n            formData.append('google_sheets', this.googleSheetsBranch);\r\n\r\n            return await (this.branchUpdate ? Fetch.PutFormData : Fetch.PostFormData)('branch', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorBranch(res.message.value || res.message) : this.setBranch(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchTrendCoordinator = async () => {\r\n        this.setErrorTrendCoordinator('');\r\n        if (this.trendCoordinator || this.googleSheetsTrendCoordinator) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('trend_coordinator_csv', this.trendCoordinator);\r\n            formData.append('google_sheets', this.googleSheetsTrendCoordinator);\r\n\r\n            return await (this.trendCoordinatorUpdate ? Fetch.PutFormData : Fetch.PostFormData)('trend_coordinator', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorTrendCoordinator(res.message.value || res.message) : this.setTrendCoordinator(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCourseEnrollmentTrendCoordinatorAttribution = async () => {\r\n        this.setErrorCourseEnrollmentTrendCoordinatorAttribution('');\r\n        if (this.courseEnrollmentTrendCoordinatorAttribution || this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('course_enrollment_trend_coordinator_attribution_csv', this.courseEnrollmentTrendCoordinatorAttribution);\r\n            formData.append('google_sheets', this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution);\r\n            return await (this.courseEnrollmentTrendCoordinatorAttributionUpdate ? Fetch.PutFormData : Fetch.PostFormData)('course_enrollment_trend_coordinator_attribution', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCourseEnrollmentTrendCoordinatorAttribution(res.message.value || res.message) : this.setCourseEnrollmentTrendCoordinatorAttribution(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudents = async () => {\r\n        this.setErrorStudents('');\r\n        if (this.students || this.googleSheetsStudents) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('students_csv', this.students);\r\n            formData.append('google_sheets', this.googleSheetsStudents);\r\n\r\n            return await (this.studentsUpdate ? Fetch.PutFormData : Fetch.PostFormData)('student', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudents(res.message.value || res.message) : this.setStudents(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCourseEnrollment = async () => {\r\n        this.setErrorCourseEnrollment('');\r\n        if (this.courseEnrollment || this.googleSheetsCourseEnrollment) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('course_enrollment_csv', this.courseEnrollment);\r\n            formData.append('google_sheets', this.courseEnrollment);\r\n            return await (this.courseEnrollmentUpdate ? Fetch.PutFormData : Fetch.PostFormData)('course_enrollment', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCourseEnrollment(res.message.value || res.message) : this.setCourseEnrollment(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudentsIncomes = async () => {\r\n        this.setErrorStudentsIncomes('');\r\n        if (this.studentsIncomes || this.googleSheetsStudentsIncomes) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('students_incomes_csv', this.studentsIncomes);\r\n            formData.append('fk_income_source_id', this.studentsIncomesSourceID);\r\n            formData.append('method', this.studentsIncomesMethod);\r\n            formData.append('account_number', this.studentsIncomesBankAccountNumber);\r\n            formData.append('payment_status', this.studentsPaymentStatus);\r\n            formData.append('google_sheets', this.googleSheetsStudentsIncomes);\r\n\r\n            return await (this.studentsIncomesUpdate ? Fetch.PutFormData : Fetch.PostFormData)('income', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudentsIncomes(res.message.value || res.message) : this.setStudentsIncomes(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchStudentsPaymentFailure = async () => {\r\n        this.setErrorStudentsPaymentFailure('');\r\n        if (this.studentsPaymentFailure || this.googleSheetsStudentsPaymentFailure) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('payment_failure_csv', this.studentsPaymentFailure);\r\n            formData.append('google_sheets', this.googleSheetsStudentsPaymentFailure);\r\n\r\n            return await (this.studentsPaymentFailureUpdate ? Fetch.PutFormData : Fetch.PostFormData)('payment_failure', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorStudentsPaymentFailure(res.message.value || res.message) : this.setStudentsPaymentFailure(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchCurrentAccount = async () => {\r\n        this.setErrorCurrentAccount('');\r\n        if (this.currentAccount || this.googleSheetsCurrentAccount) {\r\n            this.setLoader(true);\r\n\r\n            const formData = new FormData();\r\n            formData.append('current_account_csv', this.currentAccount);\r\n            if(this.currentAccountBankAccountNumber){\r\n                formData.append('account_number ', this.currentAccountBankAccountNumber);\r\n            }\r\n            formData.append('google_sheets', this.googleSheetsCurrentAccount);\r\n\r\n            return await (this.currentAccountUpdate ? Fetch.PutFormData : Fetch.PostFormData)('current_account', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorCurrentAccount(res.message.value || res.message) : this.setCurrentAccount(null) ;\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearingPlatform = async () => {\r\n        this.setErrorClearingPlatform('');\r\n        if (this.clearingPlatform || this.googleSheetsClearingPlatform) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_platform_csv', this.clearingPlatform);\r\n            formData.append('google_sheets', this.googleSheetsClearingPlatform);\r\n            this.clearingPlatformTrendCoordinatorID !== '' && formData.append('trend_coordinator_id', this.clearingPlatformTrendCoordinatorID);\r\n            return await (this.clearingPlatformUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing_platform', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearingPlatform(res.message.value || res.message) : this.setClearingPlatform(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearing = async () => {\r\n        this.setErrorClearing('');\r\n        if (this.clearing || this.googleSheetsClearing) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_payments_csv', this.clearing);\r\n            formData.append('fk_platform_id', this.clearingPlatformID);\r\n            formData.append('google_sheets', this.googleSheetsClearing);\r\n            return await (this.clearingUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearing(res.message.value || res.message) : this.setClearing(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchClearingValidation = async () => {\r\n        this.setErrorClearingValidation('');\r\n        if (this.clearingValidation || this.googleSheetsClearingValidation) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('clearing_validation_csv', this.clearingValidation);\r\n            formData.append('google_sheets', this.googleSheetsClearingValidation);\r\n            return await (this.clearingValidationUpdate ? Fetch.PutFormData : Fetch.PostFormData)('clearing_validation', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res.error ? this.setErrorClearingValidation(res.message.value || res.message) : this.setClearingValidation(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchMSV = async () => {\r\n        this.setErrorMSV('');\r\n        if (this.msv || this.googleSheetsMSV) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('msv_expense_csv', this.msv);\r\n            formData.append('attribution', this.msvAttribution);\r\n            formData.append('account_number', this.msvBankAccountNumber);\r\n            formData.append('for_month', this.msvForDate.split('-').reverse().join('/'));\r\n            formData.append('fk_trend_coordinator_id', this.msvTrendCoordinator);\r\n            formData.append('msv_sending_date', this.msvSendingDate.split('-').reverse().join('/'));\r\n            formData.append('google_sheets', this.googleSheetsMSV);\r\n            return await (this.msvUpdate ? Fetch.PutFormData : Fetch.PostFormData)('msv', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorMSV(res.inserted_records.message.value || res.message) : this.setMSV(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchChecks = async () => {\r\n        this.setErrorChecks('');\r\n        if (this.checks || this.googleSheetsChecks) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('check_expense_csv', this.checks);\r\n            formData.append('attribution', this.checksAttribution);\r\n            formData.append('account_number', this.checksBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsChecks);\r\n\r\n            return await (this.checksUpdate ? Fetch.PutFormData : Fetch.PostFormData)('check', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorChecks(res.inserted_records.message.value || res.message) : this.setChecks(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchGeneralBanks = async () => {\r\n        this.setErrorGeneralBanks('');\r\n        if (this.generalBanks || this.googleSheetsGeneralBanks) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('general_bank_account_csv', this.generalBanks);\r\n            formData.append('attribution', this.generalBanksAttribution);\r\n            formData.append('google_sheets', this.googleSheetsGeneralBanks);\r\n\r\n            return await (this.generalBanksUpdate ? Fetch.PutFormData : Fetch.PostFormData)('general_bank_account', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorGeneralBanks(res.inserted_records.message.value || res.message) : this.setGeneralBanks(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchSupplier = async () => {\r\n        this.setErrorSupplier('');\r\n        if (this.supplier || this.googleSheetsSupplier) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('supplier_csv', this.supplier);\r\n            formData.append('google_sheets', this.googleSheetsSupplier);\r\n\r\n            return await (this.supplierUpdate ? Fetch.PutFormData : Fetch.PostFormData)('supplier', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.error ? this.setErrorSupplier(res.message.value || res.message) : this.setSupplier(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchInvoice = async () => {\r\n        this.setErrorInvoice('');\r\n        if (this.invoice) {\r\n            if (this.invoiceNumber || this.googleSheetsInvoice) {\r\n                this.setLoader(true);\r\n                const formData = new FormData();\r\n                formData.append('invoice_file', this.invoice);\r\n                formData.append('institution_identity', this.invoiceInstitutionBranchCoordinator.identity);\r\n                formData.append('trend_coordinator_name', this.invoiceTrendCoordinator.name);\r\n                formData.append('supplier_identity', this.invoiceSupplier.identity);\r\n                formData.append('invoice_date', `${this.invoiceDate}T00:00:00`);\r\n                formData.append('invoice_number', this.invoiceNumber);\r\n                formData.append('amount', this.invoiceSum);\r\n                formData.append('google_sheets', this.googleSheetsInvoice);\r\n\r\n                this.invoiceLastDate.trim() !== '' && formData.append('payment_due_date', `${this.invoiceLastDate}T00:00:00`);\r\n                return await (this.invoiceUpdate ? Fetch.PutFormData : Fetch.PostFormData)('invoice', formData)\r\n                    .then(res => {\r\n                        console.log(res);\r\n                        res?.error ? this.setErrorInvoice(res.message.payment_due_date[0] || res.message) : this.setInvoice(null);\r\n                        return res;\r\n                    })\r\n                    .catch(err => console.error(err))\r\n            }\r\n            else {\r\n                this.setErrorInvoice('  ');\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchStudentInsurance = async () => {\r\n        this.setErrorStudentInsurance('');\r\n        if (this.studentInsurance || this.googleSheetsStudentInsurance) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('student_insurance_expense_csv', this.studentInsurance);\r\n            formData.append('account_number', this.studentInsuranceBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsStudentInsurance);\r\n            return await (this.studentInsuranceUpdate ? Fetch.PutFormData : Fetch.PostFormData)('student_insurance', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorStudentInsurance(res.inserted_records.message.value || res.message) : this.setStudentInsurance(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchExpenseDraft = async () => {\r\n        this.setErrorExpenseDraft('');\r\n        if (this.expenseDraft || this.googleSheetsExpenseDraft) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('expense_draft_csv', this.expenseDraft);\r\n            formData.append('attribution', this.expenseDraftAttribution);\r\n            formData.append('account_number', this.expenseDraftBankAccountNumber);\r\n            formData.append('for_month', this.expenseDraftForMonth.split('-').reverse().join('/'));\r\n            formData.append('scholarship_type', this.expenseDraftAttribution === 'student' ? this.expenseDraftScholarshipType : null);\r\n            formData.append('fixed', this.expenseDraftFixed);\r\n            formData.append('google_sheets', this.googleSheetsExpenseDraft);\r\n\r\n            this.expenseDraftPaymentMethod !== '' && formData.append('payment_method', this.expenseDraftPaymentMethod);\r\n            this.expenseDraftTrendCoordinator !== '' && formData.append('fk_trend_coordinator_id', this.expenseDraftTrendCoordinator);\r\n            return await (this.expenseDraftFixedUpdate ? Fetch.PutFormData : Fetch.PostFormData)('expense_draft', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorExpenseDraft(res.inserted_records.message.value || res.message) : this.setExpenseDraft(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchDonator = async () => {\r\n        this.setErrorDonator('');\r\n        if (this.donator || this.googleSheetsDonator) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('donator_csv', this.donator);\r\n            formData.append('google_sheets', this.googleSheetsDonator);\r\n            return await (this.donatorUpdate ? Fetch.PutFormData : Fetch.PostFormData)('donator', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorDonator(res.inserted_records.message.value || res.message) : this.setDonator(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchPeriodicReception = async () => {\r\n        this.setErrorPeriodicReception('');\r\n        if (this.periodicReception || this.googleSheetsPeriodicReception) {\r\n            this.setLoader(true);\r\n            const formData = new FormData();\r\n            formData.append('periodic_reception_csv', this.periodicReception);\r\n            formData.append('account_number', this.periodicReceptionBankAccountNumber);\r\n            formData.append('google_sheets', this.googleSheetsPeriodicReception);\r\n            return await (this.periodicReceptionUpdate ? Fetch.PutFormData : Fetch.PostFormData)('periodic_reception', formData)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    res?.inserted_records?.error ? this.setErrorPeriodicReception(res.inserted_records.message.value || res.message) : this.setPeriodicReception(null);\r\n                    return res;\r\n                })\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchIncomeSource = () => {\r\n        Fetch.Get('income_source')\r\n            .then(res => this.setIncomeSource(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPaymentMethods = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => {\r\n                if (res) {\r\n                    res.income_payment_methods && this.setPaymentMethods(res.income_payment_methods);\r\n                    res.attributions && this.setAttributions(res.attributions);\r\n                    res.education_payment_status && this.setPaymentStatus(res.education_payment_status);\r\n                    res.scholarship_types && this.setScholarshipTypes(res.scholarship_types);\r\n                }\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchBankAccounts = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccounts(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchInstitutionBranchCoordinators = () => {\r\n        Fetch.Get('institution_branch_coordinator')\r\n            .then(res => this.setInstitutionBranchCoordinators(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinators = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => {\r\n                this.setTrendCoordinators(res);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSuppliers = () => {\r\n        Fetch.Get('supplier')\r\n            .then(res => this.setSuppliers(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPlatforms = () => {\r\n        Fetch.Get('clearing_platform')\r\n            .then(res => this.setPlatforms(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    callFetch = () => {\r\n        this.fetchIncomeSource();\r\n        this.fetchPaymentMethods();\r\n        this.fetchBankAccounts();\r\n        this.fetchInstitutionBranchCoordinators();\r\n        this.fetchTrendCoordinators();\r\n        this.fetchSuppliers();\r\n        this.fetchPlatforms();\r\n    }\r\n\r\n    fetchDownloadTemplate = async (template_from) => {\r\n        return await Fetch.GetHeader(`${template_from}/csv_template`)\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new UploadCSVFile();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass BankAccountStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allBankAccount = null;\r\n    allCurrentAccount = null;\r\n    leftTableBankAccount = Array(10).fill('');\r\n    rightTableBankAccount = Array(10).fill('');\r\n    dateFrom = '';\r\n    dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    rightTableSelectedItems = [];\r\n    selectedRightTableTab = 'bank_account';\r\n    checkBoxFilter = { linked: true, unlinked: true };\r\n\r\n    changeCheckBoxFilter = (check, position) => {\r\n        this.checkBoxFilter[position] = check;\r\n        this.setLeftTableBankAccount(this.allBankAccount);\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = { checked: !tableSelectedItems[index].checked, id: item['id'] };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allCurrentAccount : this.leftTableBankAccount;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ id }) => !newSet.has(id) && newSet.add(id))(new Set()));\r\n            this.setLeftTableBankAccount(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableBankAccount(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to) : to === '' && (this.dateTo = '');\r\n        this.dateFrom && this.dateTo && this.dateFrom > this.dateTo && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = this.allCurrentAccount.filter(search => search.date.includes(value) ||\r\n                search.value_date.includes(value) || search.transaction_amount.toString().includes(value) ||\r\n                search.balance.toString().includes(value) || search.reference_number.includes(value));\r\n            this.setLeftTableBankAccount(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = this.allBankAccount.filter(search =>\r\n                search.account_number.toString().includes(value) || search.balance.toString().includes(value) ||\r\n                search.cash.toString().includes(value) || search.commitment.toString().includes(value) ||\r\n                search.flow.toString().includes(value) || search.institution_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                search.line_of_credit.toString().includes(value) || search.loan.toString().includes(value));\r\n            this.setRightTableBankAccount(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setLeftTableBankAccount = (data, dontCheckRightTable) => {\r\n        data = this.checkBoxFilter.linked && this.checkBoxFilter.unlinked ? data :\r\n            this.checkBoxFilter.linked ? data.filter(bankDetail => bankDetail.is_linked) :\r\n                this.checkBoxFilter.unlinked ? data.filter(bankDetail => !bankDetail.is_linked) : [];\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableBankAccount = data.concat(moreRows);\r\n\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setRightTableBankAccount = (data) => {\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableBankAccount = data.concat(moreRows);\r\n    }\r\n\r\n    setAllCurrentAccount = (currentAccount) => {\r\n        this.allCurrentAccount = currentAccount.data ? currentAccount.data : currentAccount;\r\n        this.setLeftTableBankAccount(currentAccount.data ? currentAccount.data : currentAccount);\r\n    }\r\n\r\n    setAllBankAccount = (bankAccount) => {\r\n        this.allBankAccount = bankAccount.data ? bankAccount.data : bankAccount;\r\n        this.setRightTableBankAccount(bankAccount.data ? bankAccount.data : bankAccount);\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get(`bank_account?verbose=${encodeURIComponent(true)}`)\r\n            .then(res => this.setAllBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchCurrentAccount = () => {\r\n        this.allCurrentAccount = null;\r\n\r\n        const encodeDate = (date) => encodeURIComponent(date.slice(0, 10).split('-').reverse().join('/'));\r\n        const start_date = this.dateFrom === '' ? null : encodeDate(this.dateFrom);\r\n        const end_date = this.dateTo === '' ? null : encodeDate(this.dateTo);\r\n\r\n        // const start_date = '01/07/2020';\r\n        // const end_date = '01/07/2021';\r\n\r\n        Fetch.Get(`current_account${start_date && end_date ? `?start_date=${start_date}&end_date=${end_date}` : ''}`)\r\n            .then(res => this.setAllCurrentAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    // #region Make Link Popup\r\n    index = 0;\r\n    rightBankAccount = null;\r\n    donator = null;\r\n    trendCoordinator = null;\r\n    student = null;\r\n    supplier = null;\r\n    msv = null;\r\n    comment = null;\r\n    makeLink = null;\r\n    allDonators = null;\r\n    allTrendCoordinator = null;\r\n    allStudents = null;\r\n    allSuppliers = null;\r\n    allMSV = null;\r\n    ownDonator = null;\r\n    ownTrendCoordinator = null;\r\n    ownStudent = null;\r\n    ownSupplier = null;\r\n    ownMsv = null;\r\n    loader = false;\r\n    existDonator = null;\r\n    existTrendCoordinator = null;\r\n    existStudent = null;\r\n    existSupplier = null;\r\n    existMsv = null;\r\n\r\n    setLoader = (value) => {\r\n        this.loader = value;\r\n    }\r\n\r\n    setOwnDonator = (value) => {\r\n        this.ownDonator = value;\r\n    }\r\n\r\n    setOwnTrendCoordinator = (value) => {\r\n        this.ownTrendCoordinator = value;\r\n    }\r\n\r\n    setOwnStudent = (value) => {\r\n        this.ownStudent = value;\r\n    }\r\n\r\n    setOwnSupplier = (value) => {\r\n        this.ownSupplier = value;\r\n    }\r\n\r\n    setOwnMsv = (value) => {\r\n        this.ownMsv = value;\r\n    }\r\n\r\n    setAllMSV = (allMSV) => {\r\n        this.allMSV = allMSV;\r\n        allMSV?.length === 0 && this.setMSV(' ');\r\n    }\r\n\r\n    setAllDonators = (allDonators) => {\r\n        this.allDonators = allDonators;\r\n        allDonators?.length === 0 && this.setDonator(' ');\r\n    }\r\n\r\n    setAllTrendCoordinator = (allTrendCoordinator) => {\r\n        this.allTrendCoordinator = allTrendCoordinator;\r\n        allTrendCoordinator?.length === 0 && this.setTrendCoordinator(' ');\r\n    }\r\n\r\n    setAllStudents = (allStudents) => {\r\n        this.allStudents = allStudents;\r\n        allStudents?.length === 0 && this.setStudent(' ');\r\n    }\r\n\r\n    setAllSuppliers = (allSuppliers) => {\r\n        this.allSuppliers = allSuppliers;\r\n        allSuppliers?.length === 0 && this.setSupplier(' ');\r\n    }\r\n\r\n    setMakeLink = (item) => {\r\n        this.makeLink = item;\r\n        item && this.fetchMSV(item.transaction_amount, item.date.slice(0, 10))\r\n            .then(res => {\r\n                this.setComment(item.comment);\r\n\r\n                const data = item.expense?.length > 0 ? item.expense[0] : item.income?.length > 0 ? item.income[0] : null;\r\n                if (data) {\r\n                    const donator = data.fk_donator_id !== null && this.allDonators.find(d => d.id === data.fk_donator_id);\r\n                    const trend = data.fk_trend_coordinator_id !== null && this.allTrendCoordinator.find(t => t.id === data.fk_trend_coordinator_id);\r\n                    const student = data.attribution === 'student' && data.attribution_id !== null && this.allStudents.find(s => s.id === data.attribution_id);\r\n                    const supplier = data.attribution === 'supplier' && data.attribution_id !== null && this.allSuppliers.find(s => s.id === data.attribution_id);\r\n                    const msv = !(item.income?.length !== 0) && data.fk_msv_file_id !== null && res?.find(m => m.id === data.fk_msv_file_id);\r\n\r\n                    if (donator) {\r\n                        const value = `${donator.first_name} ${donator.last_name} - ${donator.identity}`;\r\n                        this.setDonator(value);\r\n                        this.setOwnDonator(donator);\r\n                    }\r\n\r\n                    if (trend) {\r\n                        const value = `${trend.name} - ${trend.id}`;\r\n                        this.setTrendCoordinator(value);\r\n                        this.setOwnTrendCoordinator(value);\r\n                    }\r\n\r\n                    if (student) {\r\n                        const value = `${student.first_name} ${student.last_name} - ${student.identity}`;\r\n                        this.setStudent(value);\r\n                        this.setOwnStudent(value);\r\n                    }\r\n\r\n                    if (supplier) {\r\n                        const value = `${supplier.name} - ${supplier.identity}`;\r\n                        this.setSupplier(value);\r\n                        this.setOwnSupplier(value);\r\n                    }\r\n\r\n                    if (msv) {\r\n                        const value = `${msv.amount} - ${msv.date} - ${msv.id}`;\r\n                        this.setMSV(value);\r\n                        this.setOwnMsv(value);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    setIndex = (value) => {\r\n        this.index = value;\r\n    }\r\n\r\n    setRightBankAccount = (value) => {\r\n        this.rightBankAccount = value;\r\n    }\r\n\r\n    setDonator = (value) => {\r\n        this.donator = value && value.trim() !== '' ? value : null;\r\n\r\n        const donator = value && value.split(' - ');\r\n        this.existDonator = value ? this.allDonators?.find(d => d.identity === donator[donator.length - 1])?.id : null;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value && value.trim() !== '' ? value : null;\r\n\r\n        const trendCoordinator = value && value.split(' - ');\r\n        this.existTrendCoordinator = value ? this.allTrendCoordinator?.find(t => `${t.id}` === trendCoordinator[trendCoordinator.length - 1])?.id : null;\r\n    }\r\n\r\n    setStudent = (value) => {\r\n        this.student = value && value.trim() !== '' ? value : null;\r\n\r\n        const student = value && value.split(' - ');\r\n        this.existStudent = value ? this.allStudents?.find(s => s.identity === student[student.length - 1])?.id : null;\r\n    }\r\n\r\n    setSupplier = (value) => {\r\n        this.supplier = value && value.trim() !== '' ? value : null;\r\n\r\n        const supplier = value && value.split(' - ');\r\n        this.existSupplier = value ? this.allSuppliers?.find(s => s.identity === supplier[supplier.length - 1])?.id : null;\r\n    }\r\n\r\n    setMSV = (value) => {\r\n        this.msv = value && value.trim() !== '' ? value : null;\r\n\r\n        const msv = value && value.split(' - ');\r\n        this.existMsv = value ? this.allMSV?.find(m => `${m.id}` === msv[msv.length - 1])?.id : null;\r\n    }\r\n\r\n    setComment = (value) => {\r\n        this.comment = value && value.trim() !== '' ? value : null;\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('link_ca/trend_coordinator')\r\n            .then(res => this.setAllTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchStudens = () => {\r\n        Fetch.Get('link_ca/student')\r\n            .then(res => this.setAllStudents(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSuppliers = () => {\r\n        Fetch.Get('link_ca/supplier')\r\n            .then(res => this.setAllSuppliers(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchMSV = async (amount, date) => {\r\n        return await Fetch.Get(`link_ca/msv?amount=${amount}&date=${date}`)\r\n            .then(res => this.setAllMSV(res.error ? [] : res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDonators = () => {\r\n        Fetch.Get('donator')\r\n            .then(res => this.setAllDonators(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchSave = () => {\r\n        this.setLoader(true);\r\n\r\n        if (this.donator !== this.ownTrendCoordinator) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                fk_trend_coordinator_id: this.existDonator,\r\n            }\r\n\r\n            var trendCoordinatorFetch = Fetch.Put('link_ca/donator', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n\r\n        if (this.trendCoordinator !== this.ownTrendCoordinator) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                fk_trend_coordinator_id: this.existTrendCoordinator,\r\n            }\r\n\r\n            var trendCoordinatorFetch = Fetch.Put('link_ca/trend_coordinator', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        if (this.student !== this.ownStudent) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                attribution: 'student',\r\n                attribution_id: this.existStudent,\r\n            }\r\n\r\n            var studentFetch = Fetch.Put('link_ca/student', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        if (this.supplier !== this.ownSupplier) {\r\n            const body = {\r\n                fk_current_account_id: this.makeLink.id,\r\n                ca_amount: this.makeLink.transaction_amount,\r\n                attribution: 'supplier',\r\n                attribution_id: this.existSupplier,\r\n            }\r\n\r\n            var supplierFetch = Fetch.Put('link_ca/supplier', body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n\r\n        if (this.msv !== this.ownMsv) {\r\n            const msv = this.ownMsv && this.ownMsv.split(' - ');\r\n            const msvID = this.existMsv || msv ? msv[msv.length - 1] : null;\r\n\r\n            if (msvID !== null) {\r\n                const body = {\r\n                    fk_current_account_id: this.makeLink.id,\r\n                    fk_msv_file_id: msvID,\r\n                    delete: this.existMsv !== null ? false : true\r\n                }\r\n\r\n                var msvFetch = Fetch.Put('link_ca/msv', body)\r\n                    .catch(err => console.error(err));\r\n            }\r\n        }\r\n\r\n\r\n        if (this.comment !== this.makeLink.comment) {\r\n            const body = { comment: this.comment };\r\n            var commentFetch = Fetch.Put(`current_account/${this.makeLink.id}`, body)\r\n                .catch(err => console.error(err));\r\n        }\r\n\r\n        const ClearDataIfNotExist = () => {\r\n            !this.existTrendCoordinator && this.setTrendCoordinator(null);\r\n            !this.existSupplier && this.setSupplier(null);\r\n            !this.existStudent && this.setStudent(null);\r\n            !this.existMsv && this.setMSV(null);\r\n        }\r\n\r\n        Promise.all([trendCoordinatorFetch, studentFetch, supplierFetch, msvFetch, commentFetch])\r\n            .then(() => {\r\n                this.setLoader(false);\r\n                this.fetchCurrentAccount();\r\n                ClearDataIfNotExist();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n    // #endregion\r\n}\r\n\r\nexport default new BankAccountStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass ReceptionBasketStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allReceptionBasket = null;\r\n    leftTableReceptionBasket = Array(10).fill('');\r\n    rightTableReceptionBasket = Array(10).fill('');\r\n    receptionBasketFilters = [];\r\n    receptionBasketFiltersToSend = { income_filters: [] }; //, expense_filters: [], student_filters: []\r\n    // receptionBasketFiltersDateToSend = {\r\n    //     expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //     student_filters: []\r\n    // };\r\n    receptionBasketFiltersDateSelectedOption = [];\r\n    selectedLeftTableTab = 'donations';\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    // dateFrom = '';\r\n    // dateTo = '';\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    generalLists = [];\r\n    bankAccount = [];\r\n    trendCoordinator = [];\r\n\r\n    setBankAccount = (value) => {\r\n        this.bankAccount = value;\r\n    }\r\n\r\n    setTrendCoordinator = (value) => {\r\n        this.trendCoordinator = value;\r\n    }\r\n\r\n    print = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allReceptionBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.income_id]));\r\n        // Object.values(this.allReceptionBasket[0]).map(tab => tab.map(item => item.is_printable && (body = [...body, item.expense_id])));\r\n\r\n        return await this.fetchPrint(onlyShown, body);\r\n    }\r\n\r\n    delete = (item, tableIndex) => {\r\n        if (tableIndex === 0) {\r\n            this.fetchDeleteIncome(item.income_id, {})\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.deleteSelectedItem(item, tableIndex);\r\n                    }\r\n                })\r\n        }\r\n        if (tableIndex === 1) {\r\n            let body = [];\r\n            this.leftTableReceptionBasket.map((leftTableItem) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (body = [...body, leftTableItem.income_id]))\r\n            this.fetchDeleteIncome(null, body)\r\n                .then((err) => {\r\n                    if (!err) {\r\n                        this.leftTableReceptionBasket.map((leftTableItem) =>\r\n                            item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                            this.deleteSelectedItem(leftTableItem, tableIndex))\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    deleteSelectedItem = (item, tableIndex) => {\r\n        const data = this.leftTableReceptionBasket.filter(data => data !== item);\r\n        this.setLeftTableReceptionBasket(data, true);\r\n        this.allReceptionBasket[tableIndex][this.selectedLeftTableTab] = this.allReceptionBasket[tableIndex][this.selectedLeftTableTab]?.filter(leftItem => leftItem !== item);\r\n    }\r\n\r\n    checkIncome = (data, item, tableIndex, index, position, chengePosition) => {\r\n        let leftTable = this.leftTableReceptionBasket;\r\n        let body = {};\r\n        body[position] = data;\r\n        chengePosition && (position = chengePosition);\r\n        if (tableIndex === 0)\r\n            (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(item))) &&\r\n                this.fetchEditIncome(item.income_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTableReceptionBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n        else if (tableIndex === 1)\r\n            this.leftTableReceptionBasket.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                (position !== 'is_printable' || (position === 'is_printable' && this.checkIsPrintAllow(leftTableItem))) &&\r\n                this.fetchEditIncome(leftTableItem.income_id, body)\r\n                    .then((err) => {\r\n                        if (!err) {\r\n                            this.changeLeftTableReceptionBasket(leftTable, index, position, data);\r\n                        }\r\n                    })\r\n            )\r\n    }\r\n\r\n    checkIsPrintAllow = (item) => {\r\n        this.leftTableReceptionBasket = this.leftTableReceptionBasket.map(leftBasket => {\r\n            leftBasket === item && (delete leftBasket['show_error']);\r\n            return leftBasket;\r\n        })\r\n        if (!item.for_month || item.for_month === 0) {\r\n            this.leftTableReceptionBasket = this.leftTableReceptionBasket.map(leftBasket => {\r\n                leftBasket === item && (leftBasket['show_error'] = true);\r\n                return leftBasket;\r\n            })\r\n            return false\r\n        }\r\n        return true;\r\n    }\r\n\r\n    changeLeftTableReceptionBasket = (leftTable, index, position, data) => {\r\n        leftTable[index][position] = data;\r\n        this.leftTableReceptionBasket = [...leftTable];\r\n    }\r\n\r\n    changeCheckDate = (date, item, tableIndex, index) => {\r\n        this.checkIncome(date, item, tableIndex, index, 'check_date');\r\n    }\r\n\r\n    changeForMonth = (date, item, tableIndex, index) => {\r\n        this.checkIncome(date, item, tableIndex, index, 'for_month');\r\n    }\r\n\r\n    changeCheckSum = (sum, item, tableIndex, index) => {\r\n        this.checkIncome(sum, item, tableIndex, index, 'amount', 'expense_sum');\r\n    }\r\n\r\n    changePaymentMethod = (paymentMethod, item, tableIndex, index) => {\r\n        this.checkIncome(paymentMethod, item, tableIndex, index, 'method');\r\n    }\r\n\r\n    changeCheckbox = (checked, item, tableIndex, index) => {\r\n        this.checkIncome(checked, item, tableIndex, index, 'is_printable');\r\n    }\r\n\r\n    changeBankAccountId = (id, item, tableIndex, index) => {\r\n        this.checkIncome(id, item, tableIndex, index, 'fk_bank_account_id');\r\n    }\r\n\r\n    changeTrendCoordinatorId = (id, item, tableIndex, index) => {\r\n        this.checkIncome(id, item, tableIndex, index, 'fk_trend_coordinator_id');\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        this.rightTableReceptionBasket = this.rightTableReceptionBasket.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTableReceptionBasket.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableReceptionBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] &&\r\n                    leftTableItem.is_printable).length;\r\n                this.rightTableReceptionBasket[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n                this.rightTableReceptionBasket[index][`print_${this.selectedLeftTableTab}_sum`] = countLeftTableWithSameFkIdToPrint;\r\n                this.rightTableReceptionBasket[index][`${this.selectedLeftTableTab}_sum`] = this.leftTableReceptionBasket.filter(leftTableItem =>\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n    }\r\n\r\n    setGeneralLists = (value) => {\r\n        this.generalLists = value;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allReceptionBasket[0][this.selectedLeftTableTab] : this.leftTableReceptionBasket;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`fk_${this.selectedRightTableTab}_id`] ? rightItem[`fk_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTableReceptionBasket(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTableReceptionBasket(data, true);\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    // setDateFromTo = (from, to) => {\r\n    //     from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n    //     to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    // }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allReceptionBasket[tableIndex])[this.selectedLeftTableTab].filter(search =>\r\n                search.identity.includes(value) || search.full_name.toLowerCase().includes(value.toLowerCase()) ||\r\n                (search.for_month && search.for_month.includes(value)) || search.amount.toString().includes(value) ||\r\n                search.method.includes(value));\r\n            this.setLeftTableReceptionBasket(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allReceptionBasket[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name.toLowerCase().includes(value.toLowerCase()) || search.expense_sum.toString().includes(value) ||\r\n                search.balance_total.toString().includes(value));\r\n            this.setRightTableReceptionBasket(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 0 && this.selectedLeftTableTab !== tab) {\r\n            this.leftTableSearch = '';\r\n            this.selectedLeftTableTab = tab;\r\n            this.setLeftTableReceptionBasket((this.allReceptionBasket[tableIndex])[tab]);\r\n        }\r\n        else if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTableReceptionBasket((this.allReceptionBasket[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setReceptionBasketFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.ReceptionBasketFiltersToSend = { income_filters: [] }); //, expense_filters: [], student_filters: [] \r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                (this.checkedFilters[titleIndex][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.receptionBasketFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.receptionBasketFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.receptionBasketFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.receptionBasketFiltersToSend[filters.name] = [...this.receptionBasketFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.receptionBasketFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    // setReceptionBasketFiltersDateToSend = (date, dateIndex, fill) => {\r\n    //     const selectedOption = this.peceptionBasketFiltersDateSelectedOption;\r\n    //     let existIndex = this.receptionBasketFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n    //     if (existIndex === -1) {\r\n    //         existIndex = this.receptionBasketFiltersDateToSend[selectedOption[2]].length;\r\n    //         this.receptionBasketFiltersDateToSend[selectedOption[2]] = [...this.receptionBasketFiltersDateToSend[selectedOption[2]],\r\n    //         { name: selectedOption[1], checked: ['', ''] }]\r\n    //     }\r\n\r\n    //     fill === 'clear' ?\r\n    //         this.receptionBasketFiltersDateToSend = {\r\n    //             expense_filters: [{ name: 'expense_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n    //             income_filters: [{ name: 'income_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }], student_filters: []\r\n    //         } :\r\n    //         (this.receptionBasketFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    // }\r\n\r\n    // setReceptionBasketFiltersDateSelectedOption = (option) => {\r\n    //     this.receptionBasketFiltersDateSelectedOption = option;\r\n    //     const exist = this.receptionBasketFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n    //     exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    // }\r\n\r\n    setReceptionBasketFilters = (data) => {\r\n        this.receptionBasketFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        // const date = data.filter(filter => filter.name === 'date_filters')[0]?.filters[0];\r\n        // this.receptionBasketFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTableReceptionBasket = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTableReceptionBasket = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTableReceptionBasket = (data, dontCheckRightTable) => {\r\n        this.leftTableCheckbox = data.map(item => ({ checked: item.is_printable, fk_id: -1 }));\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTableReceptionBasket = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllReceptionBasket = (data) => {\r\n        data && data.length > 1 && Object.keys(data[1]).map(rightTableTabName =>\r\n            data[1][rightTableTabName].map((rightTableItem, index) =>\r\n                Object.keys(data[0]).map(leftTableTabName =>\r\n                (data[1][rightTableTabName][index][`${leftTableTabName}_sum`] = data[0][leftTableTabName].filter(leftTableItem =>\r\n                    rightTableItem[`fk_${rightTableTabName}_id`] === leftTableItem[`fk_${rightTableTabName}_id`]\r\n                ).length))\r\n            )\r\n        )\r\n\r\n        this.allReceptionBasket = data;\r\n        data && data.length > 0 && data[0][this.selectedLeftTableTab] && this.setLeftTableReceptionBasket(data[0][this.selectedLeftTableTab]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTableReceptionBasket(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredReceptionBasket = (body) => {\r\n        this.setAllReceptionBasket(null);\r\n        Fetch.Post('reception_basket', body)\r\n            .then(res => this.setAllReceptionBasket(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchReceptionBasketFilters = async () => {\r\n        return await Fetch.Get('reception_basket_filters')\r\n            .then(res => this.setReceptionBasketFilters(res))\r\n            .then(() => {\r\n                this.fetchGeneralLists();\r\n                this.fetchBankAccount();\r\n                this.fetchTrendCoordinator();\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchGeneralLists = () => {\r\n        Fetch.Get('general_lists')\r\n            .then(res => this.setGeneralLists(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchEditIncome = async (id, body) => {\r\n        return await Fetch.Put(`income/${id}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchDeleteIncome = async (id, body) => {\r\n        return await Fetch.Delete(`income${id ? `/${id}` : ''}`, body)\r\n            .then(res => res.error)\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPrint = async (onlyShown) => {\r\n        let body = [];\r\n        onlyShown && this.allReceptionBasket[0][this.selectedLeftTableTab].map(item => item.is_printable && (body = [...body, item.expense_id]));\r\n\r\n        if (!(onlyShown && body.length === 0)) {\r\n            return await Fetch.Post('income/print_payment', body, true)\r\n                .catch(err => console.error(err))\r\n        }\r\n    }\r\n\r\n    fetchBankAccount = () => {\r\n        Fetch.Get('bank_account?verbose=true')\r\n            .then(res => this.setBankAccount(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchTrendCoordinator = () => {\r\n        Fetch.Get('trend_coordinator')\r\n            .then(res => this.setTrendCoordinator(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n}\r\n\r\nexport default new ReceptionBasketStore();","import { makeAutoObservable } from 'mobx';\r\nimport * as Fetch from '../fetches/Fetch';\r\n\r\nclass PeriodicReceptionStore {\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    allPeriodicReception = null;\r\n    leftTablePeriodicReception = Array(10).fill('');\r\n    rightTablePeriodicReception = Array(10).fill('');\r\n    periodicReceptionFilters = [];\r\n    periodicReceptionFiltersToSend = { pr_filters: [] };\r\n    periodicReceptionFiltersDateToSend = {\r\n        pr_filters: [{ name: 'periodic_reception_create_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }]\r\n    };\r\n    periodicReceptionFiltersDateSelectedOption = [];\r\n    selectedRightTableTab = 'institution';\r\n    leftTableSearch = '';\r\n    rightTableSearch = '';\r\n    dateFrom = ''; // `${new Date().getFullYear()}-01-01`;\r\n    dateTo = ''; // `${new Date().toISOString().slice(0, 10)}`;\r\n    leftTableHeight = 0;\r\n    rightTableHeight = 0;\r\n    leftTableCheckbox = [];\r\n    rightTableCheckbox = [];\r\n    rightTableSelectedItems = [];\r\n    checkedFilters = [];\r\n    expenseMessage = '';\r\n    checkIncome = true;\r\n    checkExpense = true;\r\n\r\n    changeCheckBox = (input, value) => {\r\n        if (input === 'income') this.checkIncome = value;\r\n        else if (input === 'expense') this.checkExpense = value;\r\n        this.leftTableSearch = '';\r\n        this.setLeftTablePeriodicReception(this.allPeriodicReception[0], true);\r\n    }\r\n\r\n    afterLeftTableUpdate = () => {\r\n        const newRightTablePeriodicReception = this.rightTablePeriodicReception.map((rightTableItem, index) => {\r\n            if (typeof rightTableItem === 'object' && rightTableItem !== null) {\r\n                const countLeftTableWithSameFkId = this.leftTablePeriodicReception.filter(leftTableItem => !leftTableItem.deleted &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                const countLeftTableWithSameFkIdToPrint = this.leftTableCheckbox.filter(leftTableCheckboxItem =>\r\n                    leftTableCheckboxItem.item && leftTableCheckboxItem.checked &&\r\n                    rightTableItem[`fk_${this.selectedRightTableTab}_id`] === leftTableCheckboxItem.item[`fk_${this.selectedRightTableTab}_id`]).length;\r\n                this.rightTablePeriodicReception[index][`all_selected`] = countLeftTableWithSameFkId === 0 ? false :\r\n                    countLeftTableWithSameFkId === countLeftTableWithSameFkIdToPrint;\r\n            }\r\n            return rightTableItem;\r\n        })\r\n        this.rightTablePeriodicReception = newRightTablePeriodicReception;\r\n    }\r\n\r\n    changeExpenseMessage = (msg) => {\r\n        this.expenseMessage = msg;\r\n    }\r\n\r\n    setCheckedFilters = (checkbox) => {\r\n        this.checkedFilters = checkbox;\r\n    }\r\n\r\n    setRightTableSelectedItems = (checked, index, item) => {\r\n        let tableSelectedItems = this.rightTableSelectedItems;\r\n        if (item) {\r\n            this.leftTableSearch = '';\r\n            tableSelectedItems[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableSelectedItems = [...tableSelectedItems];\r\n        }\r\n\r\n        const haveFilter = tableSelectedItems.some(exist => exist.checked);\r\n        const data = this.leftTableSearch.trim() === '' ? this.allPeriodicReception[0] : this.leftTablePeriodicReception;\r\n        if (haveFilter) {\r\n            let filteredData = [];\r\n            tableSelectedItems.map(check => check.checked && (filteredData = [...filteredData, ...data.filter(rightItem =>\r\n                rightItem[`reception_${this.selectedRightTableTab}_id`] ? rightItem[`reception_${this.selectedRightTableTab}_id`] === check.fk_id : true)]));\r\n            filteredData = filteredData.filter((newSet => ({ identity }) => !newSet.has(identity) && newSet.add(identity))(new Set()));\r\n            this.setLeftTablePeriodicReception(filteredData, true);\r\n        }\r\n        else\r\n            this.setLeftTablePeriodicReception(data, true);\r\n    }\r\n\r\n    setRightTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.rightTableCheckbox;\r\n        if (item) {\r\n            // this.leftTableSearch = '';\r\n            tableCheckbox[index] = {\r\n                checked, fk_id: item[`fk_${this.selectedRightTableTab}_id`]\r\n            };\r\n            this.rightTableCheckbox = [...tableCheckbox];\r\n\r\n            this.leftTableCheckbox = this.leftTablePeriodicReception.map((leftTableItem, index) =>\r\n                item[`fk_${this.selectedRightTableTab}_id`] === leftTableItem[`fk_${this.selectedRightTableTab}_id`] ?\r\n                    ({ checked, item: leftTableItem }) : this.leftTableCheckbox[index])\r\n        }\r\n    }\r\n\r\n    setLeftTableCheckbox = (checked, index, item) => {\r\n        let tableCheckbox = this.leftTableCheckbox;\r\n        tableCheckbox[index] = {\r\n            checked, item\r\n        };\r\n\r\n        this.leftTableCheckbox = [...tableCheckbox];\r\n    }\r\n\r\n    setLeftTableHeight = (height) => {\r\n        this.leftTableHeight = height;\r\n    }\r\n\r\n    setRightTableHeight = (height) => {\r\n        this.rightTableHeight = height;\r\n    }\r\n\r\n    setDateFromTo = (from, to) => {\r\n        from ? (this.dateFrom = from.slice(0, 10).split('/').reverse().join('-')) : from === '' && (this.dateFrom = '');\r\n        to ? (this.dateTo = to.slice(0, 10).split('/').reverse().join('-')) : to === '' && (this.dateTo = '');\r\n    }\r\n\r\n    setTableSearch = (tableIndex, value) => {\r\n        if (tableIndex === 0) {\r\n            this.leftTableSearch = value;\r\n            const filteredSearch = (this.allPeriodicReception[tableIndex]).filter(search => search.identity?.includes(value) ||\r\n                search.heb_attribution?.includes(value) || search.full_name?.toLowerCase()?.includes(value.toLowerCase()) ||\r\n                search.payment_status?.includes(value) || search.amount?.toString()?.includes(value) || search.payment_method?.includes(value) ||\r\n                (search.for_month?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.printing_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value) ||\r\n                (search.reception_date?.slice(0, 10).split('-').reverse().join('/'))?.includes(value));\r\n            this.setLeftTablePeriodicReception(filteredSearch);\r\n        }\r\n        else {\r\n            this.rightTableSearch = value;\r\n            const filteredSearch = (this.allPeriodicReception[tableIndex])[this.selectedRightTableTab].filter(search =>\r\n                search.name?.toLowerCase()?.includes(value.toLowerCase()) || search.balance?.toString()?.includes(value) ||\r\n                search.balance_total?.toString()?.includes(value));\r\n            this.setRightTablePeriodicReception(filteredSearch);\r\n        }\r\n    }\r\n\r\n    setSelectedTableTab = (tableIndex, tab) => {\r\n        if (tableIndex === 1 && this.selectedRightTableTab !== tab) {\r\n            this.rightTableSearch = '';\r\n            this.selectedRightTableTab = tab;\r\n            this.setRightTablePeriodicReception((this.allPeriodicReception[tableIndex])[tab]);\r\n            this.setRightTableSelectedItems();\r\n        }\r\n    }\r\n\r\n    setPeriodicReceptionFiltersToSend = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex, fill) => {\r\n        fill === 'checkAll' && (this.periodicReceptionFiltersToSend = { pr_filters: [] });\r\n\r\n        fill === 'unCheckAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => false))) :\r\n            fill === 'checkAll' ? this.checkedFilters = this.checkedFilters.map(checkboxes => checkboxes.map(checkbox => checkbox.map(() => true))) :\r\n                titleIndex - 1 > -1 && (this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex] = !this.checkedFilters[titleIndex - 1][filterIndex][checkboxIndex]);\r\n\r\n        fill === 'unCheckAll' ?\r\n            this.periodicReceptionFilters.map(filters =>\r\n                filters.name !== 'date_filters' && this.periodicReceptionFiltersToSend[filters.name].map(filter =>\r\n                    filter.checked = [])) :\r\n            fill === 'checkAll' ?\r\n                this.periodicReceptionFilters.map(filters =>\r\n                    filters.name !== 'date_filters' &&\r\n                    filters.filters.map(filter =>\r\n                        this.periodicReceptionFiltersToSend[filters.name] = [...this.periodicReceptionFiltersToSend[filters.name], { name: filter.name, checked: filter.checkboxes }])) :\r\n                this.periodicReceptionFiltersToSend[titleName].map(filter =>\r\n                    filter.name === name && (filter.checked.some(exist => exist === checked) ?\r\n                        (filter.checked = filter.checked.filter(value => value !== checked)) :\r\n                        (filter.checked = [...filter.checked, checked])));\r\n    }\r\n\r\n    setPeriodicReceptionFiltersDateToSend = (date, dateIndex, fill) => {\r\n        const selectedOption = this.periodicReceptionFiltersDateSelectedOption;\r\n        let existIndex = this.periodicReceptionFiltersDateToSend[selectedOption[2]].findIndex(exist => exist.name === selectedOption[1]);\r\n\r\n        if (existIndex === -1) {\r\n            existIndex = this.periodicReceptionFiltersDateToSend[selectedOption[2]].length;\r\n            this.periodicReceptionFiltersDateToSend[selectedOption[2]] = [...this.periodicReceptionFiltersDateToSend[selectedOption[2]],\r\n            { name: selectedOption[1], checked: ['', ''] }]\r\n        }\r\n\r\n        fill === 'clear' ?\r\n            this.periodicReceptionFiltersDateToSend = {\r\n                pr_filters: [{ name: 'periodic_reception_create_date', checked: [`01/01/${new Date().getFullYear()} 00:00`, ''] }],\r\n            } :\r\n            (this.periodicReceptionFiltersDateToSend[selectedOption[2]][existIndex]).checked[dateIndex] = `${date} 00:00`;\r\n    }\r\n\r\n    setPeriodicReceptionFiltersDateSelectedOption = (option) => {\r\n        this.periodicReceptionFiltersDateSelectedOption = option;\r\n        const exist = this.periodicReceptionFiltersDateToSend[option[2]].find(exist => exist.name === option[1]);\r\n        exist ? this.setDateFromTo(exist.checked[0], exist.checked[1]) : this.setDateFromTo('', '');\r\n    }\r\n\r\n    setPeriodicReceptionFilters = (data) => {\r\n        this.periodicReceptionFilters = data;\r\n\r\n        this.checkedFilters = data.map(filter => filter.name && filter.name !== 'date_filters' &&\r\n            filter.filters.map(filters => filters.checkboxes && filters.checkboxes.map(() => true))).filter(data => data && data);\r\n\r\n        const date = data[0].filters[0];\r\n        this.periodicReceptionFiltersDateSelectedOption = [date.display_name, date.name, date.filter_key];\r\n    }\r\n\r\n    setRightTablePeriodicReception = (data) => {\r\n        this.rightTableCheckbox = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        this.rightTableSelectedItems = Array(data.length).fill({ checked: false, fk_id: -1 });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.rightTablePeriodicReception = data.concat(moreRows);\r\n    }\r\n\r\n    setLeftTablePeriodicReception = (data, dontCheckRightTable) => {\r\n        data = data.filter(row => (this.checkIncome && row.amount >= 0) || (this.checkExpense && row.amount < 0))\r\n        this.leftTableCheckbox = Array(data.length).fill({ checked: false });\r\n        const moreRows = data.length < 10 ? Array(10 - data.length).fill('') : [];\r\n        this.leftTablePeriodicReception = data.concat(moreRows);\r\n        !dontCheckRightTable && this.setRightTableSelectedItems();\r\n    }\r\n\r\n    setAllPeriodicReception = (data) => {\r\n        data && data.length > 0 && (data[0] = Object.keys(data[0]).map(key => data[0][key]).flat());\r\n        this.allPeriodicReception = data;\r\n        data && data.length > 0 && this.setLeftTablePeriodicReception(data[0]);\r\n        data && data.length > 1 && data[1][this.selectedRightTableTab] && this.setRightTablePeriodicReception(data[1][this.selectedRightTableTab])\r\n    }\r\n\r\n    fetchFilteredPeriodicReception = (body) => {\r\n        body = {}; // need to check\r\n        this.setAllPeriodicReception(null);\r\n        Fetch.Post('periodic_reception_report', body)\r\n            .then(res => this.setAllPeriodicReception(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    fetchPeriodicReceptionFilters = async () => {\r\n        return await !sessionStorage.getItem('reload') && Fetch.Get('periodic_reception_filters')\r\n            .then(res => this.setPeriodicReceptionFilters(res))\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    resetCheckbox = () => {\r\n        this.leftTableCheckbox = Array(this.leftTablePeriodicReception.length).fill({ checked: false });\r\n    }\r\n}\r\n\r\nexport default new PeriodicReceptionStore();","import React from \"react\";\r\nimport  ReactDOM from \"react-dom\";\r\nimport PaymentReportStore from \"../../store/PaymentReportStore\";\r\n\r\nimport classes from './Modal.module.css'\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlays\");\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <>\r\n      {console.log('Modal')}\r\n      {ReactDOM.createPortal(<Backdrop onClose={props.onClose} />, portalElement)}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import * as React from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell, { tableCellClasses } from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport {Paper} from \"@mui/material\";\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n  [`&.${tableCellClasses.head}`]: {\r\n    backgroundColor: theme.palette.common.black,\r\n    color: theme.palette.common.white,\r\n  },\r\n  [`&.${tableCellClasses.body}`]: {\r\n    fontSize: 14,\r\n  },\r\n}));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n  \"&:nth-of-type(odd)\": {\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  // hide last border\r\n  \"&:last-child td, &:last-child th\": {\r\n    border: 0,\r\n  },\r\n}));\r\n\r\nconst TableTemplate = (props) => {\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{marginRight:'30px' , minWidth: 700 }} aria-label=\"customized table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            {props.Headers.map((field) => (\r\n              <StyledTableCell align=\"right\">{field}</StyledTableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {props.bodyCellData.map((rows) => {\r\n            const cellData = Object.values(rows);\r\n            return (\r\n              <StyledTableRow key={rows.error}>\r\n                {cellData.map((cell) => (\r\n                  <StyledTableCell align=\"right\">{cell}</StyledTableCell>\r\n                ))}\r\n              </StyledTableRow>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\n\r\nexport default TableTemplate;\r\n","import { borderRadius } from \"@mui/system\";\r\nimport React, { useEffect ,useState} from \"react\";\r\nimport TableTemplate from \"../UI/TableTemplate\";\r\n\r\n\r\nconst CSVFilePopup = (props) => {\r\n  console.log('CSVFilePopup');\r\n  const [headers,setHeaders]=useState([])\r\n\r\n\r\n  const {data}=props\r\n  console.log(data);\r\n  useEffect(()=>{\r\n    if(data.errors.length>0){\r\n      const tableTitles= Object.keys(data.errors[0])\r\n      setHeaders(tableTitles)\r\n\r\n    }\r\n\r\n  },[data])\r\n  const convertTableData=()=>{\r\n\r\n  }\r\n\r\n  return (\r\n    <div style={{direction: 'rtl',padding:'20px', backgroundColor: 'gray' ,borderRadius:'15px'}}>\r\n      <h3  style={{width:'100%', textAlign:'center'}}>{data.title}</h3>\r\n      <div  className=\"success\">\r\n        <label> :</label>\r\n        <p  style={{marginRight:'30px'}}>{data.success}</p>\r\n      </div>\r\n    \r\n      <div className=\"table\">\r\n        <label> :</label>\r\n        {headers?<TableTemplate Headers={headers} bodyCellData={data.errors} />:'0'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CSVFilePopup;\r\n","import React from \"react\";\r\nimport Store from '../../store/RootStore';\r\n\r\nimport Modal from \"../UI/Modal\";\r\nimport CSVFilePopup from \"./CSVFilePopup\";\r\nimport { Spin } from \"react-loading-io\";\r\n\r\nconst Popup = (props) => {\r\n  const { uploadCSVFile } = Store;\r\n\r\n  console.log('popuptem');\r\n  console.log(props.data);\r\n\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {uploadCSVFile.loader ? <div style={{ display: 'flex', justifyContent: 'center', alignContent:'center' }}>\r\n        <Spin size={150} color='rgba(0 0 0 / 0.7)' />\r\n      </div>:<div style={{ width:'100%', height:'90%', overflowY:'scroll',display: 'flex', gap: '25PX', alignContent:'center', flexDirection:'column' }}>\r\n      <div style={{ width:'20px' }}>\r\n      <button onClick={props.onClose}>Close</button>\r\n\r\n      </div>\r\n      {props.data.map((info) => {\r\n        if(!info.popup_results){\r\n          return props.downloadJson(true)\r\n        }\r\n        props.downloadJson(false)\r\n        return info.popup_results.map((index)=><CSVFilePopup key={index.name} data={index} />) \r\n      }\r\n      )}</div>}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","import React, { useEffect,useState } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport SelectData from './SelectData';\r\nimport { Spin } from \"react-loading-io\";\r\nimport Store from '../../store/RootStore';\r\nimport PopupTemplate from '../popup/PopupTemplate'\r\nconst fileDownload = require('js-file-download');\r\n\r\n\r\n\r\nconst UploadCSVFile = (props) => {\r\n    const { uploadCSVFile } = Store;\r\n    const [uploadData,setUploadData]=useState(null)\r\n    const [popupIsShown,setPopupIsShown]=useState(false)\r\n    const [googleSheetsToogle,setGoogleSheetsToogle]=useState(false)\r\n    const [downloadJson,setDownloadJson]=useState(false)\r\n\r\n\r\n    const regexNumber = /^\\d+$/\r\n    useEffect(() => {\r\n        uploadCSVFile.callFetch();\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('useEffect');\r\n\r\n        if(downloadJson){\r\n        uploadCSVFile.sendData()\r\n            .then(res => {\r\n                console.log(downloadJson);\r\n\r\n                    const newBlob = new Blob([JSON.stringify(res)], { type: 'application/json' });\r\n                    const url = window.URL || window.webkitURL;\r\n                    const link = document.createElement('a');\r\n                    link.download = 'data.json';\r\n                    link.href = url.createObjectURL(newBlob);\r\n                    link.target = '_blank';\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                    document.body.removeChild(link);\r\n            })\r\n        }\r\n\r\n\r\n    \r\n    },[downloadJson])\r\n\r\n    const HandleUploadCSV = () => {\r\n        uploadCSVFile.sendData()\r\n            .then(res => {\r\n                const filteredData = res.filter(data=>data !==undefined)\r\n                console.log(filteredData);\r\n                setUploadData(filteredData)\r\n                if(!googleSheetsToogle){\r\n\r\n                    setPopupIsShown(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    const Title = ({ title, template_from }) => {\r\n        const HandleDownloadTemplate = () => {\r\n            uploadCSVFile.fetchDownloadTemplate(template_from)\r\n                .then(res => {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                })\r\n        }\r\n\r\n        return <div style={{ display: 'flex' }}>\r\n            <div style={{ fontSize: '1.1em', fontWeight: 'bolder' }}>{title}</div>\r\n            {template_from && <span style={{ marginRight: '10px', color: 'blue', cursor: 'pointer' }} onClick={HandleDownloadTemplate}>template</span>}\r\n        </div>\r\n    }\r\n\r\n\r\n    const Label = ({ setFile, file, update, setUpdate, googleSheetsToggle,googleSheets,name }) => {\r\n        console.log(update);\r\n        console.log(setUpdate);\r\n\r\n        return <div style={{ display: 'flex' }}>\r\n            <label style={{ display: 'flex', cursor:!googleSheets?'pointer':'not-allowed',  width: 'fit-content',backgroundColor:!googleSheets?'none':'#858282'  }}>\r\n                <input type='file' accept='.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel'\r\n                    style={{ display: 'none', backgroundColor:!googleSheets?'none':'#858282' }} disabled={uploadCSVFile.loader?uploadCSVFile.loader:googleSheets} cursor={!googleSheets?'pointer':'not-allowed'} value={e=> e.target.value} onClick={e => e.target.value=''} onChange={e => setFile(e.target.files[0] || null)} />\r\n                <div style={{ display: 'flex', alignItem: 'center', paddingRight: '5px', border: '1px solid black', width: '20em', marginLeft: '5px', overflow: 'hidden' }}>{file?.name}</div>\r\n                <div className='button paymentReportFiltersResetButton'\r\n                    style={{ padding: '0.2em 0.5em',backgroundColor:!googleSheets?'none':'#858282',cursor:!googleSheets?'pointer':'not-allowed', disabled:googleSheets} }>\r\n                    \r\n                </div>\r\n            </label>\r\n            <div style={{ display: 'flex', flexDirection:\"column\" }}>\r\n            <label style={{ display: 'flex', alignItems: 'center',  marginRight: '5px' }}>\r\n                <input type='checkbox' checked={!!update}  onChange={e => setUpdate && setUpdate(e.target.checked)} />\r\n                \r\n            </label>\r\n            <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', marginRight: '5px' }}>\r\n                <input type='checkbox'  name={name} checked={googleSheets}  onChange={e => googleSheetsToggle(e.target.checked)} />\r\n                Google Sheets\r\n            </label>\r\n\r\n            </div >\r\n        </div>\r\n    }\r\n\r\n    const hidePopupHandler =()=>{\r\n        setPopupIsShown(false)\r\n\r\n    }\r\n    return (\r\n        <Container title='   -   ' >\r\n            <div>\r\n                {(popupIsShown || uploadCSVFile.loader) && <PopupTemplate  onClose = {hidePopupHandler}  data={uploadData} downloadJson={setDownloadJson}/>  }\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                           \r\n                    <div>   - </div>\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <div style={{ width: '50%' }}>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='institution_bank_account' />\r\n                            <Label name='institution_bank_account' setFile={file => uploadCSVFile.setInstitutionBankAccount(file)} file={uploadCSVFile.institutionBankAccount} googleSheets={uploadCSVFile.googleSheetsInstitutionBankAccount} googleSheetsToggle={uploadCSVFile.setGoogleSheetsInstitutionBankAccount} update={uploadCSVFile.institutionBankAccountUpdate} setUpdate={uploadCSVFile.setInstitutionBankAccountUpdate}/>\r\n                            {uploadCSVFile.errorInstitutionBankAccount.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorInstitutionBankAccount}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='branch' />\r\n                            <Label name='branch' setFile={file => uploadCSVFile.setBranch(file)} file={uploadCSVFile.branch} googleSheetsToggle={uploadCSVFile.setGoogleSheetsBranch} googleSheets={uploadCSVFile.googleSheetsBranch} update={uploadCSVFile.branchUpdate} setUpdate={uploadCSVFile.setBranchUpdate}/>\r\n                            {uploadCSVFile.errorBranch.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorBranch}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='trend_coordinator' />\r\n                            <Label name='trend_coordinator' setFile={file => uploadCSVFile.setTrendCoordinator(file)} file={uploadCSVFile.trendCoordinator} googleSheetsToggle={uploadCSVFile.setGoogleSheetsTrendCoordinator} googleSheets={uploadCSVFile.googleSheetsTrendCoordinator} update={uploadCSVFile.trendCoordinatorUpdate} setUpdate={uploadCSVFile.setTrendCoordinatorUpdate} />\r\n                            {uploadCSVFile.errorTrendCoordinator.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorTrendCoordinator}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='course_enrollment_trend_coordinator_attribution' />\r\n                            <Label name='course_enrollment_trend_coordinator_attribution' setFile={file => uploadCSVFile.setCourseEnrollmentTrendCoordinatorAttribution(file)} file={uploadCSVFile.courseEnrollmentTrendCoordinatorAttribution} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution} googleSheets={uploadCSVFile.googleSheetsCourseEnrollmentTrendCoordinatorAttribution} update={uploadCSVFile.courseEnrollmentTrendCoordinatorAttributionUpdate} setUpdate={uploadCSVFile.setCourseEnrollmentTrendCoordinatorAttributionUpdate} />\r\n                            {uploadCSVFile.errorCourseEnrollmentTrendCoordinatorAttribution.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCourseEnrollmentTrendCoordinatorAttribution}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='student' />\r\n                            <Label name='student' setFile={file => uploadCSVFile.setStudents(file)} file={uploadCSVFile.students} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudents}   googleSheets={uploadCSVFile.googleSheetsStudents}  update={uploadCSVFile.studentsUpdate} setUpdate={uploadCSVFile.setStudentsUpdate}/>\r\n                            {uploadCSVFile.errorStudents.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudents}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='course_enrollment' />\r\n                            <Label name='course_enrollment' setFile={file => uploadCSVFile.setCourseEnrollment(file)} file={uploadCSVFile.courseEnrollment} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCourseEnrollment} googleSheets={uploadCSVFile.googleSheetsCourseEnrollment}  update={uploadCSVFile.courseEnrollmentUpdate} setUpdate={uploadCSVFile.setCourseEnrollmentUpdate}/>\r\n                            {uploadCSVFile.errorCourseEnrollment.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCourseEnrollment}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='supplier' />\r\n                            <Label name='supplier' setFile={file => uploadCSVFile.setSupplier(file)} file={uploadCSVFile.supplier} googleSheetsToggle={uploadCSVFile.setGoogleSheetsSupplier} googleSheets={uploadCSVFile.googleSheetsSupplier}  update={uploadCSVFile.supplierUpdate} setUpdate={uploadCSVFile.setSupplierUpdate}/>\r\n                            {uploadCSVFile.errorSupplier.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorSupplier}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' template_from='donator' />\r\n                            <Label name='donator' setFile={file => uploadCSVFile.setDonator(file)} file={uploadCSVFile.donator} googleSheetsToggle={uploadCSVFile.setGoogleSheetsDonator} googleSheets={uploadCSVFile.googleSheetsDonator}  update={uploadCSVFile.donatorUpdate} setUpdate={uploadCSVFile.setDonatorUpdate} />\r\n                            {uploadCSVFile.errorDonator.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorDonator}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='general_bank_account' />\r\n                            <SelectData titles={['']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.generalBanksAttribution} onChange={(e) => uploadCSVFile.setGeneralBanksAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='general_bank_account' setFile={file => uploadCSVFile.setGeneralBanks(file)} file={uploadCSVFile.generalBanks} googleSheetsToggle={uploadCSVFile.setGoogleSheetsGeneralBanks} googleSheets={uploadCSVFile.googleSheetsGeneralBanks}  update={uploadCSVFile.generalBanksUpdate} setUpdate={uploadCSVFile.setGeneralBanksUpdate}/>\r\n                            {uploadCSVFile.errorGeneralBanks.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorGeneralBanks}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='periodic_reception' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.periodicReceptionBankAccountNumber} onChange={(e) => uploadCSVFile.setPeriodicReceptionBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='periodic_reception' setFile={file => uploadCSVFile.setPeriodicReception(file)} file={uploadCSVFile.periodicReception} googleSheetsToggle={uploadCSVFile.setGoogleSheetsPeriodicReception} googleSheets={uploadCSVFile.googleSheetsPeriodicReception}  update={uploadCSVFile.periodicReceptionUpdate} setUpdate={uploadCSVFile.setPeriodicReceptionUpdate} />\r\n                            {uploadCSVFile.errorPeriodicReception.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorPeriodicReception}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='clearing_platform' />\r\n                            <SelectData titles={['']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.clearingPlatformTrendCoordinatorID} onChange={(e) => uploadCSVFile.setClearingPlatformTrendCoordinatorID(e.target.value)}>\r\n                                        <option key={''} value={''} />\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='clearing_platform' setFile={file => uploadCSVFile.setClearingPlatform(file)} file={uploadCSVFile.clearingPlatform} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearingPlatform} googleSheets={uploadCSVFile.googleSheetsClearingPlatform}  update={uploadCSVFile.clearingPlatformUpdate} setUpdate={uploadCSVFile.setClearingPlatformUpdate} />\r\n                            {uploadCSVFile.errorClearingPlatform.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearingPlatform}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='msv_scraping' />\r\n                            <SelectData titles={['']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.clearingPlatformTrendCoordinatorID} onChange={(e) => uploadCSVFile.setClearingPlatformTrendCoordinatorID(e.target.value)}>\r\n                                        <option key={''} value={''} />\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='clearing_platform' setFile={file => uploadCSVFile.setClearingPlatform(file)} file={uploadCSVFile.clearingPlatform} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearingPlatform} googleSheets={uploadCSVFile.googleSheetsClearingPlatform}  update={uploadCSVFile.clearingPlatformUpdate} setUpdate={uploadCSVFile.setClearingPlatformUpdate} />\r\n                            {uploadCSVFile.errorClearingPlatform.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearingPlatform}</div>}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '50%' }}>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='current_account' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.currentAccountBankAccountNumber} onChange={(e) => uploadCSVFile.setCurrentAccountBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='current_account' setFile={file => uploadCSVFile.setCurrentAccount(file)} file={uploadCSVFile.currentAccount} googleSheetsToggle={uploadCSVFile.setGoogleSheetsCurrentAccount}  googleSheets={uploadCSVFile.googleSheetsCurrentAccount}  update={uploadCSVFile.currentAccountUpdate} setUpdate={uploadCSVFile.setCurrentAccountUpdate}/>\r\n                            {uploadCSVFile.errorCurrentAccount.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorCurrentAccount}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='income'/>\r\n                            <SelectData titles={['  ', ' ', ' ', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesSourceID} onChange={(e) => uploadCSVFile.setStudentsIncomesSourceID(e.target.value)}>\r\n                                        {uploadCSVFile.incomeSource.map(income => <option key={income.id} value={income.id}>{income.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesMethod} onChange={(e) => uploadCSVFile.setStudentsIncomesMethod(e.target.value)}>\r\n                                        {uploadCSVFile.paymentMethods.map(payment => <option key={payment} value={payment}>{payment}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsIncomesBankAccountNumber} onChange={(e) => uploadCSVFile.setStudentsIncomesBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentsPaymentStatus} onChange={(e) => uploadCSVFile.setStudentsPaymentStatus(e.target.value)}>\r\n                                        {uploadCSVFile.paymentStatus.map(status => <option key={status} value={status}>{status}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='income' setFile={file => uploadCSVFile.setStudentsIncomes(file)} file={uploadCSVFile.studentsIncomes} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentsIncomes} googleSheets={uploadCSVFile.googleSheetsStudentsIncomes}   update={uploadCSVFile.studentsIncomesUpdate} setUpdate={uploadCSVFile.setStudentsIncomesUpdate}/>\r\n                            {uploadCSVFile.errorStudentsIncomes.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentsIncomes}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='payment_failure' />\r\n                            <Label name='payment_failure' setFile={file => uploadCSVFile.setStudentsPaymentFailure(file)} file={uploadCSVFile.studentsPaymentFailure} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentsPaymentFailure} googleSheets={uploadCSVFile.googleSheetsStudentsPaymentFailure}  update={uploadCSVFile.studentsPaymentFailureUpdate} setUpdate={uploadCSVFile.setStudentsPaymentFailureUpdate} />\r\n                            {uploadCSVFile.errorStudentsPaymentFailure.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentsPaymentFailure}</div>}\r\n                        </div>\r\n                        {/*   */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='  ' template_from='clearing' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.clearingPlatformID} onChange={(e) => uploadCSVFile.setClearingPlatformID(e.target.value)}>\r\n                                        {uploadCSVFile.platforms.map(platform => <option key={platform.id} value={platform.id}>{platform.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='clearing' setFile={file => uploadCSVFile.setClearing(file)} file={uploadCSVFile.clearing} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearing} googleSheets={uploadCSVFile.googleSheetsClearing}  update={uploadCSVFile.clearingUpdate} setUpdate={uploadCSVFile.setClearingUpdate}/>\r\n                            {uploadCSVFile.errorClearing.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearing}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='clearing_validation' />\r\n                            <Label name='clearing_validation'  setFile={file => uploadCSVFile.setClearingValidation(file)} file={uploadCSVFile.clearingValidation} googleSheetsToggle={uploadCSVFile.setGoogleSheetsClearingValidation} googleSheets={uploadCSVFile.googleSheetsClearingValidation}  update={uploadCSVFile.clearingValidationUpdate} setUpdate={uploadCSVFile.setClearingValidationUpdate} />\r\n                            {uploadCSVFile.errorClearingValidation.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorClearingValidation}</div>}\r\n                        </div>\r\n                        {/*   \" */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   - \"' template_from='msv' />\r\n                            <SelectData titles={['', ' ', ' ', ' ', '']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvAttribution} onChange={(e) => uploadCSVFile.setMsvAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvBankAccountNumber} onChange={(e) => uploadCSVFile.setMsvBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvForDate} onChange={e => uploadCSVFile.setMsvForDate(e.target.value)} />\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvSendingDate} onChange={e => uploadCSVFile.setMsvSendingDate(e.target.value)} />\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.msvTrendCoordinator} onChange={(e) => uploadCSVFile.setMsvTrendCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='msv' setFile={file => uploadCSVFile.setMSV(file)} file={uploadCSVFile.msv} googleSheetsToggle={uploadCSVFile.setGoogleSheetsMSV}  googleSheets={uploadCSVFile.googleSheetsMSV}  update={uploadCSVFile.msvUpdate} setUpdate={uploadCSVFile.setMsvUpdate} />\r\n                            {uploadCSVFile.errorMSV.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorMSV}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   - ' template_from='check' />\r\n                            <SelectData titles={['', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.checksAttribution} onChange={(e) => uploadCSVFile.setChecksAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.checksBankAccountNumber} onChange={(e) => uploadCSVFile.setChecksBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='check' setFile={file => uploadCSVFile.setChecks(file)} file={uploadCSVFile.checks} googleSheetsToggle={uploadCSVFile.setGoogleSheetsChecks} googleSheets={uploadCSVFile.googleSheetsChecks}  update={uploadCSVFile.checksUpdate} setUpdate={uploadCSVFile.setChecksUpdate}/>\r\n                            {uploadCSVFile.errorChecks.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorChecks}</div>}\r\n                        </div>\r\n                        {/*  */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title=' ' />\r\n                            <SelectData key='invoice' titles={['', '', '', ' ', '', ' ', '  ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceInstitutionBranchCoordinator} onChange={(e) => uploadCSVFile.setInvoiceInstitutionBranchCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.institutionBranchCoordinators.map(institution => <option key={institution.id} value={institution.identity}>{institution.identity} - {institution.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceTrendCoordinator} onChange={(e) => uploadCSVFile.setInvoiceTrendCoordinator(e.target.value)}>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.name}>{trend.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceSupplier} onChange={(e) => uploadCSVFile.setInvoiceSupplier(e.target.value)}>\r\n                                        {uploadCSVFile.suppliers.map(supplier => <option key={supplier.id} value={supplier.identity}>{supplier.identity} - {supplier.name}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceDate} onChange={e => uploadCSVFile.setInvoiceDate(e.target.value)} />\r\n                                    <input style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceSum}\r\n                                        onChange={e => regexNumber.test(e.target.value) && uploadCSVFile.setInvoiceSum(e.target.value || '0')} />\r\n                                    <input style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceNumber}\r\n                                        onChange={e => uploadCSVFile.setInvoiceNumber(e.target.value)} />\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.invoiceLastDate} onChange={e => uploadCSVFile.setInvoiceLastDate(e.target.value)} />\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='invoice' setFile={file => uploadCSVFile.setInvoice(file)} file={uploadCSVFile.invoice} googleSheetsToggle={uploadCSVFile.setGoogleSheetsInvoice} googleSheets={uploadCSVFile.googleSheetsInvoice}  update={uploadCSVFile.invoiceUpdate} setUpdate={uploadCSVFile.setInvoiceUpdate} />\r\n                            {uploadCSVFile.errorInvoice.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorInvoice}</div>}\r\n                        </div>\r\n                        {/*     */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='    ' template_from='student_insurance' />\r\n                            <SelectData titles={[' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.studentInsuranceBankAccountNumber} onChange={(e) => uploadCSVFile.setStudentInsuranceBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                </div>\r\n                            </SelectData>\r\n                            <Label name='student_insurance' setFile={file => uploadCSVFile.setStudentInsurance(file)} file={uploadCSVFile.studentInsurance} googleSheetsToggle={uploadCSVFile.setGoogleSheetsStudentInsurance} googleSheets={uploadCSVFile.googleSheetsStudentInsurance}  update={uploadCSVFile.studentInsuranceUpdate} setUpdate={uploadCSVFile.setStudentsInsuranceUpdate}/>\r\n                            {uploadCSVFile.errorStudentInsurance.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorStudentInsurance}</div>}\r\n                        </div>\r\n                        {/*    */}\r\n                        <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                            <Title title='   ' template_from='expense_draft' />\r\n                            <SelectData titles={uploadCSVFile.expenseDraftAttribution === 'student' ?\r\n                                ['', ' ', '', ' ', ' ', ' '] :\r\n                                ['', ' ', '', ' ', ' ']} >\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <select style={{ width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftAttribution} onChange={(e) => uploadCSVFile.setExpenseDraftAttribution(e.target.value)}>\r\n                                        {uploadCSVFile.attributions.map(attribution => <option key={attribution} value={attribution}>{attribution}</option>)}\r\n                                    </select>\r\n                                    <input type='date' style={{ marginTop: '5px', width: 'fit-content', height: '1em', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftForMonth} onChange={e => uploadCSVFile.setExpenseDraftForMonth(e.target.value)} />\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftTrendCoordinator} onChange={(e) => uploadCSVFile.setExpenseDraftTrendCoordinator(e.target.value)}>\r\n                                        <option value=''>  ()</option>\r\n                                        {uploadCSVFile.trendCoordinators.map(trend => <option key={trend.id} value={trend.id}>{trend.name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftBankAccountNumber} onChange={(e) => uploadCSVFile.setExpenseDraftBankAccountNumber(e.target.value)}>\r\n                                        {uploadCSVFile.bankAccounts.map(bank => <option key={bank.id} value={bank.account_number}>{bank.account_number} - {bank.institution_name}</option>)}\r\n                                    </select>\r\n                                    <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftPaymentMethod} onChange={(e) => uploadCSVFile.setExpenseDraftPaymentMethod(e.target.value)}>\r\n                                        <option value=''>   ()</option>\r\n                                        {uploadCSVFile.paymentMethods.map(payment => <option key={payment} value={payment}>{payment}</option>)}\r\n                                    </select>\r\n                                    {uploadCSVFile.expenseDraftAttribution === 'student' &&\r\n                                        <select style={{ marginTop: '5px', width: 'fit-content', fontSize: '1em', outline: 'none' }} value={uploadCSVFile.expenseDraftScholarshipType} onChange={(e) => uploadCSVFile.setExpenseDraftScholarshipType(e.target.value)}>\r\n                                            {uploadCSVFile.scholarshipTypes.map(type => <option key={type} value={type}>{type}</option>)}\r\n                                        </select>}\r\n                                </div>\r\n                            </SelectData>\r\n                            <div style={{ display: 'flex' }}>\r\n                                <Label name='expense_draft' setFile={file => uploadCSVFile.setExpenseDraft(file)} file={uploadCSVFile.expenseDraft} googleSheetsToggle={uploadCSVFile.setGoogleSheetsExpenseDraft} googleSheets={uploadCSVFile.googleSheetsExpenseDraft}  update={uploadCSVFile.expenseDraftFixedUpdate} setUpdate={uploadCSVFile.setExpenseDraftFixedUpdate}/>\r\n                                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', marginRight: '5px' }}>\r\n                                    <input type='checkbox' checked={uploadCSVFile.expenseDraftFixed} onChange={e => uploadCSVFile.setExpenseDraftFixed(e.target.checked)} />\r\n                                    fixed\r\n                                </label>\r\n                            </div>\r\n\r\n                            {uploadCSVFile.errorExpenseDraft.trim() !== '' && <div style={{ color: 'red' }}>{uploadCSVFile.errorExpenseDraft}</div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start', width: 'fit-content', margin: '2em auto 0' }}>\r\n                    <input disabled={uploadCSVFile.loader} className='button' type='button' value='' style={{ padding: '0.2em 0.5em', fontSize: '1.1em' }} onClick={HandleUploadCSV} />\r\n                </div>\r\n\r\n            </div>\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default observer(UploadCSVFile);","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TopDetails = (props) => {\r\n    const { student, balance, branch, coordinator, allowEdit } = props;\r\n\r\n    // #region new Change\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newStudent, setNewStudent] = useState(null);\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newBranch, setNewBranch] = useState(null);\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [newCoordinator, setNewCoordinator] = useState(null);\r\n    // #endregion\r\n\r\n    // const [change, setChange] = useState(0);\r\n\r\n    useEffect(() => {\r\n        setNewStudent(student);\r\n        setNewBranch(branch);\r\n        setNewCoordinator(coordinator);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    // #region Edit Student Details\r\n    // const [studentName, setStudentName] = useState(false);\r\n    const [studentFirstName, setStudentFirstName] = useState(false);\r\n    const [studentLastName, setStudentLastName] = useState(false);\r\n    const [studentID, setStudentID] = useState(false);\r\n    const [studentIdType, setStudentIdType] = useState(false);\r\n    const [studentPhone, setStudentPhone] = useState(false);\r\n    const [studentAnotherPhone, setStudentAnotherPhone] = useState(false);\r\n    const [studentCountry, setStudentCountry] = useState(false);\r\n    const [studentAddress, setStudentAddress] = useState(false);\r\n    const [studentBirthDate, setStudentBirthDate] = useState(false);\r\n    // #endregion\r\n\r\n    // #region Edit Course Details\r\n    const [branchInstitution, setBranchInstitution] = useState(false);\r\n    const [branchSymbol, setBranchSymbol] = useState(false);\r\n    const [coordinatorName, setCoordinatorName] = useState(false);\r\n    const [studentCourseType, setStudentCourseType] = useState(false);\r\n    const [studentEligibilityLevel, setStudentEligibilityLevel] = useState(false);\r\n    const [studentStartDate, setStudentStartDate] = useState(false);\r\n    const [studentEndDate, setStudentEndDate] = useState(false);\r\n    // #endregion\r\n\r\n    // #region Edit Bank Details\r\n    // const [studentBank, setStudentBank] = useState(false);\r\n    const [studentBankBankNumber, setStudentBankBankNumber] = useState(false);\r\n    const [studentBankBranchNumber, setStudentBankBranchNumber] = useState(false);\r\n    const [studentBankAccountNumber, setStudentBankAccountNumber] = useState(false);\r\n    // const [studentBankAnother, setStudentBankAnother] = useState(false);\r\n    const [studentBankAnotherBankNumber, setStudentBankAnotherBankNumber] = useState(false);\r\n    const [studentBankAnotherBranchNumber, setStudentBankAnotherBranchNumber] = useState(false);\r\n    const [studentBankAnotherAccountNumber, setStudentBankAnotherAccountNumber] = useState(false);\r\n    const [studentPaymentMethod, setStudentPaymentMethod] = useState(false);\r\n    // #endregion\r\n\r\n    const DetailContainer = (props) => {\r\n        return <div style={{ position: 'relative', border: '1px solid black', width: '22%' }}>\r\n            <div style={{ marginTop: '9px', marginBottom: '3px', marginRight: '3px' }}>\r\n                {props.children}\r\n            </div>\r\n            <div style={{ position: 'absolute', border: '1px solid black', backgroundColor: '#fff', left: '-1em', top: '-1em', ...props.titleStyle }}>{props.title}</div>\r\n        </div>\r\n    }\r\n\r\n    const HandleOnChange = (e, target, param, date, moreParam, changeAll, index) => {\r\n        const value = date ? new Date(e.target.value).toISOString() : e.target.value;\r\n        // const value = date ? e.target.value.split('-').reverse().join('/') : e.target.value;\r\n        const splitParams = param.split('.');\r\n\r\n        splitParams[0] === 'bank' && student.bank.length === 0 && setNewStudent(student[splitParams[0]] = new Array(2).fill({ bank_number: '', branch_number: '', account_number: '' }));\r\n\r\n        target === 'student' && setNewStudent(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? student[splitParams[0]][index - 1][splitParams[1]] = value : student[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? student[splitParams[0]][index - 1] = value : student[splitParams[0]] = value));\r\n        target === 'branch' && setNewBranch(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? branch[splitParams[0]][index - 1][splitParams[1]] = value : branch[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? branch[splitParams[0]][index - 1] = value : branch[splitParams[0]] = value));\r\n        target === 'coordinator' && setNewCoordinator(changeAll ? changeAll : splitParams.length > 1 ?\r\n            (index ? coordinator[splitParams[0]][index - 1][splitParams[1]] = value : coordinator[splitParams[0]][splitParams[1]] = value) :\r\n            (index ? coordinator[splitParams[0]][index - 1] = value : coordinator[splitParams[0]] = value));\r\n\r\n        props.onChange(target, splitParams, value, changeAll, index);\r\n        moreParam && moreParam.map(change => props.onChange(change['target'], change['param'].split('.'),\r\n            (date ? change['value'].split('-').reverse().join('/') : change['value'])));\r\n    }\r\n\r\n    // const HandleBankDetails = (index) => {\r\n    //     return <div style={{ display: 'flex' }}>\r\n    //         <input onClick={() => setChange(1)} autoFocus={change === 1} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='5' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].bank_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, index + 1)} />\r\n    //         <input onClick={() => setChange(2)} autoFocus={change === 2} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='5' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].branch_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, index + 1)} />\r\n    //         <input onClick={() => setChange(3)} autoFocus={change === 3} onBlur={() => setChange(0)}\r\n    //             type='text' maxLength='15' placeholder=' ' value={(student.bank.length > 0 && student.bank[index].account_number) || ''}\r\n    //             onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, index + 1)} />\r\n    //     </div>\r\n    // }\r\n\r\n    return (\r\n        <div className='studentDetails'>\r\n            <DetailContainer title=' ' titleStyle={{ left: '35%' }}>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentName(true)} onBlur={() => setStudentName(false)}>\r\n                    : {student && (studentName ? <div style={{ display: 'flex' }}>\r\n                        <input onClick={() => setChange(1)} autoFocus={change === 1} onBlur={() => setChange(0)} type='text'\r\n                            placeholder='' value={student.first_name || ''} onChange={e => HandleOnChange(e, 'student', 'first_name')} />\r\n                        <input onClick={() => setChange(2)} autoFocus={change === 2} onBlur={() => setChange(0)} type='text'\r\n                            placeholder='' value={student.last_name || ''} onChange={e => HandleOnChange(e, 'student', 'last_name')} />\r\n                    </div> : `${student.first_name} ${student.last_name}`)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentFirstName(true)} onBlur={() => setStudentFirstName(false)}>\r\n                     : {student && (studentFirstName ? <input autoFocus type='text' value={student.first_name || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'first_name')} /> : student.first_name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentLastName(true)} onBlur={() => setStudentLastName(false)}>\r\n                     : {student && (studentLastName ? <input autoFocus type='text' value={student.last_name || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'last_name')} /> : student.last_name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentID(true)} onBlur={() => setStudentID(false)}>\r\n                     : {student && (studentID ? <input autoFocus type='text' value={student.identity || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'identity')} /> : student.identity)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentIdType(true)} onBlur={() => setStudentIdType(false)}>\r\n                     : {student && (studentIdType ? <input autoFocus type='text' value={student.identity_type || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'identity_type')} /> : student.identity_type)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentPhone(true)} onBlur={() => setStudentPhone(false)}>\r\n                    : {student && (studentPhone ? <input autoFocus type='text' value={student.main_phone_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'main_phone_number')} /> : student.main_phone_number)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentAnotherPhone(true)} onBlur={() => setStudentAnotherPhone(false)}>\r\n                     : {student && (studentAnotherPhone ? <input autoFocus type='text' value={student.secondary_phone_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'secondary_phone_number')} /> : student.secondary_phone_number)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentCountry(true)} onBlur={() => setStudentCountry(false)}>\r\n                    : {student && (studentCountry ? <input autoFocus type='text' value={student.state || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'state')} /> : student.state)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentAddress(true)} onBlur={() => setStudentAddress(false)}>\r\n                    : {student && (studentAddress ? <input autoFocus type='text' value={student.address || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'address')} /> : student.address)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBirthDate(true)} onBlur={() => setStudentBirthDate(false)}>\r\n                     : {student && (studentBirthDate ? <input autoFocus type='date' value={(student.birth_date && student.birth_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'birth_date', true)} /> : student.birth_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title=' ' titleStyle={{ left: '35%' }}>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setBranchInstitution(true)} onBlur={() => setBranchInstitution(false)}>\r\n                    : {branch && branch.institution && (branchInstitution ? <select autoFocus value={branch.institution.identity || ''}\r\n                        onChange={e => HandleOnChange(e, 'branch', 'institution.identity', false,\r\n                            [{ target: 'branch', param: 'institution.name', value: props.institutionBranchCoordinator[e.target.value]['name'] },\r\n                            { target: 'branch', param: 'symbol', value: Object.keys(props.institutionBranchCoordinator[e.target.value]['branches'])[0] }])}>\r\n                        {props.institutionBranchCoordinator && Object.values(props.institutionBranchCoordinator).map(res =>\r\n                            <option key={res.identity} value={res.identity}>{`${res.name} - ${res.identity}`}</option>)}\r\n                    </select>\r\n                        : `${branch.institution.name} ${branch.institution.identity}`)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setBranchSymbol(true)} onBlur={() => setBranchSymbol(false)}>\r\n                    : {branch && (branchSymbol ? <select autoFocus value={branch.symbol || ''}\r\n                        onChange={e => HandleOnChange(e, 'branch', 'symbol')}>\r\n                        {props.institutionBranchCoordinator && branch.institution && branch.institution.identity &&\r\n                            Object.keys(props.institutionBranchCoordinator[branch.institution.identity]['branches']).map(res =>\r\n                                <option key={res} value={res}>{res}</option>)}\r\n                    </select> : branch.symbol)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setCoordinatorName(true)} onBlur={() => setCoordinatorName(false)}>\r\n                     : {coordinator && (coordinatorName ? <select autoFocus value={coordinator.id || ''}\r\n                        onChange={e => HandleOnChange(e, 'coordinator', 'id', false,\r\n                            [{ target: 'student', param: 'fk_trend_coordinator_id', value: parseInt(e.target.value) }],\r\n                            props.trendCoordinator.find(res => res.id === parseInt(e.target.value)))} >\r\n                        {props.trendCoordinator && props.trendCoordinator.map(res =>\r\n                            <option key={res.id} value={res.id}>{res.name}</option>)} </select> : coordinator.name)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentCourseType(true)} onBlur={() => setStudentCourseType(false)}>\r\n                    : {student && props.generalLists && (studentCourseType ? <select autoFocus value={student.course_type || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'course_type')} >\r\n                        {props.generalLists.course_types && Object.keys(props.generalLists.course_types).map(res =>\r\n                            <option key={res} value={res}>{props.generalLists.course_types[res]}</option>)}\r\n                    </select> : props.generalLists.course_types[student.course_type])}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentEligibilityLevel(true)} onBlur={() => setStudentEligibilityLevel(false)}>\r\n                     : {student && (studentEligibilityLevel ? <input autoFocus type='text' value={student.eligibility_level || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'eligibility_level')} /> : student.eligibility_level)}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentStartDate(true)} onBlur={() => setStudentStartDate(false)}>\r\n                     : {student && (studentStartDate ? <input autoFocus type='date' value={(student.start_date && student.start_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'start_date', true)} /> : student.start_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentEndDate(true)} onBlur={() => setStudentEndDate(false)}>\r\n                     : {student && (studentEndDate ? <input autoFocus type='date' value={(student.end_date && student.end_date.split('/').reverse().join('-')) || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'end_date', true)} /> : student.end_date?.slice(0, 10).split('-').reverse().join('/'))}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title=' ' titleStyle={{ left: '45%' }}>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentBank(true)} onBlur={() => setStudentBank(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ?\r\n                        (studentBank ? HandleBankDetails(0) :\r\n                            `${student.bank[0].bank_number}, ${student.bank[0].branch_number}, ${student.bank[0].account_number}`) :\r\n                        studentBank && HandleBankDetails(0)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankBankNumber(true)} onBlur={() => setStudentBankBankNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankBankNumber ? <input autoFocus type='text' value={student.bank[0]?.bank_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 1)} /> : student.bank[0]?.bank_number) :\r\n                        studentBankBankNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.bank_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 1)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankBranchNumber(true)} onBlur={() => setStudentBankBranchNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankBranchNumber ? <input autoFocus type='text' value={student.bank[0]?.branch_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 1)} /> : student.bank[0]?.branch_number) :\r\n                        studentBankBranchNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.branch_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 1)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAccountNumber(true)} onBlur={() => setStudentBankAccountNumber(false)}>\r\n                     : {student && student.bank && student.bank.length > 0 ? (studentBankAccountNumber ? <input autoFocus type='text' value={student.bank[0]?.account_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 1)} /> : student.bank[0]?.account_number) :\r\n                        studentBankAccountNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[0]?.account_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 1)} />}</div>\r\n                {/* <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnother(true)} onBlur={() => setStudentBankAnother(false)}>\r\n                     : {student && student.bank && student.bank.length > 1 ?\r\n                        (studentBankAnother ? HandleBankDetails(1) :\r\n                            `${student.bank[1].bank_number}, ${student.bank[1].branch_number}, ${student.bank[1].account_number}`) :\r\n                        studentBankAnother && HandleBankDetails(1)}</div> */}\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherBankNumber(true)} onBlur={() => setStudentBankAnotherBankNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherBankNumber ? <input autoFocus type='text' value={student.bank[1]?.bank_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 2)} /> : student.bank[1]?.bank_number) :\r\n                        studentBankAnotherBankNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.bank_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.bank_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherBranchNumber(true)} onBlur={() => setStudentBankAnotherBranchNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherBranchNumber ? <input autoFocus type='text' value={student.bank[1].branch_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 2)} /> : student.bank[1]?.branch_number) :\r\n                        studentBankAnotherBranchNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.branch_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.branch_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentBankAnotherAccountNumber(true)} onBlur={() => setStudentBankAnotherAccountNumber(false)}>\r\n                      : {student && student.bank && student.bank.length > 0 ? (studentBankAnotherAccountNumber ? <input autoFocus type='text' value={student.bank[1]?.account_number || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 2)} /> : student.bank[1]?.account_number) :\r\n                        studentBankAnotherAccountNumber && <input autoFocus type='text' value={(student.banks?.length > 0 && student.bank[1]?.account_number) || ''}\r\n                            onChange={e => HandleOnChange(e, 'student', 'bank.account_number', null, null, null, 2)} />}</div>\r\n                <div className='studentDetailsData' onClick={() => allowEdit && setStudentPaymentMethod(true)} onBlur={() => setStudentPaymentMethod(false)}>\r\n                      : {student && props.generalLists && (studentPaymentMethod ? <select autoFocus value={student.payment_method || ''}\r\n                        onChange={e => HandleOnChange(e, 'student', 'payment_method')} >\r\n                        {props.generalLists.expense_payment_methods && Object.keys(props.generalLists.expense_payment_methods).map(res =>\r\n                            <option key={res} value={res}>{props.generalLists.expense_payment_methods[res]}</option>)}\r\n                    </select> : props.generalLists.expense_payment_methods[student.payment_method])}</div>\r\n            </DetailContainer>\r\n            <DetailContainer title='' titleStyle={{ left: '40%' }}>\r\n                <div> : {balance ? (balance.yearly_income >= 0 ? balance.yearly_income : `${Math.abs(balance.yearly_income)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.yearly_expense >= 0 ? balance.yearly_expense : `${Math.abs(balance.yearly_expense)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.monthly_balance >= 0 ? balance.monthly_balance : `${Math.abs(balance.monthly_balance)}-`) : 0}</div>\r\n                <div> : {balance ? (balance.yearly_balance >= 0 ? balance.yearly_balance : `${Math.abs(balance.yearly_balance)}-`) : 0}</div>\r\n                <div> : { }</div>\r\n                <div>  : { }</div>\r\n                <div>  : { }</div>\r\n            </DetailContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nTopDetails.propTypes = {\r\n    student: PropTypes.any,\r\n    balance: PropTypes.any,\r\n    branch: PropTypes.any,\r\n    coordinator: PropTypes.any,\r\n    onChange: PropTypes.func,\r\n}\r\n\r\nexport default TopDetails;","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Container from '../containers/Container';\r\nimport TopDetails from './TopDetails';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/student/StudentDetails.css';\r\n\r\nconst StudentProfile = (props) => {\r\n    const history = useHistory();\r\n    const { studentStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem('student_id')) {\r\n            studentStore.fetchStudentById(sessionStorage.getItem('student_id'))\r\n        }\r\n        else {\r\n            sessionStorage.setItem('route', '/finance-report');\r\n            history.push('/finance-report');\r\n        }\r\n\r\n        return () => {\r\n            studentStore.resetDetails();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n        e.currentTarget.classList.add('selectedTab');\r\n        studentStore.setSelectedTableTab(tab);\r\n    }\r\n\r\n    const HandleEditStudent = () => {\r\n        studentStore.fetchSaveStudentDetails();\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' goBack childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <TopDetails\r\n                allowEdit={studentStore.tableData !== null}\r\n                student={studentStore.studentDetails}\r\n                balance={studentStore.studentBalanceDetails}\r\n                branch={studentStore.branchDetails}\r\n                coordinator={studentStore.coordinatorDetails}\r\n                institutionBranchCoordinator={studentStore.institutionBranchCoordinator}\r\n                trendCoordinator={studentStore.trendCoordinator}\r\n                generalLists={studentStore.generalLists}\r\n                onChange={(target, param, value, changeAll, index) => studentStore.changeSelectedData(target, param, value, changeAll, index)} />\r\n            <div style={{ display: 'flex', width: 'fit-content', marginRight: '20px' }}>\r\n                <input className='button' type='button' value=' ' style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => { }} />\r\n                <input className='button' type='button' value=' ' style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => { }} />\r\n                <input className='button' type='button' value='' disabled={!studentStore.editStudent} style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={HandleEditStudent} />\r\n                <input className='button' type='button' value='' title={studentStore.studentDetails?.deleted && '  '} disabled={studentStore.studentDetails?.deleted} style={{ padding: '0.2em 0.5em', margin: '0 5px' }} onClick={() => studentStore.fetchDeleteStudent()} />\r\n            </div>\r\n            <Table header={studentStore.selectedTableTab === 'course_enrollments' ?\r\n                ['  ', '  ', ' ', ' - ', ' ', ' ', ' ', ' ', ' ', '  ', '  '] :\r\n                ['', '', '', ' ', '', '']}\r\n                data={studentStore.tableData || []}\r\n                style={{ hight: '100%' }}\r\n                tableStyle={{ width: '100%' }}>\r\n                <div style={{ position: 'absolute', display: 'flex', left: '1em', top: '-2.4em' }}>\r\n                    <div className='studentDetailsTableTab' onClick={e => HandleSelectedTableTab(e, 'student', 0, '.studentDetailsTableTab')}></div>\r\n                    <div className='studentDetailsTableTab' onClick={e => HandleSelectedTableTab(e, 'course_enrollments', 0, '.studentDetailsTableTab')}> </div>\r\n                    <div className='studentDetailsTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'payments', 0, '.studentDetailsTableTab')}></div>\r\n                </div>\r\n                {!studentStore.tableData && <div className='studentDetailsTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n            </Table>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentProfile));","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { MdClose, MdNavigateBefore, MdNavigateNext } from 'react-icons/md';\r\nimport { BiShekel } from 'react-icons/bi';\r\nimport { Spin } from \"react-loading-io\";\r\n\r\nconst MakeLinkPopUp = (props) => {\r\n    const { bankAccountStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        const makeLinkIndex = bankAccountStore.leftTableBankAccount.findIndex(makeLink => makeLink === bankAccountStore.makeLink);\r\n        bankAccountStore.setIndex(makeLinkIndex);\r\n\r\n        const rightBankAccount = bankAccountStore.rightTableBankAccount.find(bankAccount => bankAccount.id === bankAccountStore.makeLink.fk_bank_account_id);\r\n        bankAccountStore.setRightBankAccount(rightBankAccount);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [bankAccountStore.makeLink])\r\n\r\n    const HandleClose = () => {\r\n        if (!bankAccountStore.loader) {\r\n            bankAccountStore.setMakeLink(null);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const HandleNext = () => {\r\n        if (!bankAccountStore.loader && !!bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1]) {\r\n            bankAccountStore.setMakeLink(bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1]);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const HandlePrev = () => {\r\n        if (!bankAccountStore.loader && bankAccountStore.index > 0) {\r\n            bankAccountStore.setMakeLink(bankAccountStore.leftTableBankAccount[bankAccountStore.index - 1]);\r\n            ClearData();\r\n        }\r\n    }\r\n\r\n    const ClearData = () => {\r\n        bankAccountStore.setTrendCoordinator(null);\r\n        bankAccountStore.setStudent(null);\r\n        bankAccountStore.setSupplier(null);\r\n        bankAccountStore.setMSV(null);\r\n        bankAccountStore.setComment(null);\r\n    }\r\n\r\n    const ShowIncomeExpenseDetails = () => {\r\n\r\n        const bank_account = bankAccountStore.makeLink.bank_account.length > 0 && bankAccountStore.makeLink.bank_account[0];\r\n        const donator = bankAccountStore.ownDonator\r\n        return bankAccountStore.makeLink.bank_account.length > 0 && <div>\r\n            <div>{`  : ${bank_account.username} |  : ${bank_account.branch_number} |  : ${bank_account.account_number} |  :  ${bank_account.bank_number}`}</div>\r\n            {donator && <div>{`  : ${donator.first_name} ${donator.last_name} |  : ${donator.billing_name} | .: ${donator.identity}`}</div>}\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div id='popupContainer'>\r\n            <div className='makeLinkPopup' >\r\n                <div className='makeLinkPopup__close' >\r\n                    <MdClose size='1em' style={{ cursor: 'pointer' }} onClick={HandleClose} />\r\n                </div>\r\n                <div className='makeLinkPopup__header' >\r\n                    <div className='makeLinkPopup__header__newAccount' onClick={HandlePrev} style={{ cursor: bankAccountStore.index === 0 ? 'not-allowed' : 'pointer', opacity: bankAccountStore.index === 0 && '0.4' }}>\r\n                        <MdNavigateNext size='2em' /> \r\n                    </div>\r\n                    <div style={{ textDecoration: 'underline' }}>{bankAccountStore.rightBankAccount && `${bankAccountStore.rightBankAccount.institution_name},  : ${bankAccountStore.rightBankAccount.account_number}`}</div>\r\n                    <div className='makeLinkPopup__header__newAccount' onClick={HandleNext} style={{ cursor: !bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1] ? 'not-allowed' : 'pointer', opacity: !bankAccountStore.leftTableBankAccount[bankAccountStore.index + 1] && '0.4' }}>\r\n                         <MdNavigateBefore size='2em' />\r\n                    </div>\r\n                </div>\r\n                <div className='makeLinkPopup__details' >\r\n                    <div>{bankAccountStore.makeLink.date.slice(0, 10).split('-').reverse().join('/')}</div>\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <div>: {bankAccountStore.makeLink.transaction_description}</div>\r\n                        <div>: {bankAccountStore.makeLink.reference_number}</div>\r\n                    </div>\r\n                    <div style={{ display: 'flex', alignItems: 'center' }}><BiShekel size='1.1em' />{Math.abs(bankAccountStore.makeLink.transaction_amount)}{bankAccountStore.makeLink.transaction_amount < 0 ? '-' : ''}</div>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\r\n                    <ShowIncomeExpenseDetails />\r\n                </div>\r\n                <div className='makeLinkPopup__form' >\r\n\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label' ></div>\r\n                        <div>\r\n                            <datalist id='donator-list' style={{ fontSize: '0.5em' }} >\r\n                                {bankAccountStore.allDonators.map(donator =>\r\n                                    <option key={donator.id} value={`${donator.first_name} ${donator.last_name} - ${donator.identity}`} style={{ fontSize: '0.5em' }} />)}\r\n                            </datalist>\r\n                            <input list='donator-list' className='makeLinkPopup__listInput' disabled={!bankAccountStore.makeLink.is_linked} placeholder=' '\r\n                                value={bankAccountStore.donator || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setDonator(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label' ></div>\r\n                        <div>\r\n                            <datalist id='trends-list' style={{ fontSize: '0.5em' }} >\r\n                                {bankAccountStore.allTrendCoordinator.map(trend =>\r\n                                    <option key={trend.id} value={`${trend.name} - ${trend.id}`} style={{ fontSize: '0.5em' }} />)}\r\n                            </datalist>\r\n                            <input list='trends-list' className='makeLinkPopup__listInput' disabled={!bankAccountStore.makeLink.is_linked} placeholder=' '\r\n                                value={bankAccountStore.trendCoordinator?.split(' - ')[0] || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setTrendCoordinator(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'></div>\r\n                        <div>\r\n                            <datalist id='students-list'>\r\n                                {bankAccountStore.allStudents.map(student =>\r\n                                    <option key={student.id} value={`${student.first_name} ${student.last_name} - ${student.identity}`} />)}\r\n                            </datalist>\r\n                            <input list='students-list' readOnly={bankAccountStore.allStudents?.length === 0} disabled={!bankAccountStore.makeLink.is_linked || bankAccountStore.existMsv || bankAccountStore.existSupplier} placeholder=' '\r\n                                className='makeLinkPopup__listInput' value={bankAccountStore.student || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setStudent(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'></div>\r\n                        <div>\r\n                            <datalist id='supplier-list'>\r\n                                {bankAccountStore.allSuppliers.map(supplier =>\r\n                                    <option key={supplier.id} value={`${supplier.name} - ${supplier.identity}`} />)}\r\n                            </datalist>\r\n                            <input list='supplier-list' readOnly={bankAccountStore.allSuppliers?.length === 0} disabled={!bankAccountStore.makeLink.is_linked || bankAccountStore.existMsv || bankAccountStore.existStudent} placeholder=' '\r\n                                className='makeLinkPopup__listInput' value={bankAccountStore.supplier || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setSupplier(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: '17%' }}>\r\n                        <div className='makeLinkPopup__form__label'> \"</div>\r\n                        <div>\r\n                            <datalist id='msv-list'>\r\n                                {bankAccountStore.allMSV && bankAccountStore.allMSV.map(msv =>\r\n                                    <option key={msv.id} value={`${msv.amount} - ${msv.date} - ${msv.id}`} />)}\r\n                            </datalist>\r\n                            <input list='msv-list' readOnly={bankAccountStore.allMSV?.length === 0} placeholder='  \"' className='makeLinkPopup__listInput' disabled={bankAccountStore.existStudent || bankAccountStore.existSupplier}\r\n                                value={bankAccountStore.msv?.split(' - ')[0] || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setMSV(e.target.value)} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {!bankAccountStore.makeLink.is_linked && <div style={{ textAlign: 'center' }}> \" \"       ,     ,   .</div>}\r\n                {(bankAccountStore.existMsv || bankAccountStore.existStudent || bankAccountStore.existSupplier) && <div style={{ textAlign: 'center' }}>  {(bankAccountStore.existMsv && '\"') || (bankAccountStore.existStudent && '') || (bankAccountStore.existSupplier && '')},       {(bankAccountStore.existMsv && '  ') || (bankAccountStore.existStudent && '  \"') || (bankAccountStore.existSupplier && '  ')}.    \"     </div>}\r\n                <div style={{ display: 'flex', justifyContent: 'space-evenly', alignItems: 'center', marginTop: '50px' }}>\r\n                    <textarea style={{ resize: 'none', width: '60%', height: '35vh' }} placeholder=' ' value={bankAccountStore.comment || ''} onChange={e => !bankAccountStore.loader && bankAccountStore.setComment(e.target.value)}>\r\n\r\n                    </textarea>\r\n                    <div className='makeLinkPopup__button__container' >\r\n                        <div className='button makeLinkPopup__button' style={{ visibility: 'hidden' }}> </div>\r\n                        <div className='button makeLinkPopup__button' style={{ marginTop: '20px' }} onClick={() => !bankAccountStore.loader && bankAccountStore.fetchSave()}></div>\r\n                    </div>\r\n                </div>\r\n                {bankAccountStore.loader && <div className='makeLinkPopup__loader' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(MakeLinkPopUp));","import React, { useEffect } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport MakeLink from './MakeLinkPopUp';\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst BankAccount = (props) => {\r\n    const { bankAccountStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        bankAccountStore.fetchBankAccount();\r\n        bankAccountStore.fetchCurrentAccount();\r\n        bankAccountStore.fetchTrendCoordinator();\r\n        bankAccountStore.fetchStudens();\r\n        bankAccountStore.fetchSuppliers();\r\n        bankAccountStore.fetchDonators();\r\n\r\n        return () => {\r\n            bankAccountStore.setDateFromTo('', '');\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        ((bankAccountStore.allBankAccount && tableIndex === 1) || (bankAccountStore.allCurrentAccount && tableIndex === 0)) &&\r\n            bankAccountStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleChangeCheckBox = (e, position) => {\r\n        e && position ? bankAccountStore.changeCheckBoxFilter(e.target.checked, position) :\r\n            Object.keys(bankAccountStore.checkBoxFilter).map(key => bankAccountStore.changeCheckBoxFilter(true, key));\r\n    }\r\n\r\n    return (\r\n        <Container title='  -  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div style={{ marginLeft: '10px', whiteSpace: 'nowrap' }}> :</div>\r\n                <input type='date' value={bankAccountStore.dateFrom} style={{ fontSize: '1em', marginLeft: '10px' }} onChange={e => bankAccountStore.setDateFromTo(e.target.value)} />\r\n                <input type='date' value={bankAccountStore.dateTo} style={{ fontSize: '1em', marginLeft: '10px' }} onChange={e => bankAccountStore.setDateFromTo(null, e.target.value)} />\r\n                <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer', marginLeft: '10px' }} onClick={() => bankAccountStore.setDateFromTo('', '')}></div>\r\n                <div className='button' onClick={() => bankAccountStore.allCurrentAccount && bankAccountStore.fetchCurrentAccount()}\r\n                    style={{ display: 'flex', padding: '0.2em 1em' }} >\r\n                    <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                    \r\n                </div>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }}>\r\n                <label style={{ cursor: 'pointer' }}>\r\n                    <input className='checkboxFinanceReportFilter' type='checkbox'\r\n                        checked={bankAccountStore.checkBoxFilter.linked} onChange={e => HandleChangeCheckBox(e, 'linked')} />\r\n                     \r\n                </label>\r\n                <label style={{ cursor: 'pointer', marginRight: '10px' }}>\r\n                    <input className='checkboxFinanceReportFilter' type='checkbox'\r\n                        checked={bankAccountStore.checkBoxFilter.unlinked} onChange={e => HandleChangeCheckBox(e, 'unlinked')} />\r\n                      \r\n                </label>\r\n                <div style={{ color: 'blue', textDecoration: 'underline', cursor: 'pointer', marginRight: '10px' }} onClick={HandleChangeCheckBox}> </div>\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: bankAccountStore.leftTableHeight < bankAccountStore.rightTableHeight ? bankAccountStore.leftTableHeight : bankAccountStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: bankAccountStore.rightTableBankAccount.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={bankAccountStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={[' ', '', '', '', '', '', '', ' ', '']}\r\n                        data={bankAccountStore.rightTableBankAccount}\r\n                        tableSelectedItems={bankAccountStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => bankAccountStore.allCurrentAccount && bankAccountStore.setRightTableSelectedItems(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => bankAccountStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab selectedTab ${bankAccountStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => { }}></div>\r\n\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!bankAccountStore.allBankAccount && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: bankAccountStore.leftTableBankAccount.length < 10 && 'fit-content' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={bankAccountStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', '', ' ']}\r\n                        data={bankAccountStore.leftTableBankAccount}\r\n                        doNotSum={['']}\r\n                        makeLink={item => bankAccountStore.setMakeLink(item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => bankAccountStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!bankAccountStore.allCurrentAccount && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            {bankAccountStore.makeLink && <MakeLink />}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(BankAccount));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst ReceptionBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { receptionBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.fetchReceptionBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [receptionBasketStore.leftTableReceptionBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = receptionBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        receptionBasketStore.allReceptionBasket && receptionBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (receptionBasketStore.allReceptionBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            receptionBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        receptionBasketStore.fetchFilteredReceptionBasket(receptionBasketStore.receptionBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        receptionBasketStore.fetchPrint(onlyShown)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={receptionBasketStore.receptionBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {receptionBasketStore.receptionBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' style={{ margin: '0.5em 0' }} onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} />\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight ? receptionBasketStore.leftTableHeight : receptionBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: receptionBasketStore.rightTableReceptionBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', ' ', ' ']}\r\n                        rightTable\r\n                        data={receptionBasketStore.rightTableReceptionBasket}\r\n                        tableCheckbox={receptionBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={receptionBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => receptionBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item) => receptionBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => receptionBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => receptionBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight && receptionBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: receptionBasketStore.leftTableReceptionBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', ' ', ' ', ' ', ' ']}\r\n                        data={receptionBasketStore.leftTableReceptionBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={receptionBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item, index) => receptionBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => receptionBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => receptionBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 0)}\r\n                        bankAccount={receptionBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => receptionBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => receptionBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={receptionBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight > receptionBasketStore.rightTableHeight && receptionBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}> </div>\r\n                        </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(ReceptionBasket));","import React, { useEffect, useState } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PeriodicReception = (props) => {\r\n    // const history = useHistory();\r\n    const { periodicReceptionStore } = props.rootStore;\r\n    const [isAddingData,setIsAddingData] =useState(false)\r\n    const [leftTableData,setLeftTableData]= useState(periodicReceptionStore.leftTablePeriodicReception)\r\n\r\n    console.log(periodicReceptionStore.leftTablePeriodicReception);\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.fetchPeriodicReceptionFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                periodicReceptionStore.setDateFromTo(dateFrom, dateTo);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [periodicReceptionStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = periodicReceptionStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        periodicReceptionStore.setDateFromTo(date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        periodicReceptionStore.setDateFromTo(null, date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        periodicReceptionStore.setDateFromTo('', '');\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (periodicReceptionStore.allPeriodicReception) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            periodicReceptionStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = periodicReceptionStore.periodicReceptionFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.pr_filters = [...body.pr_filters.filter(data => data.name !== 'pr_filters'),\r\n        ...periodicReceptionStore.periodicReceptionFiltersDateToSend.pr_filters.map(expense => setDates(expense))];\r\n        !sessionStorage.getItem('reload') ? periodicReceptionStore.fetchFilteredPeriodicReception(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    const addingDataPeriodicReceptionHandler = (rowData)=>{\r\n        console.log(rowData);  \r\n        setLeftTableData(rowData)\r\n        setIsAddingData(false)\r\n       // periodicReceptionStore.setLeftTablePeriodicReception(rowData)\r\n    }\r\n\r\n    console.log(leftTableData);\r\n    console.log(periodicReceptionStore.leftTablePeriodicReception);\r\n\r\n    return (\r\n        <Container title='  ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={periodicReceptionStore.periodicReceptionFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={periodicReceptionStore.dateFrom}\r\n                    dateTo={periodicReceptionStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {periodicReceptionStore.periodicReceptionFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: periodicReceptionStore.leftTableHeight < periodicReceptionStore.rightTableHeight ? periodicReceptionStore.leftTableHeight : periodicReceptionStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: periodicReceptionStore.rightTablePeriodicReception.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '50%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={['', ' ', ' ']}\r\n                        rightTable\r\n                        data={periodicReceptionStore.rightTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.rightTableCheckbox}\r\n                        tableSelectedItems={periodicReceptionStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: periodicReceptionStore.leftTablePeriodicReception.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <input type='button' value='  ' style={{ marginRight: '1em' }} onClick={()=>setIsAddingData(true)} />\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '20%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={[' ', '', ' ', '', ' ', '', '', ' ', ' ', ' ', '\"  ', ' ', '  ', '  ', ' ']}\r\n                        noEdit\r\n                        noFottTitle={['']}\r\n                        keys={['full_name', 'identity', 'charge_date', 'comment', 'periodic_reception_status', 'amount', 'payment_method', 'num_failed_peyment', 'num_success_peyment', 'charges_remainder', 'total_charged_amount', 'charges', 'bank_permission_end_date', 'bank_permission_start_date', 'last_charge_date']}\r\n                        isAddingData={isAddingData}\r\n                        addingData={addingDataPeriodicReceptionHandler}\r\n                        data={periodicReceptionStore.leftTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', minHeight: '15em', height: '100%' }} >\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PeriodicReception));","import React, { useState, useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport PaymentsBasketFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\nconst fileDownload = require('js-file-download');\r\n\r\nconst StudentsBasket = (props) => {\r\n    // const history = useHistory();\r\n    const { receptionBasketStore } = props.rootStore;\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.fetchReceptionBasketFilters().then(() => HandleCheckAll()).then(() => HandleSearchByCheckBox());\r\n\r\n        window.onresize = (e) => {\r\n            setWindowWidth(e.target.innerWidth);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        receptionBasketStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [receptionBasketStore.leftTableReceptionBasket])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = receptionBasketStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        receptionBasketStore.setReceptionBasketFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        receptionBasketStore.allReceptionBasket && receptionBasketStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (receptionBasketStore.allReceptionBasket) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            receptionBasketStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        receptionBasketStore.fetchFilteredReceptionBasket(receptionBasketStore.receptionBasketFiltersToSend)\r\n    }\r\n\r\n    // const HandleSelectedLeftTableSelectedItem = (item) => {\r\n    // }\r\n\r\n    const HandlePrint = (onlyShown) => {\r\n        receptionBasketStore.fetchPrint(onlyShown)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    const header = res.headers.get('Content-Disposition');\r\n                    if (header) {\r\n                        HandleSearchByCheckBox();\r\n                        const fileName = header.slice(header.indexOf('filename=') + 9, header.length - 1);\r\n                        res.blob().then(file => fileDownload(file, fileName));\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <PaymentsBasketFilters data={receptionBasketStore.receptionBasketFilters}\r\n                    onChange={HandleOnChange} />\r\n                {receptionBasketStore.receptionBasketFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' style={{ margin: '0.5em 0' }} onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={HandleSearchByCheckBox}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ marginRight: '50px' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint()} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={() => HandlePrint(true)} />\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh', fontSize: windowWidth <= 1600 ? '0.85em' : '0.8em',\r\n                height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight ? receptionBasketStore.leftTableHeight : receptionBasketStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: receptionBasketStore.rightTableReceptionBasket.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', ' ', ' ']}\r\n                        rightTable\r\n                        data={receptionBasketStore.rightTableReceptionBasket}\r\n                        tableCheckbox={receptionBasketStore.rightTableCheckbox}\r\n                        tableSelectedItems={receptionBasketStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => receptionBasketStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 1)}\r\n                        changePaymentMethod={(paymentMethod, item) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 1)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item) => receptionBasketStore.changeCheckDate(date, item, 1)}\r\n                        changeForMonth={(date, item) => receptionBasketStore.changeForMonth(date, item, 1)}\r\n                        changeSum={(sum, item) => receptionBasketStore.changeCheckSum(sum, item, 1)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 1)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setRightTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight < receptionBasketStore.rightTableHeight && receptionBasketStore.leftTableHeight\r\n                        }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${receptionBasketStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        <div className='paymentReportRightTableSum' > </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: receptionBasketStore.leftTableReceptionBasket.length < 10 && 'fit-content', marginLeft: '4em' }}>\r\n                    <div className='paymentReportTableSearchPosition' >\r\n                        <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                            value={receptionBasketStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                        <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                    </div>\r\n                    <Table header={['', ' ', '', '', '', ' ', '', ' ', ' ', ' ', ' ', ' ']}\r\n                        data={receptionBasketStore.leftTableReceptionBasket}\r\n                        noFottTitle={[' ']}\r\n                        // tableCheckbox={receptionBasketStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => receptionBasketStore.changeCheckbox(checked, item, 0, index)}\r\n                        // changeTableSelectedItems={(checked, index, item) => HandleSelectedLeftTableSelectedItem(item)}\r\n                        changePaymentMethod={(paymentMethod, item, index) => receptionBasketStore.changePaymentMethod(paymentMethod, item, 0, index)}\r\n                        paymentMethods={receptionBasketStore.generalLists?.income_payment_methods}\r\n                        noEdit\r\n                        changeCheckDate={(date, item, index) => receptionBasketStore.changeCheckDate(date, item, 0, index)}\r\n                        changeForMonth={(date, item, index) => receptionBasketStore.changeForMonth(date, item, 0, index)}\r\n                        changeSum={(sum, item, index) => receptionBasketStore.changeCheckSum(sum, item, 0, index)}\r\n                        delete={(item) => receptionBasketStore.delete(item, 0)}\r\n                        bankAccount={receptionBasketStore.bankAccount}\r\n                        changeBankAccountId={(date, item, index) => receptionBasketStore.changeBankAccountId(date, item, 0, index)}\r\n                        changeTrendCoordinatorId={(date, item, index) => receptionBasketStore.changeTrendCoordinatorId(date, item, 0, index)}\r\n                        trendCoordinator={receptionBasketStore.trendCoordinator}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => receptionBasketStore.setLeftTableHeight(height)}\r\n                        tableStyle={{\r\n                            display: 'block', overflow: 'auto', minHeight: '15em', height: '100%'\r\n                            // height: receptionBasketStore.leftTableHeight > receptionBasketStore.rightTableHeight && receptionBasketStore.rightTableHeight\r\n                        }} >\r\n                        <div className='paymentReportTableTabsPosition' style={{ right: '100%' }}>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                            <div className='paymentReportLeftTableTab selectedTab' onClick={e => HandleSelectedTableTab(e, 'donations', 0, '.paymentReportLeftTableTab')}></div>\r\n                        </div>\r\n                        {!receptionBasketStore.allReceptionBasket && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentsBasket));","import React, { useEffect } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport FinanceReportFilters from '../payment report/FinanceReportFilters';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport Table from '../Table';\r\nimport { Spin } from \"react-loading-io\";\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst PeriodicStudents = (props) => {\r\n    // const history = useHistory();\r\n    const { periodicReceptionStore } = props.rootStore;\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.fetchPeriodicReceptionFilters()\r\n            .then(() => {\r\n                const dateFrom = `${new Date().getFullYear()}-01-01`;\r\n                const dateTo = `${new Date().toISOString().slice(0, 10)}`;\r\n                periodicReceptionStore.setDateFromTo(dateFrom, dateTo);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateFrom.split('-').reverse().join('/'), 0);\r\n                periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(dateTo.split('-').reverse().join('/'), 1);\r\n            })\r\n            .then(() => HandleCheckAll())\r\n            .then(() => HandleSearchByCheckBox());\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps        \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        periodicReceptionStore.afterLeftTableUpdate();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [periodicReceptionStore.leftTableCheckbox])\r\n\r\n    const HandleOnChange = (titleName, name, checked, titleIndex, filterIndex, checkboxIndex) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(titleName, name, checked, titleIndex, filterIndex, checkboxIndex);\r\n    }\r\n\r\n    const HandleCheckAll = () => {\r\n        if (!sessionStorage.getItem('reload')) {\r\n            periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'checkAll');\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = true);\r\n        }\r\n        else {\r\n            document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e =>\r\n                e.checked = periodicReceptionStore.checkedFilters[e.getAttribute('title_index') - 1][e.getAttribute('filter_index')][e.getAttribute('checkbox_index')]);\r\n        }\r\n    }\r\n\r\n    const HandleUnCheckAll = () => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersToSend(null, null, null, null, null, null, 'unCheckAll');\r\n        document.querySelectorAll('.checkboxFinanceReportFilter').forEach(e => e.checked = false);\r\n    }\r\n\r\n    const HandleSelectedDateOption = (option) => {\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateSelectedOption(option.split(','));\r\n    }\r\n\r\n    const HandleSelectedDateFrom = (date) => {\r\n        periodicReceptionStore.setDateFromTo(date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 0);\r\n    }\r\n\r\n    const HandleSelectedDateTo = (date) => {\r\n        periodicReceptionStore.setDateFromTo(null, date);\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(date.split('-').reverse().join('/'), 1);\r\n    }\r\n\r\n    const HandleClearDate = () => {\r\n        periodicReceptionStore.setDateFromTo('', '');\r\n        periodicReceptionStore.setPeriodicReceptionFiltersDateToSend(null, null, 'clear');\r\n    }\r\n\r\n    const HandleSearch = (tableIndex, e) => {\r\n        periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setTableSearch(tableIndex, e.target.value);\r\n    }\r\n\r\n    const HandleSelectedTableTab = (e, tab, tableIndex, tableClass) => {\r\n        if (periodicReceptionStore.allPeriodicReception) {\r\n            document.querySelectorAll(tableClass).forEach(e => e.classList.remove('selectedTab'));\r\n            e.currentTarget.classList.add('selectedTab');\r\n            periodicReceptionStore.setSelectedTableTab(tableIndex, tab);\r\n        }\r\n    }\r\n\r\n    const HandleSearchByCheckBox = () => {\r\n        let body = periodicReceptionStore.periodicReceptionFiltersToSend;\r\n\r\n        const setDates = (data) => {\r\n            data.checked[0] = data.checked[0] && data.checked[0] !== '' ? data.checked[0] : `01/01/${new Date().getFullYear()} 00:00`;\r\n            data.checked[1] = data.checked[1] && data.checked[1] !== '' ? data.checked[1] : `${new Date().toISOString().slice(0, 10).split('-').reverse().join('/')} 23:59`;\r\n            return data;\r\n        }\r\n\r\n        body.pr_filters = [...body.pr_filters.filter(data => data.name !== 'pr_filters'),\r\n        ...periodicReceptionStore.periodicReceptionFiltersDateToSend.pr_filters.map(expense => setDates(expense))];\r\n        !sessionStorage.getItem('reload') ? periodicReceptionStore.fetchFilteredPeriodicReception(body) : sessionStorage.removeItem('reload');\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div className='paymentReportFiltersContainer' >\r\n                <FinanceReportFilters data={periodicReceptionStore.periodicReceptionFilters}\r\n                    onChange={HandleOnChange}\r\n                    dateSelectOption={HandleSelectedDateOption}\r\n                    dateFrom={periodicReceptionStore.dateFrom}\r\n                    dateTo={periodicReceptionStore.dateTo}\r\n                    onDateFrom={HandleSelectedDateFrom}\r\n                    onDateTo={HandleSelectedDateTo}\r\n                    cleanDate={HandleClearDate} />\r\n                {periodicReceptionStore.periodicReceptionFilters.length > 0 && <div className='paymentReportFiltersResetButtonContainer' >\r\n                    <div className='paymentReportFiltersResetButtonPosition' style={{ position: 'relative' }} >\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleCheckAll} />\r\n                        <input type='button' value=' ' className='paymentReportFiltersResetButton button' onClick={HandleUnCheckAll} />\r\n                        <div style={{ position: 'relative', display: 'flex', alignItems: 'center', justifyContent: 'center', width: '6em' }}>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                <FaSearch style={{ marginLeft: '3px' }} size='1em' fill='black' />\r\n                                \r\n                            </div>\r\n                            <div className='button' onClick={() => periodicReceptionStore.allPeriodicReception && HandleSearchByCheckBox()}\r\n                                style={{ display: 'flex', width: '100%', padding: '0.5em 1em', fontSize: '1.1em' }} >\r\n                                 \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>}\r\n            </div>\r\n            <div className='paymentReportTablesContainer' style={{\r\n                maxHeight: '50vh',\r\n                height: periodicReceptionStore.leftTableHeight < periodicReceptionStore.rightTableHeight ? periodicReceptionStore.leftTableHeight : periodicReceptionStore.rightTableHeight\r\n            }} >\r\n                <div style={{ height: periodicReceptionStore.rightTablePeriodicReception.length < 10 && 'fit-content', marginRight: 'calc(5em + 5px)' ,minHeight: '30em'}}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '100%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.rightTableSearch} onChange={(e) => HandleSearch(1, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={['', ' ']}\r\n                        rightTable\r\n                        data={periodicReceptionStore.rightTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.rightTableCheckbox}\r\n                        tableSelectedItems={periodicReceptionStore.rightTableSelectedItems}\r\n                        changeTableSelectedItems={(checked, index, item) => periodicReceptionStore.allPeriodicReception && periodicReceptionStore.setRightTableSelectedItems(checked, index, item)}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setRightTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)' }}\r\n                        tableHeight={height => periodicReceptionStore.setRightTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', height: '100%', minHeight: '15em' }}>\r\n                        <div className='paymentReportTableTabsPosition' style={{ left: '100%' }}>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'institution' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'institution', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'trend_coordinator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'trend_coordinator', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'student' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'student', 1, '.paymentReportRightTableTab')}></div>\r\n                            <div className={`paymentReportRightTableTab ${periodicReceptionStore.selectedRightTableTab === 'donator' && 'selectedTab'}`} onClick={e => HandleSelectedTableTab(e, 'donator', 1, '.paymentReportRightTableTab')}></div>\r\n                        </div>\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n                <div style={{ height: periodicReceptionStore.leftTablePeriodicReception.length < 10 && 'fit-content', marginLeft: '4em' ,minHeight: '30em'}}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '-1em' }}>\r\n                        <div className='paymentReportTableSearchPosition' style={{ width: '10%' }} >\r\n                            <input className='paymentReportTableSearchInput' type='text' placeholder=''\r\n                                value={periodicReceptionStore.leftTableSearch} onChange={(e) => HandleSearch(0, e)} />\r\n                            <FaSearch className='paymentReportTableSearchIcon' size='1em' fill='black' />\r\n                        </div>\r\n                    </div>\r\n                    <Table header={[' ', '-', '-', '-', '', ' ', '', '', '', '\"', ' ', ' ', ' ',' ',' ','-','-']}\r\n                        noEdit\r\n                        // noFottTitle={['']}\r\n                        data={periodicReceptionStore.leftTablePeriodicReception}\r\n                        tableCheckbox={periodicReceptionStore.leftTableCheckbox}\r\n                        changeCheckbox={(checked, index, item) => periodicReceptionStore.setLeftTableCheckbox(checked, index, item)}\r\n                        style={{ height: 'calc(100% - 3em)'  }}\r\n                        tableHeight={height => periodicReceptionStore.setLeftTableHeight(height)}\r\n                        tableStyle={{ display: 'block', overflow: 'auto', height: '100%', minHeight: '15em' }} >\r\n                        {!periodicReceptionStore.allPeriodicReception && <div className='paymentReportTableSpin' ><Spin size={50} color='rgba(0 0 0 / 0.7)' /></div>}\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(PeriodicStudents));","import React, { useEffect, useState  } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport Container from '../containers/Container';\r\nimport * as Fetch from '../../fetches/Fetch';\r\nimport '../../styles/payment report/PaymentReport.css';\r\n\r\nconst formIds =[\r\n    {\r\n        display_name: ' ',\r\n        id: 'social-services-form'\r\n    },\r\n    {\r\n        display_name: ' ',\r\n        id: 'student-approval-form'\r\n    },\r\n    {\r\n        display_name: '   ',\r\n        id: 'student-approval-form-with-course'\r\n    },\r\n    {\r\n        display_name: ' ',\r\n        id: 'property-tax-form'\r\n    }\r\n]\r\n\r\nconst SelectData = ({ titles, children }) => {\r\n    return <div style={{ display: 'flex', marginBottom: '5px' }}>\r\n        <div style={{ marginLeft: '5px' }}>\r\n            {titles.map((title, index) => <div key={index} style={{ marginTop: index > 0 && '5px' }}>{title}:</div>)}\r\n        </div>\r\n        {children}\r\n    </div>\r\n}\r\n\r\nconst StudentForm = (props) => {\r\n    const [formId, setFormId] = useState(0);\r\n    const [formAttributes, setFormAttributes] = useState({});\r\n    const [inputData, setInputData] = useState({});\r\n    const [formComp, setFormComp] = useState(null);\r\n    const [formAttributesArr, setFormAttributesArr] = useState([]);\r\n    const [studentCourseRegistrationId, setStudentCourseRegistrationId] = useState(1);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    const HandleFormChoosing = (formId) => {\r\n        console.log(formId);\r\n        setFormId(formId)\r\n\r\n        // Fetch.Get(`form_attributes?form_id=${formId}`)\r\n        Fetch.Get(`form_attributes?form_id=${formId}`)\r\n            .then(res => {\r\n                setFormAttributes(res);\r\n                console.log(\"got: \" + JSON.stringify(res))\r\n                BuildFormComp();\r\n                })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    const HandleSubmit = (event) => {\r\n        event.preventDefault()\r\n        const body = {'args_dict': inputData}\r\n        Fetch.Post(`generate_pdf?form_id=${formId}&student_course_registration_id=${studentCourseRegistrationId}`, inputData, true)\r\n            .then((response) => response.blob())\r\n            .then((blob) => {\r\n                // Create blob link to download\r\n                const url = window.URL.createObjectURL(\r\n                    new Blob([blob]),\r\n                );\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n                link.setAttribute(\r\n                    'download',\r\n                    `${formId}.pdf`,\r\n                );\r\n\r\n                // Append to html link element page\r\n                document.body.appendChild(link);\r\n\r\n                // Start download\r\n                link.click();\r\n\r\n                // Clean up and remove the link\r\n                link.parentNode.removeChild(link);\r\n            })\r\n            .catch(err => console.error(err))\r\n    }\r\n\r\n    const HandleInputData = (key, value) => {\r\n        let currInputData = inputData;\r\n        currInputData[key] = value;\r\n        setInputData(currInputData);\r\n    }\r\n\r\n    const BuildFormComp = () => {\r\n        // if(formAttributes) {\r\n            let formAttr = []\r\n            Object.keys(formAttributes).map(key => {formAttr.push(formAttributes[key].display_name)})\r\n            setFormAttributesArr(formAttr)\r\n\r\n            const comp = Object.keys(formAttributes).map(key => {\r\n                console.log(key);\r\n                if(formAttributes[key].type !== 'radio') {\r\n                    return (\r\n                        <div>\r\n                            <label style={{cursor: 'pointer'}} key={key}>\r\n                                <input className={key}\r\n                                       type={formAttributes[key].type}\r\n                                       onChange={e => HandleInputData(key, e.target.value)}\r\n                                       style={{\r\n                                           marginTop: '5px',\r\n                                           width: 'fit-content',\r\n                                           height: '1em',\r\n                                           fontSize: '1em',\r\n                                           outline: 'none'\r\n                                       }}/>\r\n                            </label>\r\n                            <br/>\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    const choices = formAttributes[key].values;\r\n                    const radioComp = choices.map(choice => {\r\n                        return (\r\n                            <div>\r\n                                <input className={choice}\r\n                                       name={formAttributes[key]}\r\n                                       type='radio'\r\n                                       onChange={e => HandleInputData(key, e.target.value)}\r\n                                       />\r\n                                <label style={{cursor: 'pointer'}} key={choice}>\r\n                                    {choice}\r\n                                </label>\r\n                            </div>\r\n                        )\r\n                    })\r\n                return radioComp;\r\n                }\r\n            })\r\n            setFormComp(comp);\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <Container title=' ' childrenStyle={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div style={{ marginLeft: '10px', whiteSpace: 'nowrap' }}> :</div>\r\n                <select style={{ width: 'fit-content', fontSize: '1em' }} onChange={(e) => HandleFormChoosing(e.target.value)}>\r\n                    {formIds.map((option, optionIndex) =>\r\n                        <option key={optionIndex} value={option.id}>{option.display_name}</option>)}\r\n                </select>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: '15px' }} >\r\n                <div className='paymentReportFiltersContainer' style={{ flexDirection: 'column', justifyContent: 'flex-start' }}>\r\n                    <SelectData titles={formAttributesArr} >\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <form>\r\n                                {formComp}\r\n                                {formComp &&\r\n                                    <div>\r\n                                        <button type=\"submit\" onClick={HandleSubmit}> </button>\r\n                                    </div>\r\n                                }\r\n                            </form>\r\n                        </div>\r\n                    </SelectData>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default inject('rootStore')(observer(StudentForm));","import React from 'react';\r\nimport './App.css';\r\n\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport Login from './components/login/Login';\r\nimport PaymentReport from './components/payment report/PaymentReport';\r\nimport PaymentsBasket from './components/payment report/PaymentsBasket';\r\nimport TransactionsReport from './components/transactions report/TransactionsReport';\r\nimport UploadCSVFile from \"./components/upload cvs file/UploadCSVFile\";\r\nimport StudentProfile from './components/student/StudentProfile';\r\nimport BankAccount from './components/bank account/BankAccount';\r\nimport ReceptionBasket from './components/reception basket/ReceptionBasket';\r\nimport PeriodicReception from './components/reception basket/PeriodicReception';\r\nimport StudentsBasket from './components/students basket/StudentsBasket';\r\nimport PeriodicStudents from './components/students basket/PeriodicStudents';\r\nimport StudentForm from \"./components/student-form/StudentForm\";\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter basename='/'>\r\n      <Redirect to='/login' />\r\n      {localStorage.getItem('remember') === 'true' && sessionStorage.setItem('login', 'true')}\r\n      {!sessionStorage.getItem('route') && localStorage.getItem('remember') === 'true' && sessionStorage.setItem('route', '/finance-report')}\r\n      {sessionStorage.getItem('login') && <Redirect to={`${sessionStorage.getItem('route') || '/login'}`} />}\r\n      <Switch>\r\n        <Route path='/import-data' component={UploadCSVFile} />\r\n\r\n        <Route path='/bank-account' component={BankAccount} />\r\n\r\n        <Route path='/transactions-report' component={TransactionsReport} />\r\n\r\n        <Route path='/periodic-reception/reception-basket' component={ReceptionBasket} />\r\n        <Route path='/periodic-reception' component={PeriodicReception} />\r\n\r\n        <Route path='/students-reception/students-basket' component={StudentsBasket} />\r\n        <Route path='/students-reception' component={PeriodicStudents} />\r\n\r\n        <Route path='/finance-report/payments-basket' component={PaymentsBasket} />\r\n        <Route path='/finance-report/student-profile' component={StudentProfile} />\r\n        <Route path='/finance-report' component={PaymentReport} />\r\n\r\n        <Route path='/student-form' component={StudentForm} />\r\n\r\n        <Route path='/login' component={Login} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from 'mobx-react';\r\nimport RootStore from './store/RootStore';\r\n\r\nReactDOM.render(\r\n  <Provider rootStore={RootStore}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}