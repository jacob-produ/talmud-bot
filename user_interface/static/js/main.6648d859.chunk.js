(this.webpackJsonpschool_manager_ui=this.webpackJsonpschool_manager_ui||[]).push([[0],{30:function(e,t,n){},46:function(e,t,n){e.exports={backdrop:"Modal_backdrop__2limQ",content:"Modal_content__6VWTD",modal:"Modal_modal__9ZFov","slide-down":"Modal_slide-down__3pKCh"}},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(34),o=n.n(a),c=(n(72),n(73),n(33)),s=n(14),l=n(10),u=n(112),d=(n(74),n(1)),h=Object(l.b)("rootStore")(Object(l.c)((function(e){var t=Object(s.g)(),n=e.rootStore.loginStore;return Object(d.jsx)("div",{className:"loginPage",children:Object(d.jsxs)("div",{className:"loginBorder",children:[" ",Object(d.jsxs)("div",{className:"loginBorderPosition",children:[Object(d.jsx)("div",{className:"loginTitle",children:"\u05db\u05e0\u05d9\u05e1\u05d4"}),Object(d.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),n.login().then((function(e){n.setLoader(!1),e||void 0===e||(localStorage.setItem("remember",n.rememberMe),localStorage.setItem("userName",n.userName),sessionStorage.setItem("login","true"),sessionStorage.setItem("route","/finance-report"),n.setErrorMessage(""),t.push("/finance-report"))}))},children:[Object(d.jsx)("input",{className:"loginInput",type:"text",placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",onChange:function(e){return n.changeUserName(e.target.value)}}),Object(d.jsx)("input",{className:"loginInput",type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",onChange:function(e){return n.changePassword(e.target.value)}}),Object(d.jsx)("div",{className:"loginErrorMessage",children:n.errorMessage.includes("Incorrect")?"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d5 \u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd":n.errorMessage}),n.loader&&Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"-2em",marginBottom:"2em"},children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})}),Object(d.jsx)("button",{className:"loginSubmit disableTextSelectionHighlighting",children:"\u05d4\u05ea\u05d7\u05d1\u05e8"}),Object(d.jsxs)("label",{className:"loginInputCheckbox disableTextSelectionHighlighting",children:[Object(d.jsx)("input",{type:"checkbox",placeholder:"remember",checked:n.rememberMe,onChange:function(e){return n.changeRememberMe(e.target.checked)}}),"\u05d6\u05db\u05d5\u05e8 \u05d0\u05d5\u05ea\u05d9"]})]})]})]})})}))),b=n(5),p=n(12),f=n(35),m=(n(81),function(e){var t=Object(s.g)();return Object(d.jsxs)("div",{className:"containerHeader",children:[e.goBack&&Object(d.jsxs)("div",{className:"containerHeaderGoBack",onClick:function(){var e=t.location.pathname.split("/")[1];sessionStorage.setItem("reload","true"),sessionStorage.setItem("route","/".concat(e)),t.push(e)},children:["\u05d7\u05d6\u05d5\u05e8",Object(d.jsx)(f.a,{size:"1.5em",style:{marginRight:"5px"}})]}),Object(d.jsx)("div",{className:"containerHeaderTitle",children:e.title}),!t.location.pathname.includes("payments-basket")&&Object(d.jsx)("div",{className:"containerHeaderCart",children:Object(d.jsx)(p.b,{size:"2em",onClick:function(){sessionStorage.setItem("route","/finance-report/payments-basket"),t.push("/finance-report/payments-basket")}})})]})}),g=n(60),j=(n(82),function(e){var t=Object(s.g)();return[{name:'\u05d3\u05d5"\u05d7 \u05e4\u05d9\u05e0\u05e0\u05e1\u05d9',location:"/finance-report"},{name:"\u05e1\u05dc \u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd",location:"/finance-report/payments-basket",underTab:!0},{name:"\u05de\u05e6\u05d1\u05ea \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd",location:"/periodic-reception"},{name:"\u05e1\u05dc \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd",location:"/periodic-reception/reception-basket",underTab:!0},{name:"\u05de\u05e6\u05d1\u05ea \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",location:"/students-reception"},{name:"\u05e1\u05dc \u05e8\u05d9\u05e9\u05d5\u05dd \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",location:"/students-reception/students-basket",underTab:!0},{name:'\u05d3\u05d5"\u05d7 \u05ea\u05e0\u05d5\u05e2\u05d5\u05ea',location:"/transactions-report"},{name:"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05de\u05e7\u05d5\u05d1\u05e5",location:"/import-data"},{name:"\u05d7\u05e9\u05d1\u05d5\u05e0\u05d5\u05ea \u05d1\u05e0\u05e7 - \u05e2\u05d5\u05d1\u05e8 \u05d5\u05e9\u05d1",location:"/bank-account"},{name:"\u05d4\u05e4\u05e7\u05ea \u05d8\u05d5\u05e4\u05e1",location:"/student-form"}].map((function(e){return Object(d.jsx)("div",{className:"navbarTab",children:Object(d.jsxs)("div",{className:"navbarTabName",style:{color:t.location.pathname.includes(e.location)&&"#3BB2DC",marginRight:e.underTab&&"10px",minWidth:e.underTab&&"0"},onClick:function(){return function(e){t.location.pathname===e.location?t.replace(e.location):(sessionStorage.setItem("route",e.location),t.push(e.location))}(e)},children:[e.underTab&&Object(d.jsx)(g.a,{size:"0.8em",style:{color:t.location.pathname.includes(e.location)&&"#3BB2DC",marginLeft:"3px"}}),e.name]})},e.name)}))}),x=(n(83),function(e){return Object(d.jsx)("div",{id:"containerPage",className:"containerPage disableTextSelectionHighlighting",children:Object(d.jsxs)("div",{style:{display:"flex",direction:"rtl"},children:[Object(d.jsxs)("div",{style:{height:"100vh",minHeight:"100%",backgroundColor:"#c5c5c5"},children:[Object(d.jsx)("h3",{style:{textAlign:"center"},children:"School Manager"}),Object(d.jsx)(j,{})]}),Object(d.jsxs)("div",{style:{width:"100%",marginBottom:"10px"},children:[Object(d.jsx)(m,{title:e.title,goBack:e.goBack}),Object(d.jsx)("div",{style:e.childrenStyle,children:e.children})]})]})})}),k=function(e){return Object(d.jsx)("div",{className:"disableTextSelectionHighlighting financeReportFiltersContainer",children:e.data.map((function(t,n){return Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsxs)("div",{className:"financeReportFiltersPosition",children:[Object(d.jsx)("div",{className:"financeReportFiltersTitle",children:t.title}),"\u05ea\u05d0\u05e8\u05d9\u05db\u05d9\u05dd"===t.title?Object(d.jsx)("div",{style:{display:"flex",height:"70%"},children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em"},onChange:function(t){return e.dateSelectOption(t.target.value)},children:t.filters.map((function(e,t){return Object(d.jsx)("option",{value:[e.display_name,e.name,e.filter_key],children:e.display_name},t)}))}),Object(d.jsx)("input",{type:"date",style:{fontSize:"1em"},value:e.dateFrom,onChange:function(t){return e.onDateFrom(t.target.value)}}),Object(d.jsx)("input",{type:"date",style:{fontSize:"1em"},value:e.dateTo,onChange:function(t){return e.onDateTo(t.target.value)}}),Object(d.jsx)("div",{style:{color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:function(){return e.cleanDate()},children:"\u05e0\u05e7\u05d4"})]})}):Object(d.jsx)("div",{style:{display:"flex"},children:t.filters.map((function(r,i){return Object(d.jsxs)("div",{className:"checksDataContainer",style:{position:"relative",display:"flex",flexDirection:"column",marginRight:i>0&&"1.5em"},children:[Object(d.jsx)("div",{style:{fontWeight:"500",textDecoration:"underline"},children:r.display_name}),r.checkboxes.map((function(a,o){return Object(d.jsx)("div",{children:Object(d.jsxs)("label",{style:{cursor:"pointer"},children:[Object(d.jsx)("input",{className:"checkboxFinanceReportFilter",type:"checkbox",title_index:n,filter_index:i,checkbox_index:o,onChange:function(c){return e.onChange(t.name,r.name,a,n,i,o)}}),a]})},o)}))]},i)}))})]}),Object(d.jsx)("hr",{style:{margin:"auto 1em",border:"none",borderLeft:"1px dashed rgba(158 158 158 / 0.8)",height:"50%",width:"1px"}})]},t.title)}))})},v=n(37),T=n(28),y=n(7),S=n(40),_=(n(84),function(e){var t=Object(r.useState)(-1),n=Object(y.a)(t,2),i=n[0],a=n[1],o=Object(r.useState)(""),c=Object(y.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)(""),h=Object(y.a)(u,2),b=h[0],p=h[1],f=Object(r.useState)({}),m=Object(y.a)(f,2),g=m[0],j=m[1],x=Object(r.useState)(""),k=Object(y.a)(x,2),v=k[0],_=k[1],O=Object(r.useState)(""),C=Object(y.a)(O,2),R=C[0],F=C[1],D=0,B=0,w=0,I=0,A=0,P=0,N=0,L=0,E=0,M=0,U=0,H=0,z=0,V=0,G=0,q=0,J=Object(r.useRef)(null),W=/^\d+$/;Object(r.useEffect)((function(){e.tableHeight&&J.current&&e.tableHeight(J.current.scrollHeight)}),[e.data]);var Y=function(e,t){return e&&t&&!isNaN(t)?t.toString().includes("-")?"".concat(Math.abs(t%1!==0?t.toFixed(2):t),"-"):"".concat(Math.abs(t%1!==0?t.toFixed(2):t)):""},Z=function(e){return e&&new Date(e).toISOString().slice(0,10).split("-").reverse().join("/")},$=function(t,n,r){var o,c,u,h;switch(t){case"\u05de\u05d6\u05d4\u05d4":return Object(d.jsx)("div",{style:{whiteSpace:"nowrap"},children:n.identity});case"\u05e9\u05dd":return n.name;case"\u05e9\u05dd \u05de\u05dc\u05d0":return n.full_name;case"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea":return n&&(D+=parseFloat(n.income_sum)),Y(n,null===n||void 0===n?void 0:n.income_sum);case"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea":return n&&(B+=parseFloat(n.expense_sum)),Y(n,null===n||void 0===n?void 0:n.expense_sum);case"\u05d9\u05ea\u05e8\u05d4":return n&&(w+=parseFloat(n.balance)),Y(n,null===n||void 0===n?void 0:n.balance);case"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea":return n&&(I+=parseFloat(n.balance_total)),n?Y(n,null===n||void 0===n?void 0:n.balance_total):Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4":case"\u05e1\u05de\u05df \u05dc\u05e9\u05d7\u05d6\u05d5\u05e8":case"\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd":return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{disabled:"\u05e1\u05de\u05df \u05dc\u05e9\u05d7\u05d6\u05d5\u05e8"===t&&((null===n||void 0===n?void 0:n.amount)>=0||"\u05d8\u05d9\u05d5\u05d8\u05d4"===(null===n||void 0===n?void 0:n.payment_status)||"\u05e0\u05e4\u05e8\u05e2"===(null===n||void 0===n?void 0:n.payment_status))||"\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"===t&&n.deleted,title:"\u05e1\u05de\u05df \u05dc\u05e9\u05d7\u05d6\u05d5\u05e8"===t&&((null===n||void 0===n?void 0:n.deleted)?"\u05d4\u05ea\u05dc\u05de\u05d9\u05d3 \u05db\u05d1\u05e8 \u05de\u05d7\u05d5\u05e7":(null===n||void 0===n?void 0:n.amount)>=0?"\u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d7\u05d6\u05e8 \u05e8\u05e7 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea":"\u05d8\u05d9\u05d5\u05d8\u05d4"===(null===n||void 0===n?void 0:n.payment_status)||"\u05e0\u05e4\u05e8\u05e2"===(null===n||void 0===n?void 0:n.payment_status)?"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d7\u05d6\u05e8 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05dd \u05e1\u05d8\u05d8\u05d5\u05e1 ".concat(null===n||void 0===n?void 0:n.payment_status):"")||"\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"===t&&n.deleted&&"\u05d4\u05ea\u05dc\u05de\u05d9\u05d3 \u05db\u05d1\u05e8 \u05de\u05d7\u05d5\u05e7"||"",type:"checkbox",checked:!!n&&(e.tableCheckbox?e.tableCheckbox[r].checked:n.is_printable),style:{visibility:(!n||e.rightTable)&&"hidden",position:n&&e.rightTable&&"absolute",cursor:"pointer"},onChange:function(t){return e.changeCheckbox(t.target.checked,r,n)}}),n&&e.rightTable&&Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(d.jsx)(S.b,{size:"1em",style:{cursor:"pointer"},onClick:function(){return e.changeCheckbox(!1,r,n)}}),Object(d.jsx)(S.a,{size:"1em",style:{cursor:"pointer",color:n.all_selected&&"#3BB2DC"},onClick:function(){return e.changeCheckbox(!0,r,n)}})]})]});case"\u05d4\u05d5\u05e6\u05d0\u05d4":return Y(n,null===n||void 0===n?void 0:n.expense_amount);case"\u05d4\u05db\u05e0\u05e1\u05d4":return Y(n,null===n||void 0===n?void 0:n.income_amount);case"\u05de\u05e1\u05dc\u05d5\u05dc":return n.course_type;case"\u05de\u05e0\u05d7\u05d4 \u05e7\u05d1\u05d5\u05e6\u05d4":return n.coordinator_name;case"\u05de\u05d5\u05e1\u05d3":return n.institution_name;case"\u05d7\u05d5\u05d3\u05e9":return n.date;case"\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df":return n?n.account_number:Object(d.jsx)("div",{style:{visibility:"hidden"},children:"0"});case"\u05de\u05e1\u05d2\u05e8\u05ea":return n&&(E+=parseFloat(n.line_of_credit)),Y(n,null===n||void 0===n?void 0:n.line_of_credit);case"\u05d4\u05dc\u05d5\u05d5\u05d0\u05d5\u05ea":return n&&(M+=parseFloat(n.loan)),Y(n,null===n||void 0===n?void 0:n.loan);case"\u05d4\u05ea\u05d7\u05d9\u05d9\u05d1\u05d5\u05d9\u05d5\u05ea":return n&&(P+=parseFloat(n.commitment)),Y(n,null===n||void 0===n?void 0:n.commitment);case"\u05e0\u05d6\u05d9\u05dc":return n&&(A+=parseFloat(n.cash)),Y(n,null===n||void 0===n?void 0:n.cash);case"\u05ea\u05d6\u05e8\u05d9\u05dd":return n&&(N+=parseFloat(n.flow)),Y(n,null===n||void 0===n?void 0:n.flow);case"\u05ea\u05d6\u05e8\u05d9\u05dd \u05d7\u05d5\u05d3\u05e9\u05d9":return n&&(L+=parseFloat(n.flow)),Y(n,null===n||void 0===n?void 0:n.monthly_flow);case"\u05ea\u05d0\u05e8\u05d9\u05da":case"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4":case"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d3\u05e4\u05e1\u05d4":var f="\u05ea\u05d0\u05e8\u05d9\u05da"===t?n.date:"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4"===t?n.transaction_date:null===n||void 0===n?void 0:n.printing_date;return Z(f);case"\u05d9\u05d5\u05dd \u05e2\u05e8\u05da":return Z(n.value_date);case"\u05e1\u05db\u05d5\u05dd":if((null===n||void 0===n?void 0:n.amount)||"-0"===(null===n||void 0===n||null===(o=n.amount)||void 0===o?void 0:o.toString())||"0"===(null===n||void 0===n||null===(c=n.amount)||void 0===c?void 0:c.toString())){U+=parseFloat(n.amount);var m=Y(n,n.amount);return Object(d.jsx)("div",{style:{color:m.includes("-")?"red":"green"},children:m})}return n&&e.allowEdit?(U+=parseFloat(n.expense_sum),Object(d.jsx)("div",{onClick:function(){a(r),p(t),l(n.expense_sum)},style:{cursor:"text",border:n.show_error&&(!n.expense_sum||0===n.expense_sum)&&"1px solid red"},children:i===r&&b===t?Object(d.jsx)("input",{type:"text",autoFocus:!0,value:s,style:{width:"85%",fontSize:"1em"},onChange:function(e){return W.test(e.target.value)&&l(e.target.value)},onBlur:function(t){n.expense_sum!==t.target.value&&e.changeSum(s,n,r),a("")}}):Y(n,null===n||void 0===n?void 0:n.expense_sum)})):(n&&(U+=parseFloat(null===n||void 0===n?void 0:n.transaction_amount)),Y(n,null===n||void 0===n?void 0:n.transaction_amount));case"\u05d0\u05e1\u05de\u05db\u05ea\u05d4":return n.reference_number;case"\u05d1\u05e6\u05e2 \u05e7\u05d9\u05e9\u05d5\u05e8":return Object(d.jsx)(S.c,{size:"1em",style:{cursor:"pointer",visibility:!n&&"hidden"},onClick:function(){return e.makeLink(n)}});case"\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd":return n&&Object(d.jsxs)("select",{value:n.payment_method||n.method,style:{borderColor:(n.show_error&&!n.payment_method||n.show_error&&!n.method)&&"red",fontSize:"1em",width:"100%",minWidth:"60px"},onChange:function(t){return""!==t.target.value&&e.changePaymentMethod(t.target.value,n,r)},children:[Object(d.jsx)("option",{value:"",hidden:!0,children:"\u05d1\u05d7\u05e8"}),e.paymentMethods&&Object.keys(e.paymentMethods).map((function(t){return Object(d.jsx)("option",{value:e.paymentMethods[t],children:e.paymentMethods[t]},t)}))]});case"\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd":return n&&e.allowEdit?Object(d.jsx)("div",{onClick:function(){a(r),p(t),l(0)},style:{cursor:"text"},children:i===r&&b===t?Object(d.jsx)("input",{type:"text",autoFocus:!0,value:s,style:{width:"85%",fontSize:"1em"},onChange:function(e){return W.test(e.target.value)&&l(e.target.value)},onBlur:function(t){0!==t.target.value&&e.changeSum(s,n,r),a("")}}):0}):(n&&(H+=parseFloat(n.expense_sum)),Y(n,null===n||void 0===n?void 0:n.expense_sum));case"\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc":return n&&(z+=parseFloat(n.expense_sum_total)),Y(n,null===n||void 0===n?void 0:n.expense_sum_total);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8":return e.noEdit?Z(n.transmission_date):n&&Object(d.jsx)("div",{onClick:function(){a(r),p(t),l(n.transmission_date)},style:{cursor:"text",border:n.show_error&&(!n.transmission_date||0===n.transmission_date)&&"1px solid red"},children:i===r&&b===t?Object(d.jsx)("input",{type:"date",autoFocus:!0,value:s&&s.slice(0,10),style:{width:"95%",fontSize:"1em"},onChange:function(e){return l("".concat(e.target.value," 00:00"))},onBlur:function(t){n.transmission_date!==t.target.value&&e.changeCheckDate(s,n,r),a("")}}):n.transmission_date?Z(n.transmission_date):0});case"\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9":return e.noEdit?Z(n.for_month):n&&Object(d.jsx)("div",{onClick:function(){a(r),p(t),l(n.for_month)},style:{cursor:"text",border:n.show_error&&!n.for_month&&"1px solid red"},children:i===r&&b===t?Object(d.jsx)("input",{type:"date",autoFocus:!0,value:s&&s.slice(0,10),style:{width:"95%",fontSize:"1em"},onChange:function(e){return l("".concat(e.target.value," 00:00"))},onBlur:function(t){n.for_month!==t.target.value&&e.changeForMonth(s,n,r),a("")}}):n.for_month?Z(n.for_month):0});case"\u05e1\u05da \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd":return n.employee_sum;case"\u05e1\u05da \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd":return n.student_sum;case"\u05e1\u05da \u05d4\u05d3\u05e4\u05e1\u05d5\u05ea":return n&&(n.print_employee_sum||n.print_student_sum||n.print_supplier_sum||0);case"\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7":return n&&Object(d.jsxs)("select",{value:n.fk_bank_account_id,style:{borderColor:n.show_error&&!n.fk_bank_account_id&&"red",fontSize:"1em"},onChange:function(t){return""!==t.target.value&&e.changeBankAccountId(t.target.value,n,r)},children:[Object(d.jsx)("option",{value:"",hidden:!0,children:"\u05d1\u05d7\u05e8"}),e.bankAccount&&e.bankAccount.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.account_number},e.id)}))]});case"\u05de\u05e0\u05d7\u05d4":return n&&Object(d.jsxs)("select",{value:n.fk_trend_coordinator_id,style:{borderColor:n.show_error&&!n.fk_trend_coordinator_id&&"red",fontSize:"1em",width:"100%",minWidth:"60px"},onChange:function(t){return""!==t.target.value&&e.changeTrendCoordinatorId(t.target.value,n,r)},children:[Object(d.jsx)("option",{value:"",hidden:!0,children:"\u05d1\u05d7\u05e8"}),e.trendCoordinator&&e.trendCoordinator.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]});case"\u05ea\u05d9\u05d0\u05d5\u05e8":return(null===(u=n.transaction_description)||void 0===u?void 0:u.length)>29?"".concat(n.transaction_description.slice(0,30),"..."):n.transaction_description;case"\u05e9\u05d9\u05d5\u05da":return null===n||void 0===n?void 0:n.heb_attribution;case"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05ea\u05e9\u05dc\u05d5\u05dd":return null===n||void 0===n?void 0:n.payment_status;case"\u05d0\u05de\u05e6\u05e2\u05d9":return null===n||void 0===n?void 0:n.payment_method;case"\u05de\u05e1\u05e4\u05e8 \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd":return n&&(V+=parseFloat(n.pr_num)),n?Y(n,null===n||void 0===n?void 0:n.pr_num):Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05e1\u05da \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd":return n&&(G+=parseFloat(n.pr_amount_sum)),n?Y(n,null===n||void 0===n?void 0:n.pr_amount_sum):Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d7\u05d9\u05d5\u05d1":return Z(n.charge_date);case"\u05d4\u05e2\u05e8\u05d5\u05ea":return(null===(h=n.comment)||void 0===h?void 0:h.length)>15?n.comment.slice(0,15):n.comment;case"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05dc\u05ea\u05e7\u05d1\u05d5\u05dc":return n.periodic_reception_status;case"\u05e1\u05da \u05db\u05e9\u05dc\u05d5\u05e0\u05d5\u05ea":return n?n.num_failed_payment:Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05e1\u05da \u05d4\u05e6\u05dc\u05d7\u05d5\u05ea":return n?n.num_success_payment:Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05d9\u05ea\u05e8\u05ea \u05d7\u05d9\u05d5\u05d1\u05d9\u05dd":return n?n.charges_remainder:Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case'\u05e1\u05d4"\u05db \u05e1\u05db\u05d5\u05dd \u05e9\u05e0\u05d2\u05d1\u05d4':return n&&(q+=parseFloat(n.total_charged_amount)),n?n.total_charged_amount:Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d9\u05d5\u05d1\u05d9\u05dd":return n?n.charges:Object(d.jsx)("div",{style:{visibility:!n&&"hidden"},children:"0"});case"\u05ea\u05d0\u05e8\u05d9\u05da \u05d1\u05d9\u05d8\u05d5\u05dc \u05d4\u05e8\u05e9\u05d0\u05d4":return Z(n.bank_permission_end_date);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05e7\u05d1\u05dc\u05ea \u05d4\u05e8\u05e9\u05d0\u05d4":return Z(n.bank_permission_start_date);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05d0\u05d7\u05e8\u05d5\u05df":return Z(n.last_charge_date);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd \u05e7\u05d5\u05e8\u05e1":return Z(n.end_date_course_enrollment);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4 \u05e7\u05d5\u05e8\u05e1":return Z(n.start_date_course_enrollment);case"\u05e1\u05d5\u05d2 \u05e7\u05d5\u05e8\u05e1":return n.course_type;case"\u05de\u05d5\u05e1\u05d3 - \u05e1\u05e0\u05d9\u05e3":return"";case"\u05d7\u05dc\u05e7 \u05d1\u05d9\u05d5\u05dd":return n.day_part;case"\u05e9\u05dd \u05de\u05e0\u05d7\u05d4":return"";case"\u05d6\u05db\u05d0\u05d5\u05ea \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9\u05ea":return n.eligibility_min;case"\u05e9\u05d9\u05d8\u05ea \u05d6\u05db\u05d0\u05d5\u05ea":return n.eligibility_method;case"\u05e8\u05de\u05ea \u05d6\u05db\u05d0\u05d5\u05ea":return n.eligibility_level;case"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd \u05de\u05e0\u05d7\u05d4":return Z(n.end_date_trend_attribution);case"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4 \u05de\u05e0\u05d7\u05d4":return Z(n.start_date_trend_attribution);case"\u05e1\u05de\u05df \u05dc\u05d0\u05d9\u05d7\u05d5\u05d3":return n&&(n.merged_printing_number?Object(d.jsx)("input",{type:"button",value:"\u05e4\u05d9\u05e6\u05d5\u05dc \u05ea\u05e9\u05dc\u05d5\u05dd",className:"button",style:{fontSize:"1em"},onClick:function(){return e.splitPayment(n.merged_printing_number)}}):Object(d.jsx)("input",{type:"checkbox",checked:e.mergedCheckbox.includes(n.expense_id),onChange:function(t){return e.changeMergedCheckbox(t.target.checked,n.expense_id)}}));case"\u05d0\u05d9\u05d7\u05d5\u05d3 \u05ea\u05e9\u05dc\u05d5\u05dd":return n&&n.merged_printing_number?n.merged_printing_number:null;case"":return n&&Object(d.jsx)(S.d,{size:"1.1em",style:{cursor:"pointer",color:"red"},onClick:function(){return e.delete(n)}})}},K=function(e){return isNaN(e)?0:e<0?"".concat(Math.abs(e%1!==0?e.toFixed(2):e),"-"):"".concat(Math.abs(e%1!==0?e.toFixed(2):e))},Q=function(t){var n;switch(t){case"\u05e9\u05d9\u05d5\u05da":case"\u05de\u05d6\u05d4\u05d4":case"\u05e9\u05dd":case"\u05e9\u05dd \u05de\u05dc\u05d0":case"\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df":case"\u05ea\u05d0\u05e8\u05d9\u05da":return(null===(n=e.noFottTitle)||void 0===n?void 0:n.includes(t))?"":"".concat(e.data.filter((function(e){return""!==e})).length," \u05e8\u05e9\u05d5\u05de\u05d5\u05ea");case"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea":return K(D);case"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea":return K(B);case"\u05d9\u05ea\u05e8\u05d4":return K(w);case"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea":return K(I);case"\u05de\u05e1\u05d2\u05e8\u05ea":return K(E);case"\u05d4\u05dc\u05d5\u05d5\u05d0\u05d5\u05ea":return K(M);case"\u05d4\u05ea\u05d7\u05d9\u05d9\u05d1\u05d5\u05d9\u05d5\u05ea":return K(P);case"\u05e0\u05d6\u05d9\u05dc":return K(A);case"\u05ea\u05d6\u05e8\u05d9\u05dd":return K(N);case"\u05ea\u05d6\u05e8\u05d9\u05dd \u05d7\u05d5\u05d3\u05e9\u05d9":return K(L);case"\u05e1\u05db\u05d5\u05dd":return K(U);case"\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd":return!e.allowEdit&&K(H);case"\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc":return K(z);case"\u05de\u05e1\u05e4\u05e8 \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd":return K(V);case"\u05e1\u05da \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd":return K(G);case'\u05e1\u05d4"\u05db \u05e1\u05db\u05d5\u05dd \u05e9\u05e0\u05d2\u05d1\u05d4':return K(q)}},X=e.keys;Object(r.useEffect)((function(){var e={};X&&(X.forEach((function(t){e[t]=null})),j(e))}),[X]);return Object(r.useEffect)((function(){"bank_permission_end_date"!==v&&"bank_permission_start_date"!==v&&"charge_date"!==v&&"last_charge_date"!==v||F("date"),"amount"!==v&&"charges"!==v&&"charges_remainder"!==v&&"identity"!==v&&"num_failed_peyment"!==v&&"num_success_peyment"!==v&&"total_charged_amount"!==v||F("number"),F("text")}),[v]),Object(d.jsxs)("div",{style:Object(T.a)({position:"relative",margin:"1em"},e.style),children:[Object(d.jsxs)("table",{ref:J,id:"table",style:Object(T.a)({borderCollapse:"collapse"},e.tableStyle),children:[Object(d.jsx)("thead",{style:{backgroundColor:"#c5c5c5"},children:Object(d.jsx)("tr",{children:e.header.map((function(e,t){return Object(d.jsx)("th",{style:{position:"sticky",top:"-1px",border:"1px solid black",backgroundColor:"#c5c5c5",boxShadow:"inset 0px 0.5px 0px black, inset 0px -0.5px 0px black"},children:Object(d.jsx)("div",{style:{margin:"5px"},children:e})},e)}))})}),Object(d.jsxs)("tbody",{className:"wrapWord",children:[e.isAddingData&&Object(d.jsxs)("tr",{children:[X.map((function(e,t){return Object(d.jsx)("th",{style:{top:"-1px",border:"1px solid black",backgroundColor:"#F7F7F7"},children:Object(d.jsx)("input",{type:R,style:{maxWidth:"68px",maxHeight:"100%",backgroundColor:"#F7F7F7",outline:"none",boxShadow:"none",border:"none"},title:e,onChange:function(e){return function(e){var t=Object(T.a)({},g);t[e.target.title]=e.target.value,j(t)}(e)},onClick:function(e){return _(e.target.title)}})},e)})),Object(d.jsx)("input",{type:"button",value:"\u05e9\u05de\u05d5\u05e8",style:{position:"absolute"},size:"5",onClick:function(){return e.addingData(g)}})]}),e.data.map((function(t,n){return Object(d.jsx)("tr",{children:e.header.map((function(r){return Object(d.jsx)("td",{style:{border:"1px solid black",cursor:t&&"\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"!==r&&"\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd"!==r&&""!==r&&"\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4"!==r&&"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8"!==r&&"\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9"!==r&&(!e.allowEdit||"\u05e1\u05db\u05d5\u05dd"!==r)&&(!e.allowEdit||"\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"!==r)&&e.changeTableSelectedItems&&"pointer",backgroundColor:t&&e.tableSelectedItems&&e.tableSelectedItems[n].checked&&"#abcdef"},onClick:function(){return t&&"\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"!==r&&"\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd"!==r&&"\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4"!==r&&""!==r&&"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8"!==r&&"\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9"!==r&&(!e.allowEdit||"\u05e1\u05db\u05d5\u05dd"!==r)&&(!e.allowEdit||"\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"!==r)&&e.changeTableSelectedItems&&e.changeTableSelectedItems(e.tableSelectedItems&&!e.tableSelectedItems[n].checked,n,t)},children:Object(d.jsx)("div",{style:{margin:"5px",maxWidth:"10em",wordBreak:"break-word",color:t.deleted&&"gray"},children:$(r,t,n)})},r)}))},n)}))]}),!e.withoutSum&&Object(d.jsx)("tfoot",{style:{width:"100%",fontWeight:"bold"},children:Object(d.jsx)("tr",{children:e.header.map((function(t,n){return Object(d.jsxs)("td",{style:{position:"sticky",bottom:"-1px",backgroundColor:"#f7f7f7"},children:[Object(d.jsx)("div",{style:{margin:"5px"},children:(!e.doNotSum||!e.doNotSum.includes(t))&&Q(t)}),0===n&&Object(d.jsx)("div",{style:{backgroundColor:"#f7f7f7",position:"absolute",right:"-5px",top:"0",width:"5px",height:"100%"}})]},t)}))})})]}),e.children]})}),O=n(36),C=n(63),R=function(e){var t=e.headers,n=e.data,i=e.store,a=e.table,o=Object(r.useState)(),c=Object(y.a)(o,2),s=(c[0],c[1]);return Object(d.jsx)("div",{onClick:function(){for(var e={},r=[],o=0;o<n.length;o++){for(var c={},l=0,u=Object.entries(n[o]);l<u.length;l++){var d=Object(y.a)(u[l],2),h=d[0],b=d[1];c[t[h]]=b}r.push(c)}e.table=a,e.data=r;var p=JSON.stringify(e);s(p),i.fetchGoogleSheets(p)},style:{marginRight:"5px"},children:Object(d.jsx)(C.a,{size:"1.3em",title:"GoogleSheets",style:{cursor:"pointer"}})})},F=(n(30),Object(l.b)("rootStore")(Object(l.c)((function(e){var t=Object(s.g)(),n=e.rootStore.paymentReportStore;Object(r.useEffect)((function(){n.fetchFinanceReportFilters().then((function(){var e="".concat((new Date).getFullYear(),"-01-01"),t="".concat((new Date).toISOString().slice(0,10));n.setDateFromTo(e,t),n.setFinanceReportFiltersDateToSend(e.split("-").reverse().join("/"),0),n.setFinanceReportFiltersDateToSend(t.split("-").reverse().join("/"),1)})).then((function(){return i()})).then((function(){return c()}))}),[]),Object(r.useEffect)((function(){n.afterLeftTableUpdate()}),[n.leftTableCheckbox]);var i=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=n.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(n.setFinanceReportFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},a=function(e,t){n.allFinanceReport&&n.setTableSearch(e,t.target.value)},o=function(e,t,r,i){n.allFinanceReport&&(document.querySelectorAll(i).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),n.setSelectedTableTab(r,t))},c=function(){var e=n.financeReportFiltersToSend,t=function(e){return e.checked[0]=""!==e.checked[0]?e.checked[0]:"01/01/".concat((new Date).getFullYear()," 00:00"),e.checked[1]=""!==e.checked[1]?e.checked[1]:"".concat((new Date).toISOString().slice(0,10).split("-").reverse().join("/")," 23:59"),e};e.expense_filters=[].concat(Object(b.a)(e.expense_filters),Object(b.a)(n.financeReportFiltersDateToSend.expense_filters.map((function(e){return t(e)})))),e.income_filters=[].concat(Object(b.a)(e.income_filters),Object(b.a)(n.financeReportFiltersDateToSend.income_filters.map((function(e){return t(e)})))),e.student_filters=[].concat(Object(b.a)(e.student_filters),Object(b.a)(n.financeReportFiltersDateToSend.student_filters.map((function(e){return t(e)})))),sessionStorage.getItem("reload")?sessionStorage.removeItem("reload"):n.fetchFilteredFinanceReport(e)};return console.log(n.financeReportFilters),Object(d.jsxs)(x,{title:"\u05d3\u05d5\u05d7 \u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd \u05d5\u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd - \u05d4\u05e4\u05e7\u05ea \u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:n.financeReportFilters,onChange:function(e,t,r,i,a,o){n.setFinanceReportFiltersToSend(e,t,r,i,a,o)},dateSelectOption:function(e){n.setFinanceReportFiltersDateSelectedOption(e.split(","))},dateFrom:n.dateFrom,dateTo:n.dateTo,onDateFrom:function(e){n.setDateFromTo(e),n.setFinanceReportFiltersDateToSend(e.split("-").reverse().join("/"),0)},onDateTo:function(e){n.setDateFromTo(null,e),n.setFinanceReportFiltersDateToSend(e.split("-").reverse().join("/"),1)},cleanDate:function(){n.setDateFromTo("",""),n.setFinanceReportFiltersDateToSend(null,null,"clear")}}),n.financeReportFilters.length>0&&Object(d.jsx)("div",{className:"paymentReportFiltersResetButtonContainer",children:Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{position:"relative"},children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:i}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){n.setFinanceReportFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:function(){return n.allFinanceReport&&c()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})}),Object(d.jsxs)("div",{style:{position:"absolute",top:"110%",display:"flex",alignItems:"center",justifyContent:"center",width:"max-content"},children:[""!==n.expenseMessage.trim()&&(setTimeout((function(){n.changeExpenseMessage("")}),5e3),Object(d.jsx)("div",{style:{position:"absolute",left:"100%",whiteSpace:"nowrap",marginLeft:"3px",fontSize:"1.1em"},children:n.expenseMessage})),Object(d.jsx)("div",{className:"button",onClick:function(){return n.allFinanceReport&&n.fetchExpense()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1em"},children:"\u05d1\u05e6\u05e2 \u05ea\u05e9\u05dc\u05d5\u05dd"})]})]})})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",height:n.leftTableHeight<n.rightTableHeight?n.leftTableHeight:n.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:n.rightTableFinanceReport.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:n.rightTableSearch,onChange:function(e){return a(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsx)(O.CSVLink,{filename:"".concat(n.selectedRightTableTab," ").concat((new Date).toISOString().slice(0,10),".csv"),data:n.rightTableFinanceReportDownloadCSV,headers:[{label:"\u05e9\u05dd",key:"name"},{label:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",key:"income_sum"},{label:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",key:"expense_sum"},{label:"\u05d9\u05ea\u05e8\u05d4",key:"balance"},{label:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea",key:"balance_total"}],children:Object(d.jsx)(v.a,{size:"1.3em",title:"\u05d4\u05d5\u05e8\u05d3\u05d4",style:{cursor:"pointer"}})}),Object(d.jsx)(R,{headers:{name:"\u05e9\u05dd",income_sum:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",expense_sum:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",balance:"\u05d9\u05ea\u05e8\u05d4",balance_total:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea"},data:n.rightTableFinanceReportDownloadCSV,store:n,table:n.selectedRightTableTab})]}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05d4\u05db\u05e0\u05e1\u05d5\u05ea","\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea","\u05d9\u05ea\u05e8\u05d4","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"],rightTable:!0,data:n.rightTableFinanceReport,tableCheckbox:n.rightTableCheckbox,tableSelectedItems:n.rightTableSelectedItems,changeTableSelectedItems:function(e,t,r){return n.allFinanceReport&&n.setRightTableSelectedItems(e,t,r)},changeCheckbox:function(e,t,r){return n.setRightTableCheckbox(e,t,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return n.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("branch"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"branch",1,".paymentReportRightTableTab")},children:"\u05e1\u05e0\u05e4\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"})]}),Object(d.jsx)("div",{className:"paymentReportRightTableSum",children:"\u05e9\u05d5\u05e8\u05ea \u05e1\u05d9\u05db\u05d5\u05dd"}),!n.allFinanceReport&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:n.leftTableFinanceReport.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:n.leftTableSearch,onChange:function(e){return a(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsx)(O.CSVLink,{filename:"".concat(n.selectedLeftTableTab," ").concat((new Date).toISOString().slice(0,10),".csv"),data:n.leftTableFinanceReportDownloadCSV,headers:[{label:"\u05de\u05d6\u05d4\u05d4",key:"identity"},{label:"\u05e9\u05dd \u05de\u05dc\u05d0",key:"full_name"},{label:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",key:"income_sum"},{label:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",key:"expense_sum"},{label:"\u05d9\u05ea\u05e8\u05d4",key:"balance"},{label:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea",key:"balance_total"}],children:Object(d.jsx)(v.a,{size:"1.3em",title:"\u05d4\u05d5\u05e8\u05d3\u05d4",style:{cursor:"pointer"}})}),Object(d.jsx)(R,{headers:{identity:"\u05de\u05d6\u05d4\u05d4",full_name:"\u05e9\u05dd \u05de\u05dc\u05d0",income_sum:"\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",expense_sum:"\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",balance:"\u05d9\u05ea\u05e8\u05d4",balance_total:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea"},data:n.leftTableFinanceReportDownloadCSV,store:n,table:n.selectedLeftTableTab})]}),Object(d.jsxs)(_,{header:["\u05de\u05d6\u05d4\u05d4","\u05e9\u05dd \u05de\u05dc\u05d0","\u05d4\u05db\u05e0\u05e1\u05d5\u05ea","\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea","\u05d9\u05ea\u05e8\u05d4","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"],data:n.leftTableFinanceReport,noFottTitle:["\u05e9\u05dd \u05de\u05dc\u05d0"],tableCheckbox:n.leftTableCheckbox,changeCheckbox:function(e,t,r){return n.setLeftTableCheckbox(e,t,r)},changeTableSelectedItems:function(e,r,i){return n.allFinanceReport&&function(e){"student"===n.selectedLeftTableTab&&(sessionStorage.setItem("student_id",e.attribution_id),t.push("/finance-report/student-profile"),sessionStorage.setItem("route","/finance-report/student-profile"))}(i)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return n.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{right:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return o(e,"student",0,".paymentReportLeftTableTab")},children:"\u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab",onClick:function(e){return o(e,"employee",0,".paymentReportLeftTableTab")},children:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab",onClick:function(e){return o(e,"supplier",0,".paymentReportLeftTableTab")},children:"\u05e1\u05e4\u05e7\u05d9\u05dd"})]}),!n.allFinanceReport&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]})]})]})})))),D=n(38),B=Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n,i=e.rootStore.paymentsBasketStore,a=Object(r.useState)(window.innerWidth),o=Object(y.a)(a,2),c=o[0],s=o[1],l=Object(r.useState)(""),h=Object(y.a)(l,2),b=h[0],f=h[1];Object(r.useEffect)((function(){return i.fetchPaymentsBasketFilters().then((function(){return m()})).then((function(){return v()})),window.onresize=function(e){s(e.target.innerWidth)},function(){i.changeMergedCheckbox(null,null,!0)}}),[]),Object(r.useEffect)((function(){i.afterLeftTableUpdate()}),[i.leftTablePaymentsBasket]);var m=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=i.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(i.setPaymentsBasketFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},g=function(e,t){i.allPaymentsBasket&&i.setTableSearch(e,t.target.value)},j=function(e,t,n,r){i.allPaymentsBasket&&(document.querySelectorAll(r).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),i.setSelectedTableTab(n,t))},v=function(){i.fetchFilteredPaymentsBasket(i.paymentsBasketFiltersToSend)},T=function(e){i.fetchPrint(e,b).then((function(e){if(e.ok){var t=e.headers.get("Content-Disposition");if(t){v();var n=t.slice(t.indexOf("filename=")+9,t.length-1);e.blob().then((function(e){return D(e,n)}))}}}))};return Object(d.jsxs)(x,{title:"\u05e1\u05dc \u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd",goBack:!0,childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:i.paymentsBasketFilters,onChange:function(e,t,n,r,a,o){i.setPaymentsBasketFiltersToSend(e,t,n,r,a,o)}}),i.paymentsBasketFilters.length>0&&Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonContainer",children:[Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:m}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){i.setPaymentsBasketFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:v,style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{marginRight:"50px"},children:[Object(d.jsxs)("select",{style:{width:"100%"},value:b,onChange:function(e){f(e.target.value)},children:[Object(d.jsx)("option",{value:"",selected:!0,disabled:!0,children:"\u05e7\u05d9\u05d1\u05d5\u05e5 \u05e9\u05d9\u05e7\u05d9\u05dd"}),Object(d.jsx)("option",{value:"trend_coordinator",children:"\u05de\u05e0\u05d7\u05d4"}),Object(d.jsx)("option",{value:"branch",children:"\u05e1\u05e0\u05d9\u05e3"})]}),Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){return T()},style:{width:"100%"}}),Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05de\u05d5\u05e6\u05d2\u05d9\u05dd",className:"paymentReportFiltersResetButton button",onClick:function(){return T(!0)},style:{width:"100%"}}),Object(d.jsx)("input",{type:"button",value:"\u05d1\u05e6\u05e2 \u05d0\u05d9\u05d7\u05d5\u05d3",className:"paymentReportFiltersResetButton button",onClick:function(){return i.fetchMerge()},style:{width:"100%"}})]})]})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",fontSize:c<=1600?"0.85em":"0.8em",height:i.leftTableHeight<i.rightTableHeight?i.leftTableHeight:i.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:i.rightTablePaymentsBasket.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.rightTableSearch,onChange:function(e){return g(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:"institution"===i.selectedRightTableTab?c>1600?["\u05e9\u05dd","\u05e1\u05da \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd","\u05e1\u05da \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd","\u05e1\u05da \u05d4\u05d3\u05e4\u05e1\u05d5\u05ea","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4",""]:["\u05e9\u05dd","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4",""]:c>1600?["\u05e9\u05dd","\u05e1\u05da \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd","\u05e1\u05da \u05d4\u05d3\u05e4\u05e1\u05d5\u05ea","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4",""]:["\u05e9\u05dd","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05e1\u05db\u05d5\u05dd \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05db\u05d5\u05dd \u05db\u05d5\u05dc\u05dc","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4",""],rightTable:!0,data:i.rightTablePaymentsBasket,tableCheckbox:i.rightTableCheckbox,tableSelectedItems:i.rightTableSelectedItems,changeTableSelectedItems:function(e,t,n){return i.setRightTableSelectedItems(e,t,n)},changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,1)},changePaymentMethod:function(e,t){return i.changePaymentMethod(e,t,1)},paymentMethods:null===(t=i.generalLists)||void 0===t?void 0:t.expense_payment_methods,allowEdit:!0,changeCheckDate:function(e,t){return i.changeCheckDate(e,t,1)},changeForMonth:function(e,t){return i.changeForMonth(e,t,1)},changeSum:function(e,t){return i.changeCheckSum(e,t,1)},delete:function(e){return i.delete(e,1)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return j(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("branch"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return j(e,"branch",1,".paymentReportRightTableTab")},children:"\u05e1\u05e0\u05e4\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return j(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"})]}),Object(d.jsx)("div",{className:"paymentReportRightTableSum",children:"\u05e9\u05d5\u05e8\u05ea \u05e1\u05d9\u05db\u05d5\u05dd"}),!i.allPaymentsBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:i.leftTablePaymentsBasket.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.leftTableSearch,onChange:function(e){return g(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05de\u05d6\u05d4\u05d4","\u05e9\u05dd \u05de\u05dc\u05d0","\u05e1\u05db\u05d5\u05dd","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7","\u05de\u05e0\u05d7\u05d4","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4","\u05d0\u05d9\u05d7\u05d5\u05d3 \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05de\u05df \u05dc\u05d0\u05d9\u05d7\u05d5\u05d3",""],data:i.leftTablePaymentsBasket,noFottTitle:["\u05e9\u05dd \u05de\u05dc\u05d0"],changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,0,t)},mergedCheckbox:i.mergedCheckbox,changeMergedCheckbox:function(e,t){return i.changeMergedCheckbox(e,t)},splitPayment:function(e){return i.fetchSplit(e)},changePaymentMethod:function(e,t,n){return i.changePaymentMethod(e,t,0,n)},paymentMethods:null===(n=i.generalLists)||void 0===n?void 0:n.expense_payment_methods,allowEdit:!0,changeCheckDate:function(e,t,n){return i.changeCheckDate(e,t,0,n)},changeForMonth:function(e,t,n){return i.changeForMonth(e,t,0,n)},changeSum:function(e,t,n){return i.changeCheckSum(e,t,0,n)},delete:function(e){return i.delete(e,0)},bankAccount:i.bankAccount,changeBankAccountId:function(e,t,n){return i.changeBankAccountId(e,t,0,n)},changeTrendCoordinatorId:function(e,t,n){return i.changeTrendCoordinatorId(e,t,0,n)},trendCoordinator:i.trendCoordinator,style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{right:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return j(e,"student",0,".paymentReportLeftTableTab")},children:"\u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab",onClick:function(e){return j(e,"employee",0,".paymentReportLeftTableTab")},children:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab",onClick:function(e){return j(e,"supplier",0,".paymentReportLeftTableTab")},children:"\u05e1\u05e4\u05e7\u05d9\u05dd"})]}),!i.allPaymentsBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]})]})]})}))),w=n(38),I=Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n=e.rootStore.transactionsReportStore;console.log(n),Object(r.useEffect)((function(){n.fetchTransactionsReportFilters().then((function(){var e="".concat((new Date).getFullYear(),"-01-01"),t="".concat((new Date).toISOString().slice(0,10));n.setDateFromTo(e,t),n.setTransactionsReportFiltersDateToSend(e.split("-").reverse().join("/"),0),n.setTransactionsReportFiltersDateToSend(t.split("-").reverse().join("/"),1)})).then((function(){return i()})).then((function(){return c()}))}),[]),Object(r.useEffect)((function(){n.afterLeftTableUpdate()}),[n.leftTableCheckbox]);var i=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=n.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(n.setTransactionsReportFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},a=function(e,t){n.allTransactionsReport&&n.setTableSearch(e,t.target.value)},o=function(e,t,r,i){n.allTransactionsReport&&(document.querySelectorAll(i).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),n.setSelectedTableTab(r,t))},c=function(){var e=n.transactionsReportFiltersToSend,t=function(e){return e.checked[0]=e.checked[0]&&""!==e.checked[0]?e.checked[0]:"01/01/".concat((new Date).getFullYear()," 00:00"),e.checked[1]=e.checked[1]&&""!==e.checked[1]?e.checked[1]:"".concat((new Date).toISOString().slice(0,10).split("-").reverse().join("/")," 23:59"),e};e.expense_filters=[].concat(Object(b.a)(e.expense_filters.filter((function(e){return"expense_date"!==e.name}))),Object(b.a)(n.transactionsReportFiltersDateToSend.expense_filters.map((function(e){return t(e)})))),e.income_filters=[].concat(Object(b.a)(e.income_filters.filter((function(e){return"income_date"!==e.name}))),Object(b.a)(n.transactionsReportFiltersDateToSend.income_filters.map((function(e){return t(e)})))),e.attribution_filters=Object(b.a)(e.attribution_filters),sessionStorage.getItem("reload")?sessionStorage.removeItem("reload"):n.fetchFilteredTransactionsReport(e)},s=function(){var e=n.leftTableCheckbox.filter((function(e){return e.checked})).length,t=function(){n.setShowPopup(!1)};return Object(d.jsx)("div",{id:"popupContainer",children:Object(d.jsxs)("div",{className:"restorePopup",children:[Object(d.jsxs)("div",{children:[" ","\u05e7\u05d9\u05d9\u05de\u05d9\u05dd ".concat(e," \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd")," "]}),Object(d.jsx)("div",{children:"\u05d4\u05d0\u05dd \u05dc\u05d1\u05e6\u05e2 \u05e9\u05d7\u05d6\u05d5\u05e8?"}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",marginTop:"10px"},children:[Object(d.jsx)("div",{className:"button",style:{padding:"3px"},onClick:function(){n.fetchRestoreExpense().then((function(){c(),t()}))},children:"\u05d0\u05d9\u05e9\u05d5\u05e8"}),Object(d.jsx)("div",{className:"button",style:{padding:"3px"},onClick:t,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})]})})};return Object(d.jsxs)(x,{title:"\u05d3\u05d5\u05d7 \u05ea\u05e0\u05d5\u05e2\u05d5\u05ea",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:n.transactionsReportFilters,onChange:function(e,t,r,i,a,o){n.setTransactionsReportFiltersToSend(e,t,r,i,a,o)},dateSelectOption:function(e){n.setTransactionsReportFiltersDateSelectedOption(e.split(","))},dateFrom:n.dateFrom,dateTo:n.dateTo,onDateFrom:function(e){n.setDateFromTo(e),n.setTransactionsReportFiltersDateToSend(e.split("-").reverse().join("/"),0)},onDateTo:function(e){n.setDateFromTo(null,e),n.setTransactionsReportFiltersDateToSend(e.split("-").reverse().join("/"),1)},cleanDate:function(){n.setDateFromTo("",""),n.setTransactionsReportFiltersDateToSend(null,null,"clear")}}),n.transactionsReportFilters.length>0&&Object(d.jsx)("div",{className:"paymentReportFiltersResetButtonContainer",children:Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{position:"relative"},children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:i}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){n.setTransactionsReportFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:function(){return n.allTransactionsReport&&c()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})}),Object(d.jsxs)("div",{style:{position:"absolute",top:"110%",display:"flex",alignItems:"center",justifyContent:"center",width:"max-content"},children:[""!==(null===(t=n.expenseMessage)||void 0===t?void 0:t.trim())&&(setTimeout((function(){n.changeExpenseMessage("")}),5e3),Object(d.jsx)("div",{style:{position:"absolute",left:"0",bottom:"-1.2em",whiteSpace:"nowrap",marginLeft:"3px",fontSize:"1.1em"},children:n.expenseMessage})),Object(d.jsx)("div",{className:"button",onClick:function(){return n.allTransactionsReport&&n.setShowPopup(!0)},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1em"},children:"\u05d1\u05e6\u05e2 \u05e9\u05d7\u05d6\u05d5\u05e8"})]})]})})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",height:n.leftTableHeight<n.rightTableHeight?n.leftTableHeight:n.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:n.rightTableTransactionsReport.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"50%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:n.rightTableSearch,onChange:function(e){return a(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsx)(O.CSVLink,{filename:"".concat(n.selectedRightTableTab," ").concat((new Date).toISOString().slice(0,10),".csv"),data:n.rightTableTransactionsReportDownloadCSV,headers:[{label:"\u05e9\u05dd",key:"name"},{label:"\u05d9\u05ea\u05e8\u05d4",key:"balance"},{label:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea",key:"balance_total"}],children:Object(d.jsx)(v.a,{size:"1.3em",title:"\u05d4\u05d5\u05e8\u05d3\u05d4",style:{cursor:"pointer"}})}),Object(d.jsx)(R,{data:n.rightTableTransactionsReportDownloadCSV,headers:[{label:"\u05e9\u05dd",key:"name"},{label:"\u05d9\u05ea\u05e8\u05d4",key:"balance"},{label:"\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea",key:"balance_total"}],store:n,table:n.selectedRightTableTab})]}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05d9\u05ea\u05e8\u05d4","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea"],rightTable:!0,data:n.rightTableTransactionsReport,tableCheckbox:n.rightTableCheckbox,tableSelectedItems:n.rightTableSelectedItems,changeTableSelectedItems:function(e,t,r){return n.allTransactionsReport&&n.setRightTableSelectedItems(e,t,r)},changeCheckbox:function(e,t,r){return n.setRightTableCheckbox(e,t,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return n.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("branch"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"branch",1,".paymentReportRightTableTab")},children:"\u05e1\u05e0\u05e4\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===n.selectedRightTableTab&&"selectedTab"),onClick:function(e){return o(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"})]}),!n.allTransactionsReport&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:n.leftTableTransactionsReport.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"20%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:n.leftTableSearch,onChange:function(e){return a(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("div",{style:{textDecoration:"underline",fontWeight:"500"},children:"\u05e1\u05d5\u05d2 \u05ea\u05e0\u05d5\u05e2\u05d4:"}),Object(d.jsxs)("label",{style:{display:"flex",marginRight:"3px"},children:["\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea",Object(d.jsx)("input",{type:"checkbox",checked:n.checkExpense,onChange:function(e){return n.changeCheckBox("expense",e.target.checked)}})]}),Object(d.jsxs)("label",{style:{display:"flex",marginRight:"3px"},children:["\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",Object(d.jsx)("input",{type:"checkbox",checked:n.checkIncome,onChange:function(e){return n.changeCheckBox("income",e.target.checked)}})]})]}),Object(d.jsx)(O.CSVLink,{style:{marginRight:"1em"},filename:"\u05d3\u05d5\u05d7 \u05ea\u05e0\u05d5\u05e2\u05d5\u05ea ".concat((new Date).toISOString().slice(0,10),".csv"),data:n.leftTableTransactionsReportDownloadCSV,headers:[{label:"\u05e9\u05d9\u05d5\u05da",key:"heb_attribution"},{label:"\u05e9\u05dd \u05de\u05dc\u05d0",key:"full_name"},{label:"\u05de\u05d6\u05d4\u05d4",key:"identity"},{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4",key:"transaction_date"},{label:"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05ea\u05e9\u05dc\u05d5\u05dd",key:"payment_status"},{label:"\u05e1\u05db\u05d5\u05dd",key:"amount"},{label:"\u05d0\u05de\u05e6\u05e2\u05d9",key:"payment_method"},{label:"\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9",key:"for_month"},{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d3\u05e4\u05e1\u05d4",key:"printing_date"}],children:Object(d.jsx)(v.a,{size:"1.3em",title:"\u05d4\u05d5\u05e8\u05d3\u05d4",style:{cursor:"pointer"}})}),Object(d.jsx)(R,{headers:[{label:"\u05e9\u05d9\u05d5\u05da",key:"heb_attribution"},{label:"\u05e9\u05dd \u05de\u05dc\u05d0",key:"full_name"},{label:"\u05de\u05d6\u05d4\u05d4",key:"identity"},{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4",key:"transaction_date"},{label:"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05ea\u05e9\u05dc\u05d5\u05dd",key:"payment_status"},{label:"\u05e1\u05db\u05d5\u05dd",key:"amount"},{label:"\u05d0\u05de\u05e6\u05e2\u05d9",key:"payment_method"},{label:"\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9",key:"for_month"},{label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d3\u05e4\u05e1\u05d4",key:"printing_date"}],data:n.leftTableTransactionsReportDownloadCSV,store:n,table:"\u05d3\u05d5\u05d7 \u05ea\u05e0\u05d5\u05e2\u05d5\u05ea"}),Object(d.jsx)("input",{style:{marginRight:"1em"},type:"button",value:"\u05d9\u05e6\u05d0 \u05d3\u05d5\u05d7 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea \u05d5\u05d4\u05db\u05e0\u05e1\u05d5\u05ea",onClick:function(){n.fetchRawTable().then((function(e){if(e.ok){var t=e.headers.get("Content-Disposition");if(t){var n=t.slice(t.indexOf("filename=")+9,t.length-1);e.blob().then((function(e){return w(e,n)}))}}}))}})]}),Object(d.jsx)(_,{header:["\u05e9\u05d9\u05d5\u05da","\u05e9\u05dd \u05de\u05dc\u05d0","\u05de\u05d6\u05d4\u05d4","\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4","\u05e1\u05d8\u05d8\u05d5\u05e1 \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05db\u05d5\u05dd","\u05d0\u05de\u05e6\u05e2\u05d9","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d3\u05e4\u05e1\u05d4","\u05e1\u05de\u05df \u05dc\u05e9\u05d7\u05d6\u05d5\u05e8"],noEdit:!0,noFottTitle:["\u05de\u05d6\u05d4\u05d4"],data:n.leftTableTransactionsReport,tableCheckbox:n.leftTableCheckbox,changeCheckbox:function(e,t,r){return n.setLeftTableCheckbox(e,t,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return n.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:!n.allTransactionsReport&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})})]})]}),n.showPopup&&Object(d.jsx)(s,{})]})}))),A=function(e){return Object(d.jsxs)("div",{style:{display:"flex",marginBottom:"5px"},children:[Object(d.jsx)("div",{style:{marginLeft:"5px"},children:e.titles.map((function(e,t){return Object(d.jsxs)("div",{style:{marginTop:t>0&&"5px"},children:[e,":"]},t)}))}),e.children]})},P=n(3),N=n.n(P),L=n(8),E=n(15),M=n(9),U="/",H=function(){var e=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if("UNAUTHORIZED"!==e.statusText)return e.json();localStorage.clear(),sessionStorage.clear(),window.location.replace("/")})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"GET"}).then((function(e){if("UNAUTHORIZED"!==e.statusText)return e;localStorage.clear(),sessionStorage.clear(),window.location.replace("/")})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(L.a)(N.a.mark((function e(t,n,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return r?e:e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"POST",body:n}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"PUT",body:n}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y={loginStore:new function e(){var t=this;Object(E.a)(this,e),this.userName="",this.password="",this.rememberMe=!1,this.errorMessage="",this.loader=!1,this.setLoader=function(e){t.loader=e},this.changeUserName=function(e){t.userName=e,t.setErrorMessage("")},this.changePassword=function(e){t.password=e,t.setErrorMessage("")},this.changeRememberMe=function(e){t.rememberMe=e,t.setErrorMessage("")},this.setErrorMessage=function(e){(""!==t.errorMessage||""!==e)&&(t.errorMessage=e)},this.login=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorMessage(""),t.loader=!0,""===t.userName.trim()||""===t.password.trim()){e.next=8;break}return e.next=5,V("auth/login",{username:t.userName,password:t.password,remember_me:t.rememberMe}).then((function(e){return e.error&&t.setErrorMessage(e.message),e.error})).catch((function(e){console.error(e),t.setErrorMessage("\u05d9\u05e9 \u05d1\u05e2\u05d9\u05d4, \u05e0\u05e1\u05d4 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8")}));case 5:return e.abrupt("return",e.sent);case 8:return t.setErrorMessage("\u05de\u05dc\u05d0 \u05d0\u05ea \u05d4\u05e9\u05d3\u05d5\u05ea \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d5\u05e1\u05d9\u05e1\u05de\u05d4"),e.abrupt("return",!0);case 10:case 11:case"end":return e.stop()}}),e)}))),Object(M.l)(this)},paymentReportStore:new function e(){var t=this;Object(E.a)(this,e),this.allFinanceReport=null,this.leftTableFinanceReport=Array(10).fill(""),this.rightTableFinanceReport=Array(10).fill(""),this.leftTableFinanceReportDownloadCSV=[],this.rightTableFinanceReportDownloadCSV=[],this.financeReportFilters=[],this.financeReportFiltersToSend={expense_filters:[],income_filters:[],student_filters:[]},this.financeReportFiltersDateToSend={expense_filters:[{name:"expense_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],income_filters:[{name:"income_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],student_filters:[]},this.financeReportFiltersDateSelectedOption=[],this.selectedLeftTableTab="student",this.selectedRightTableTab="institution",this.leftTableSearch="",this.rightTableSearch="",this.dateFrom="",this.dateTo="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableCheckbox=[],this.rightTableCheckbox=[],this.rightTableSelectedItems=[],this.checkedFilters=[],this.expenseMessage="",this.setLeftTableFinanceReportDownloadCSV=function(e){var n=JSON.stringify(e);t.leftTableFinanceReportDownloadCSV=JSON.parse(n).map((function(e){return Object.keys(e).reduce((function(t,n){var r;return e[n]=(null===(r=e[n])||void 0===r?void 0:r.toString())||null,e}),{})}))},this.setRightTableFinanceReportDownloadCSV=function(e){var n=JSON.stringify(e);t.rightTableFinanceReportDownloadCSV=JSON.parse(n).map((function(e){return Object.keys(e).reduce((function(t,n){var r;return e[n]=(null===(r=e[n])||void 0===r?void 0:r.toString())||null,console.log(e),e}),{})}))},this.afterLeftTableUpdate=function(){var e=t.rightTableFinanceReport.map((function(e,n){if("object"===typeof e&&null!==e){var r=t.leftTableFinanceReport.filter((function(n){return!n.deleted&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length,i=t.leftTableCheckbox.filter((function(n){return n&&n.item&&n.checked&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n.item["fk_".concat(t.selectedRightTableTab,"_id")]})).length;t.rightTableFinanceReport[n].all_selected=0!==r&&r===i}return e}));t.rightTableFinanceReport=e,t.setRightTableFinanceReportDownloadCSV(e)},this.changeExpenseMessage=function(e){t.expenseMessage=e},this.setCheckedFilters=function(e){t.checkedFilters=e},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(t.leftTableSearch="",i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allFinanceReport[0][t.selectedLeftTableTab]:t.leftTableFinanceReport;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["fk_".concat(t.selectedRightTableTab,"_id")]||n["fk_".concat(t.selectedRightTableTab,"_id")]===e.fk_id})))))})),s=s.filter((a=new Set,function(e){var t=e.identity;return!a.has(t)&&a.add(t)})),t.setLeftTableFinanceReport(s,!0)}else t.setLeftTableFinanceReport(c,!0)},this.setRightTableCheckbox=function(e,n,r){var i=t.rightTableCheckbox;r&&(i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableCheckbox=Object(b.a)(i),t.leftTableCheckbox=t.leftTableFinanceReport.map((function(n,i){return r["fk_".concat(t.selectedRightTableTab,"_id")]!==n["fk_".concat(t.selectedRightTableTab,"_id")]||n.deleted?t.leftTableCheckbox[i]:{checked:e,item:n}})))},this.setLeftTableCheckbox=function(e,n,r){var i=t.leftTableCheckbox;i[n]={checked:e,item:r},t.leftTableCheckbox=Object(b.a)(i)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setDateFromTo=function(e,n){e?t.dateFrom=e.slice(0,10).split("/").reverse().join("-"):""===e&&(t.dateFrom=""),n?t.dateTo=n.slice(0,10).split("/").reverse().join("-"):""===n&&(t.dateTo="")},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allFinanceReport[e][t.selectedLeftTableTab].filter((function(e){return e.identity.includes(n)||e.full_name.toLowerCase().includes(n.toLowerCase())||e.income_sum.toString().includes(n)||e.expense_sum.toString().includes(n)||e.balance.toString().includes(n)||e.balance_total.toString().includes(n)}));t.setLeftTableFinanceReport(r)}else{t.rightTableSearch=n;var i=t.allFinanceReport[e][t.selectedRightTableTab].filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.income_sum.toString().includes(n)||e.expense_sum.toString().includes(n)||e.balance.toString().includes(n)||e.balance_total.toString().includes(n)}));t.setRightTableFinanceReport(i)}},this.setSelectedTableTab=function(e,n){0===e&&t.selectedLeftTableTab!==n?(t.leftTableSearch="",t.selectedLeftTableTab=n,t.setLeftTableFinanceReport(t.allFinanceReport[e][n])):1===e&&t.selectedRightTableTab!==n&&(t.rightTableSearch="",t.selectedRightTableTab=n,t.setRightTableFinanceReport(t.allFinanceReport[e][n]),t.setRightTableSelectedItems())},this.setFinanceReportFiltersToSend=function(e,n,r,i,a,o,c){"checkAll"===c&&(t.financeReportFiltersToSend={expense_filters:[],income_filters:[],student_filters:[]}),"unCheckAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!1}))}))})):"checkAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!0}))}))})):i-1>-1&&(t.checkedFilters[i-1][a][o]=!t.checkedFilters[i-1][a][o]),"unCheckAll"===c?t.financeReportFilters.map((function(e){return"date_filters"!==e.name&&t.financeReportFiltersToSend[e.name].map((function(e){return e.checked=[]}))})):"checkAll"===c?t.financeReportFilters.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(n){return t.financeReportFiltersToSend[e.name]=[].concat(Object(b.a)(t.financeReportFiltersToSend[e.name]),[{name:n.name,checked:n.checkboxes}])}))})):t.financeReportFiltersToSend[e].map((function(e){return e.name===n&&(e.checked.some((function(e){return e===r}))?e.checked=e.checked.filter((function(e){return e!==r})):e.checked=[].concat(Object(b.a)(e.checked),[r]))}))},this.setFinanceReportFiltersDateToSend=function(e,n,r){var i,a=t.financeReportFiltersDateSelectedOption,o=null===(i=t.financeReportFiltersDateToSend[a[2]])||void 0===i?void 0:i.findIndex((function(e){return e.name===a[1]}));-1===o&&(o=t.financeReportFiltersDateToSend[a[2]].length,t.financeReportFiltersDateToSend[a[2]]=[].concat(Object(b.a)(t.financeReportFiltersDateToSend[a[2]]),[{name:a[1],checked:["",""]}])),"clear"===r||0===a.length?t.financeReportFiltersDateToSend={expense_filters:[{name:"expense_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],income_filters:[{name:"income_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],student_filters:[]}:t.financeReportFiltersDateToSend[a[2]][o].checked[n]="".concat(e," 00:00")},this.setFinanceReportFiltersDateSelectedOption=function(e){t.financeReportFiltersDateSelectedOption=e;var n=t.financeReportFiltersDateToSend[e[2]].find((function(t){return t.name===e[1]}));n?t.setDateFromTo(n.checked[0],n.checked[1]):t.setDateFromTo("","")},this.setFinanceReportFilters=function(e){t.financeReportFilters=e,t.checkedFilters=e.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(e){return e.checkboxes&&e.checkboxes.map((function(){return!0}))}))})).filter((function(e){return e&&e}));var n=e.filter((function(e){return"date_filters"===e.name}))[0].filters[0];t.financeReportFiltersDateSelectedOption=[n.display_name,n.name,n.filter_key]},this.setRightTableFinanceReport=function(e){t.rightTableCheckbox=Array(e.length).fill({checked:!1,fk_id:-1}),t.rightTableSelectedItems=Array(e.length).fill({checked:!1,fk_id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTableFinanceReport=e.concat(n),t.setRightTableFinanceReportDownloadCSV(e)},this.setLeftTableFinanceReport=function(e,n){t.leftTableCheckbox=Array(e.length).fill({checked:!1});var r=e.length<10?Array(10-e.length).fill(""):[];t.leftTableFinanceReport=e.concat(r),!n&&t.setRightTableSelectedItems(),t.setLeftTableFinanceReportDownloadCSV(t.leftTableFinanceReport)},this.setAllFinanceReport=function(e){t.allFinanceReport=e,e&&e.length>0&&e[0][t.selectedLeftTableTab]&&t.setLeftTableFinanceReport(e[0][t.selectedLeftTableTab]),e&&e.length>1&&e[1][t.selectedRightTableTab]&&t.setRightTableFinanceReport(e[1][t.selectedRightTableTab])},this.fetchFilteredFinanceReport=function(e){t.setAllFinanceReport(null),V("finance_report",e).then((function(e){return t.setAllFinanceReport(e)})).catch((function(e){return console.error(e)}))},this.fetchFinanceReportFilters=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!sessionStorage.getItem("reload");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=H("finance_report/filters").then((function(e){return t.setFinanceReportFilters(e)})).catch((function(e){return console.error(e)}));case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),this.resetCheckbox=function(){t.leftTableCheckbox=Array(t.leftTableFinanceReport.length).fill({checked:!1})},this.fetchExpense=function(){var e=t.leftTableCheckbox.filter((function(e){return e.checked})).map((function(e){return{attribution:e.item.attribution,attribution_id:e.item.attribution_id,fk_branch_id:e.item.fk_branch_id,fk_institution_id:e.item.fk_institution_id,fk_trend_coordinator_id:e.item.fk_trend_coordinator_id,payment_method:e.item.payment_method,amount:e.item.expense_sum,fk_bank_account_id:e.item.fk_bank_account_id,payment_status:"\u05d8\u05d9\u05d5\u05d8\u05d4"}}));e.length>0&&V("finance_report?pay=true",e).then((function(e){t.changeExpenseMessage(e.message.value),t.resetCheckbox()})).catch((function(e){return console.error(e)}))},this.fetchGoogleSheets=function(){var e=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,V("finance_report/export",t,!1).catch((function(e){return console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(M.l)(this)},paymentsBasketStore:new function e(){var t=this;Object(E.a)(this,e),this.allPaymentsBasket=null,this.leftTablePaymentsBasket=Array(10).fill(""),this.rightTablePaymentsBasket=Array(10).fill(""),this.paymentsBasketFilters=[],this.paymentsBasketFiltersToSend={expense_filters:[],student_filters:[]},this.paymentsBasketFiltersDateSelectedOption=[],this.selectedLeftTableTab="student",this.selectedRightTableTab="institution",this.leftTableSearch="",this.rightTableSearch="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableCheckbox=[],this.rightTableCheckbox=[],this.rightTableSelectedItems=[],this.checkedFilters=[],this.generalLists=[],this.bankAccount=[],this.trendCoordinator=[],this.mergedCheckbox=[],this.changeMergedCheckbox=function(e,n,r){if(r)t.mergedCheckbox=[];else if(e)t.mergedCheckbox=[].concat(Object(b.a)(t.mergedCheckbox),[n]);else{var i=t.mergedCheckbox.indexOf(n);t.mergedCheckbox=[].concat(Object(b.a)(t.mergedCheckbox.slice(0,i)),Object(b.a)(t.mergedCheckbox.slice(i+1,t.mergedCheckbox.length+1)))}},this.setBankAccount=function(e){t.bankAccount=e},this.setTrendCoordinator=function(e){t.trendCoordinator=e},this.print=function(){var e=Object(L.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n&&t.allPaymentsBasket[0][t.selectedLeftTableTab].map((function(e){return e.is_printable&&(r=[].concat(Object(b.a)(r),[e.expense_id]))})),e.next=4,t.fetchPrint(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delete=function(e,n){if(0===n&&t.fetchDeleteExpense(e.expense_id,{}).then((function(r){r||t.deleteSelectedItem(e,n)})),1===n){var r=[];t.leftTablePaymentsBasket.map((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]&&(r=[].concat(Object(b.a)(r),[n.expense_id]))})),t.fetchDeleteExpense(null,r).then((function(r){r||t.leftTablePaymentsBasket.map((function(r){return e["fk_".concat(t.selectedRightTableTab,"_id")]===r["fk_".concat(t.selectedRightTableTab,"_id")]&&t.deleteSelectedItem(r,n)}))}))}},this.deleteSelectedItem=function(e,n){var r,i=t.leftTablePaymentsBasket.filter((function(t){return t!==e}));t.setLeftTablePaymentsBasket(i,!0),t.allPaymentsBasket[n][t.selectedLeftTableTab]=null===(r=t.allPaymentsBasket[n][t.selectedLeftTableTab])||void 0===r?void 0:r.filter((function(t){return t!==e}))},this.checkExpence=function(e,n,r,i,a,o){var c=t.leftTablePaymentsBasket,s={};s[a]=e,o&&(a=o),0===r?("is_printable"!==a||"is_printable"===a&&t.checkIsPrintAllow(n))&&t.fetchEditExpense(n.expense_id,s).then((function(n){n||t.changeLeftTablePaymentsBasket(c,i,a,e)})):1===r&&t.leftTablePaymentsBasket.map((function(r,i){return n["fk_".concat(t.selectedRightTableTab,"_id")]===r["fk_".concat(t.selectedRightTableTab,"_id")]&&("is_printable"!==a||"is_printable"===a&&t.checkIsPrintAllow(r))&&t.fetchEditExpense(r.expense_id,s).then((function(n){n||t.changeLeftTablePaymentsBasket(c,i,a,e)}))}))},this.checkIsPrintAllow=function(e){return t.leftTablePaymentsBasket=t.leftTablePaymentsBasket.map((function(t){return t===e&&delete t.show_error,t})),!!(e.expense_sum&&0!==e.expense_sum&&e.payment_method&&e.for_month&&0!==e.for_month&&("\u05e9\u05d9\u05e7"!==e.payment_method||e.transmission_date&&0!==e.transmission_date))||(t.leftTablePaymentsBasket=t.leftTablePaymentsBasket.map((function(t){return t===e&&(t.show_error=!0),t})),!1)},this.changeLeftTablePaymentsBasket=function(e,n,r,i){e[n][r]=i,t.leftTablePaymentsBasket=Object(b.a)(e)},this.changeCheckDate=function(e,n,r,i){t.checkExpence(e,n,r,i,"transmission_date")},this.changeForMonth=function(e,n,r,i){t.checkExpence(e,n,r,i,"for_month")},this.changeCheckSum=function(e,n,r,i){t.checkExpence(e,n,r,i,"amount","expense_sum")},this.changePaymentMethod=function(e,n,r,i){t.checkExpence(e,n,r,i,"payment_method")},this.changeCheckbox=function(e,n,r,i){t.checkExpence(e,n,r,i,"is_printable")},this.changeBankAccountId=function(e,n,r,i){t.checkExpence(e,n,r,i,"fk_bank_account_id")},this.changeTrendCoordinatorId=function(e,n,r,i){t.checkExpence(e,n,r,i,"fk_trend_coordinator_id")},this.afterLeftTableUpdate=function(){t.rightTablePaymentsBasket=t.rightTablePaymentsBasket.map((function(e,n){if("object"===typeof e&&null!==e){var r=t.leftTablePaymentsBasket.filter((function(n){return!n.deleted&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length,i=t.leftTablePaymentsBasket.filter((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]&&n.is_printable})).length;t.rightTablePaymentsBasket[n].all_selected=0!==r&&r===i,t.rightTablePaymentsBasket[n]["print_".concat(t.selectedLeftTableTab,"_sum")]=i,t.rightTablePaymentsBasket[n]["".concat(t.selectedLeftTableTab,"_sum")]=t.leftTablePaymentsBasket.filter((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length}return e}))},this.setGeneralLists=function(e){t.generalLists=e},this.setCheckedFilters=function(e){t.checkedFilters=e},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allPaymentsBasket[0][t.selectedLeftTableTab]:t.leftTablePaymentsBasket;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["fk_".concat(t.selectedRightTableTab,"_id")]||n["fk_".concat(t.selectedRightTableTab,"_id")]===e.fk_id})))))})),s=s.filter((a=new Set,function(e){var t=e.identity;return!a.has(t)&&a.add(t)})),t.setLeftTablePaymentsBasket(s,!0)}else t.setLeftTablePaymentsBasket(c,!0)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allPaymentsBasket[e][t.selectedLeftTableTab].filter((function(e){return e.identity.includes(n)||e.full_name.toLowerCase().includes(n.toLowerCase())||e.for_month.includes(n)||e.transmission_date.includes(n)||e.expense_sum.toString().includes(n)||e.payment_method.toLowerCase().includes(n.toLowerCase())||e.balance_total.toString().includes(n)}));t.setLeftTablePaymentsBasket(r)}else{t.rightTableSearch=n;var i=t.allPaymentsBasket[e][t.selectedRightTableTab].filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.expense_sum_total.includes(n)||e.expense_sum.includes(n)||e.balance_total.toString().includes(n)}));t.setRightTablePaymentsBasket(i)}},this.setSelectedTableTab=function(e,n){0===e&&t.selectedLeftTableTab!==n?(t.leftTableSearch="",t.selectedLeftTableTab=n,t.setLeftTablePaymentsBasket(t.allPaymentsBasket[e][n])):1===e&&t.selectedRightTableTab!==n&&(t.rightTableSearch="",t.selectedRightTableTab=n,t.setRightTablePaymentsBasket(t.allPaymentsBasket[e][n]),t.setRightTableSelectedItems())},this.setPaymentsBasketFiltersToSend=function(e,n,r,i,a,o,c){"checkAll"===c&&(t.paymentsBasketFiltersToSend={expense_filters:[],student_filters:[]}),"unCheckAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!1}))}))})):"checkAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!0}))}))})):t.checkedFilters[i][a][o]=!t.checkedFilters[i][a][o],"unCheckAll"===c?t.paymentsBasketFilters.map((function(e){return"date_filters"!==e.name&&t.paymentsBasketFiltersToSend[e.name].map((function(e){return e.checked=[]}))})):"checkAll"===c?t.paymentsBasketFilters.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(n){return t.paymentsBasketFiltersToSend[e.name]=[].concat(Object(b.a)(t.paymentsBasketFiltersToSend[e.name]),[{name:n.name,checked:n.checkboxes}])}))})):t.paymentsBasketFiltersToSend[e].map((function(e){return e.name===n&&(e.checked.some((function(e){return e===r}))?e.checked=e.checked.filter((function(e){return e!==r})):e.checked=[].concat(Object(b.a)(e.checked),[r]))}))},this.setPaymentsBasketFilters=function(e){t.paymentsBasketFilters=e,t.checkedFilters=e.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(e){return e.checkboxes&&e.checkboxes.map((function(){return!0}))}))})).filter((function(e){return e&&e}))},this.setRightTablePaymentsBasket=function(e){t.rightTableCheckbox=Array(e.length).fill({checked:!1,fk_id:-1}),t.rightTableSelectedItems=Array(e.length).fill({checked:!1,fk_id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTablePaymentsBasket=e.concat(n)},this.setLeftTablePaymentsBasket=function(e,n){t.leftTableCheckbox=e.map((function(e){return{checked:e.is_printable,fk_id:-1}}));var r=e.length<10?Array(10-e.length).fill(""):[];t.leftTablePaymentsBasket=e.concat(r),!n&&t.setRightTableSelectedItems()},this.setAllPaymentsBasket=function(e){e&&e.length>1&&Object.keys(e[1]).map((function(t){return e[1][t].map((function(n,r){return Object.keys(e[0]).map((function(i){return e[1][t][r]["".concat(i,"_sum")]=e[0][i].filter((function(e){return n["fk_".concat(t,"_id")]===e["fk_".concat(t,"_id")]})).length}))}))})),t.allPaymentsBasket=e,e&&e.length>0&&e[0][t.selectedLeftTableTab]&&t.setLeftTablePaymentsBasket(e[0][t.selectedLeftTableTab]),e&&e.length>1&&e[1][t.selectedRightTableTab]&&t.setRightTablePaymentsBasket(e[1][t.selectedRightTableTab])},this.fetchFilteredPaymentsBasket=function(e){t.setAllPaymentsBasket(null),V("payment_basket",e).then((function(e){return t.setAllPaymentsBasket(e)})).catch((function(e){return console.error(e)}))},this.fetchPaymentsBasketFilters=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("finance_report/filters?payment_basket=true").then((function(e){return t.setPaymentsBasketFilters(e)})).then((function(){t.fetchGeneralLists(),t.fetchBankAccount(),t.fetchTrendCoordinator()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fetchGeneralLists=function(){H("general_lists").then((function(e){return t.setGeneralLists(e)})).catch((function(e){return console.error(e)}))},this.fetchEditExpense=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("expense/".concat(t),n).then((function(e){return e.error})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchDeleteExpense=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("expense".concat(t?"/".concat(t):""),n).then((function(e){return e.error})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchPrint=function(){var e=Object(L.a)(N.a.mark((function e(n,r){var i,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],n&&t.allPaymentsBasket[0][t.selectedLeftTableTab].map((function(e){return e.is_printable&&(i=[].concat(Object(b.a)(i),[e.expense_id]))})),console.log(r),a=r?"expense/print_payment?grouping=".concat(r):"expense/print_payment",n&&0===i.length){e.next=8;break}return e.next=7,V(a,i,!0).catch((function(e){return console.error(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchBankAccount=function(){H("bank_account?verbose=true").then((function(e){return t.setBankAccount(e)})).catch((function(e){return console.error(e)}))},this.fetchTrendCoordinator=function(){H("trend_coordinator").then((function(e){return t.setTrendCoordinator(e)})).catch((function(e){return console.error(e)}))},this.fetchMerge=function(){V("expense/merge_payment",t.mergedCheckbox).then((function(e){t.changeMergedCheckbox(null,null,!0),t.fetchFilteredPaymentsBasket(t.paymentsBasketFiltersToSend)})).catch((function(e){return console.error(e)}))},this.fetchSplit=function(e){var n=[];t.leftTablePaymentsBasket.forEach((function(t){(null===t||void 0===t?void 0:t.merged_printing_number)===e&&(n=[].concat(Object(b.a)(n),[t.expense_id]))})),V("expense/split_payment",n).then((function(e){t.fetchFilteredPaymentsBasket(t.paymentsBasketFiltersToSend)})).catch((function(e){return console.error(e)}))},Object(M.l)(this)},transactionsReportStore:new function e(){var t=this;Object(E.a)(this,e),this.allTransactionsReport=null,this.leftTableTransactionsReport=Array(10).fill(""),this.rightTableTransactionsReport=Array(10).fill(""),this.leftTableTransactionsReportDownloadCSV=[],this.rightTableTransactionsReportDownloadCSV=[],this.transactionsReportFilters=[],this.transactionsReportFiltersToSend={expense_filters:[],income_filters:[],attribution_filters:[]},this.transactionsReportFiltersDateToSend={expense_filters:[{name:"expense_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],income_filters:[{name:"income_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],attribution_filters:[]},this.transactionsReportFiltersDateSelectedOption=[],this.selectedRightTableTab="institution",this.leftTableSearch="",this.rightTableSearch="",this.dateFrom="",this.dateTo="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableCheckbox=[],this.rightTableCheckbox=[],this.rightTableSelectedItems=[],this.checkedFilters=[],this.expenseMessage="",this.checkIncome=!0,this.checkExpense=!0,this.showPopup=!1,this.setLeftTableTransactionsReportDownloadCSV=function(e){var n=JSON.stringify(e);t.leftTableTransactionsReportDownloadCSV=JSON.parse(n).map((function(e){return Object.keys(e).reduce((function(t,n){var r,i;return e[n]=(null===(r=e[n])||void 0===r?void 0:r.toString())||null,(n.includes("date")||n.includes("for_month"))&&(e[n]=(null===(i=e[n])||void 0===i?void 0:i.slice(0,10).split("-").join("/"))||null),e}),{})}))},this.setRightTableTransactionsReportDownloadCSV=function(e){var n=JSON.stringify(e);t.rightTableTransactionsReportDownloadCSV=JSON.parse(n).map((function(e){return Object.keys(e).reduce((function(t,n){var r;return e[n]=(null===(r=e[n])||void 0===r?void 0:r.toString())||null,e}),{})}))},this.setShowPopup=function(e){t.showPopup=e},this.changeCheckBox=function(e,n){"income"===e?t.checkIncome=n:"expense"===e&&(t.checkExpense=n),t.leftTableSearch="",t.setLeftTableTransactionsReport(t.allTransactionsReport[0],!0)},this.afterLeftTableUpdate=function(){var e=t.rightTableTransactionsReport.map((function(e,n){if("object"===typeof e&&null!==e){var r=t.leftTableTransactionsReport.filter((function(n){return!n.deleted&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length,i=t.leftTableCheckbox.filter((function(n){return n.item&&n.checked&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n.item["fk_".concat(t.selectedRightTableTab,"_id")]})).length;t.rightTableTransactionsReport[n].all_selected=0!==r&&r===i}return e}));t.rightTableTransactionsReport=e,t.setRightTableTransactionsReportDownloadCSV(e)},this.changeExpenseMessage=function(e){t.expenseMessage=e},this.setCheckedFilters=function(e){t.checkedFilters=e},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(t.leftTableSearch="",i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allTransactionsReport[0]:t.leftTableTransactionsReport;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["transaction_".concat(t.selectedRightTableTab,"_id")]||n["transaction_".concat(t.selectedRightTableTab,"_id")]===e.fk_id})))))})),s=s.filter((a=new Set,function(e){var t=e.identity;return!a.has(t)&&a.add(t)})),t.setLeftTableTransactionsReport(s,!0)}else t.setLeftTableTransactionsReport(c,!0)},this.setRightTableCheckbox=function(e,n,r){var i=t.rightTableCheckbox;r&&(i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableCheckbox=Object(b.a)(i),t.leftTableCheckbox=t.leftTableTransactionsReport.map((function(n,i){return r["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]?{checked:e,item:n}:t.leftTableCheckbox[i]})))},this.setLeftTableCheckbox=function(e,n,r){var i=t.leftTableCheckbox;i[n]={checked:e,item:r},t.leftTableCheckbox=Object(b.a)(i)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setDateFromTo=function(e,n){e?t.dateFrom=e.slice(0,10).split("/").reverse().join("-"):""===e&&(t.dateFrom=""),n?t.dateTo=n.slice(0,10).split("/").reverse().join("-"):""===n&&(t.dateTo="")},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allTransactionsReport[e].filter((function(e){var t,r,i,a,o,c,s,l,u,d,h,b,p,f;return(null===(t=e.identity)||void 0===t?void 0:t.includes(n))||(null===(r=e.heb_attribution)||void 0===r?void 0:r.includes(n))||(null===(i=e.full_name)||void 0===i||null===(a=i.toLowerCase())||void 0===a?void 0:a.includes(n.toLowerCase()))||(null===(o=e.payment_status)||void 0===o?void 0:o.includes(n))||(null===(c=e.amount)||void 0===c||null===(s=c.toString())||void 0===s?void 0:s.includes(n))||(null===(l=e.payment_method)||void 0===l?void 0:l.includes(n))||(null===(u=e.for_month)||void 0===u||null===(d=u.slice(0,10).split("-").reverse().join("/"))||void 0===d?void 0:d.includes(n))||(null===(h=e.printing_date)||void 0===h||null===(b=h.slice(0,10).split("-").reverse().join("/"))||void 0===b?void 0:b.includes(n))||(null===(p=e.transaction_date)||void 0===p||null===(f=p.slice(0,10).split("-").reverse().join("/"))||void 0===f?void 0:f.includes(n))}));t.setLeftTableTransactionsReport(r)}else{t.rightTableSearch=n;var i=t.allTransactionsReport[e][t.selectedRightTableTab].filter((function(e){var t,r,i,a,o,c;return(null===(t=e.name)||void 0===t||null===(r=t.toLowerCase())||void 0===r?void 0:r.includes(n.toLowerCase()))||(null===(i=e.balance)||void 0===i||null===(a=i.toString())||void 0===a?void 0:a.includes(n))||(null===(o=e.balance_total)||void 0===o||null===(c=o.toString())||void 0===c?void 0:c.includes(n))}));t.setRightTableTransactionsReport(i)}},this.setSelectedTableTab=function(e,n){1===e&&t.selectedRightTableTab!==n&&(t.rightTableSearch="",t.selectedRightTableTab=n,t.setRightTableTransactionsReport(t.allTransactionsReport[e][n]),t.setRightTableSelectedItems())},this.setTransactionsReportFiltersToSend=function(e,n,r,i,a,o,c){"checkAll"===c&&(t.transactionsReportFiltersToSend={expense_filters:[],income_filters:[],attribution_filters:[]}),"unCheckAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!1}))}))})):"checkAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!0}))}))})):i-1>-1&&(t.checkedFilters[i-1][a][o]=!t.checkedFilters[i-1][a][o]),"unCheckAll"===c?t.transactionsReportFilters.map((function(e){return"date_filters"!==e.name&&t.transactionsReportFiltersToSend[e.name].map((function(e){return e.checked=[]}))})):"checkAll"===c?t.transactionsReportFilters.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(n){return t.transactionsReportFiltersToSend[e.name]=[].concat(Object(b.a)(t.transactionsReportFiltersToSend[e.name]),[{name:n.name,checked:n.checkboxes}])}))})):t.transactionsReportFiltersToSend[e].map((function(e){return e.name===n&&(e.checked.some((function(e){return e===r}))?e.checked=e.checked.filter((function(e){return e!==r})):e.checked=[].concat(Object(b.a)(e.checked),[r]))}))},this.setTransactionsReportFiltersDateToSend=function(e,n,r){var i=t.transactionsReportFiltersDateSelectedOption,a=t.transactionsReportFiltersDateToSend[i[2]].findIndex((function(e){return e.name===i[1]}));-1===a&&(a=t.transactionsReportFiltersDateToSend[i[2]].length,t.transactionsReportFiltersDateToSend[i[2]]=[].concat(Object(b.a)(t.transactionsReportFiltersDateToSend[i[2]]),[{name:i[1],checked:["",""]}])),"clear"===r?t.transactionsReportFiltersDateToSend={expense_filters:[{name:"expense_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],income_filters:[{name:"income_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}],attribution_filters:[]}:t.transactionsReportFiltersDateToSend[i[2]][a].checked[n]="".concat(e," 00:00")},this.setTransactionsReportFiltersDateSelectedOption=function(e){t.transactionsReportFiltersDateSelectedOption=e;var n=t.transactionsReportFiltersDateToSend[e[2]].find((function(t){return t.name===e[1]}));n?t.setDateFromTo(n.checked[0],n.checked[1]):t.setDateFromTo("","")},this.setTransactionsReportFilters=function(e){t.transactionsReportFilters=e,t.checkedFilters=e.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(e){return e.checkboxes&&e.checkboxes.map((function(){return!0}))}))})).filter((function(e){return e&&e}));var n=e.filter((function(e){return"date_filters"===e.name}))[0].filters[0];t.transactionsReportFiltersDateSelectedOption=[n.display_name,n.name,n.filter_key]},this.setRightTableTransactionsReport=function(e){t.rightTableCheckbox=Array(e.length).fill({checked:!1,fk_id:-1}),t.rightTableSelectedItems=Array(e.length).fill({checked:!1,fk_id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTableTransactionsReport=e.concat(n),t.setRightTableTransactionsReportDownloadCSV(e)},this.setLeftTableTransactionsReport=function(e,n){e=e.filter((function(e){return t.checkIncome&&e.amount>=0||t.checkExpense&&e.amount<0})),t.leftTableCheckbox=Array(e.length).fill({checked:!1});var r=e.length<10?Array(10-e.length).fill(""):[];t.leftTableTransactionsReport=e.concat(r),!n&&t.setRightTableSelectedItems(),t.setLeftTableTransactionsReportDownloadCSV(e)},this.setAllTransactionsReport=function(e){e&&e.length>0&&(e[0]=Object.keys(e[0]).map((function(t){return e[0][t]})).flat()),t.allTransactionsReport=e,e&&e.length>0&&t.setLeftTableTransactionsReport(e[0]),e&&e.length>1&&e[1][t.selectedRightTableTab]&&t.setRightTableTransactionsReport(e[1][t.selectedRightTableTab])},this.fetchFilteredTransactionsReport=function(e){t.setAllTransactionsReport(null),V("transactions_report",e).then((function(e){return t.setAllTransactionsReport(e)})).catch((function(e){return console.error(e)}))},this.fetchTransactionsReportFilters=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!sessionStorage.getItem("reload");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=H("transactions_report/filters").then((function(e){return t.setTransactionsReportFilters(e)})).catch((function(e){return console.error(e)}));case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),this.resetCheckbox=function(){t.leftTableCheckbox=Array(t.leftTableTransactionsReport.length).fill({checked:!1})},this.fetchRestoreExpense=function(){var e={expense_ids:t.leftTableCheckbox.filter((function(e){return e.checked})).map((function(e){return e.item.id}))};return e.expense_ids.length>0?q("transactions_report",e).then((function(e){var n=e.filter((function(e){return e.error})),r=e.filter((function(e){return!e.error})),i=n.length>0?"(".concat(n.length,") ").concat(n[0].message):"",a=r.length>0?"(".concat(r.length,") ").concat(r[0].message):"";t.changeExpenseMessage("".concat(i," ").concat(a)),t.resetCheckbox()})).catch((function(e){return console.error(e)})):t.changeExpenseMessage("No data")},this.fetchRawTable=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tables:["expense","income"],start_date:t.dateFrom.split("-").reverse().join("/"),end_date:t.dateTo.split("-").reverse().join("/"),dates_attributes:["created_date","created_date"]},e.next=3,V("raw_table",n,!0).catch((function(e){return console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.fetchGoogleSheets=function(){var e=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("transactions_report/export",t,!0).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(M.l)(this)},studentStore:new function e(){var t=this;Object(E.a)(this,e),this.newStudentDetails={},this.studentDetails=null,this.studentBalanceDetails=null,this.branchDetails=null,this.coordinatorDetails=null,this.tableData=null,this.editStudent=!1,this.institutionBranchCoordinator=null,this.trendCoordinator=null,this.generalLists=null,this.allInstitution=null,this.postBank=!1,this.selectedTableTab="payments",this.setAllInstitution=function(e){t.allInstitution=e},this.setGeneralLists=function(e){t.generalLists=e},this.setTrendCoordinator=function(e){t.trendCoordinator=e},this.setInstitutionBranchCoordinator=function(e){t.institutionBranchCoordinator=e},this.changeSelectedData=function(e,n,r,i,a){var o="student"===e?t.studentDetails:"branch"===e?t.branchDetails:"coordinator"===e?t.coordinatorDetails:null;if(o&&(t.setEditStudent(!0),i?("student"===e&&(t.studentDetails=i,t.newStudentDetails=i),"branch"===e&&(t.branchDetails=i),"coordinator"===e&&(t.coordinatorDetails=i)):("bank"!==n[0]||t.newStudentDetails.bank||(t.newStudentDetails.bank=new Array(2).fill({bank_number:"",branch_number:"",account_number:""}),t.postBank=!0),n.length>1?a?o[n[0]][a-1][n[1]]=r:o[n[0]][n[1]]=r:a?o[n[0]][a-1]=r:o[n[0]]=r,"student"===e&&(n.length>1?a?t.newStudentDetails[n[0]][a-1][n[1]]=r:t.newStudentDetails[n[0]][n[1]]=r:a?t.newStudentDetails[n[0]][a-1]=r:t.newStudentDetails[n[0]]=r))),t.allInstitution&&"branch"===e){var c=t.allInstitution.find((function(e){return e.identity===t.branchDetails.institution.identity&&e.name===t.branchDetails.institution.name})),s=c&&c.branches.find((function(e){return e.symbol===parseInt(t.branchDetails.symbol)}));s&&(t.studentDetails.fk_branch_id=s.id,t.newStudentDetails.fk_branch_id=s.id)}},this.setEditStudent=function(e){t.editStudent=e},this.resetDetails=function(){t.studentDetails=null,t.studentBalanceDetails=null,t.branchDetails=null,t.coordinatorDetails=null,t.tableData=null,t.editStudent=!1},this.setSelectedTableTab=function(e){var n,r;t.selectedTableTab=e;var i=[];switch(e){case"payments":i=(null===(n=t.studentBalanceDetails)||void 0===n?void 0:n.payments)||[];break;case"course_enrollments":i=(null===(r=t.studentBalanceDetails)||void 0===r?void 0:r.course_enrollments)||[]}t.setTableData(i)},this.setTableData=function(e){t.tableData=e},this.setCoordinatorDetails=function(e){t.coordinatorDetails=e},this.setBranchDetailsDetails=function(e){t.branchDetails=e},this.setStudentBalanceDetails=function(e){var n=(null===e||void 0===e?void 0:e.payments)||[],r=Object.keys(n).map((function(e){return Object(T.a)({date:e},n[e])})).map((function(e){var n,r,i,a;return e.course_type=null===(n=t.studentDetails)||void 0===n?void 0:n.course_type,e.coordinator_name=null===(r=t.coordinatorDetails)||void 0===r?void 0:r.name,e.institution_name=null===(i=t.branchDetails)||void 0===i||null===(a=i.institution)||void 0===a?void 0:a.name,e}));e.payments=r,t.studentBalanceDetails=e,t.setTableData(e.payments)},this.setStudentDetails=function(e){t.studentDetails=e},this.fetchStudentById=function(e){t.editStudent=!1,t.tableData=null,H("student/".concat(e)).then((function(n){t.setStudentDetails(n),t.fetchStudentBalanceById(e),n.fk_branch_id&&t.fetchBranchById(n.fk_branch_id),n.fk_trend_coordinator_id&&t.fetchCoordinatorById(n.fk_trend_coordinator_id),t.fetchInstitutionBranchCoordinator(),t.fetchTrendCoordinator(),t.fetchGeneralLists(),t.fetchInstitution()})).catch((function(e){return console.error(e)}))},this.fetchDeleteStudent=function(){t.studentDetails&&W("student/".concat(t.studentDetails.id)).then((function(e){e.error||(sessionStorage.setItem("route","/finance-report"),window.history.replaceState(null,"","/finance-report"))})).catch((function(e){return console.error(e)}))},this.fetchStudentBalanceById=function(e){H("finance_card/student/".concat(e)).then((function(e){return t.setStudentBalanceDetails(e)})).catch((function(e){return console.error(e)}))},this.fetchBranchById=function(e){H("branch/".concat(e)).then((function(e){return t.setBranchDetailsDetails(e)})).catch((function(e){return console.error(e)}))},this.fetchCoordinatorById=function(e){H("trend_coordinator/".concat(e)).then((function(e){return t.setCoordinatorDetails(e)})).catch((function(e){return console.error(e)}))},this.fetchInstitution=function(){H("institution").then((function(e){return t.setAllInstitution(e)})).catch((function(e){return console.error(e)}))},this.fetchInstitutionBranchCoordinator=function(){H("institution_branch_coordinator").then((function(e){return t.setInstitutionBranchCoordinator(e)})).catch((function(e){return console.error(e)}))},this.fetchTrendCoordinator=function(){H("trend_coordinator").then((function(e){return t.setTrendCoordinator(e)})).catch((function(e){return console.error(e)}))},this.fetchGeneralLists=function(){H("general_lists").then((function(e){return t.setGeneralLists(e)})).catch((function(e){return console.error(e)}))},this.fetchSaveStudentDetails=function(){t.studentDetails.bank&&(t.studentDetails.bank[0]&&t.fetchSaveBankAccount(t.studentDetails.bank[0]),t.studentDetails.bank[1]&&t.fetchSaveBankAccount(t.studentDetails.bank[1]));var e=Object(T.a)({},t.studentDetails);delete e.id,delete e.bank,q("student/".concat(t.studentDetails.id),e).then((function(){return t.fetchStudentById(t.studentDetails.id)})).catch((function(e){return console.error(e)}))},this.fetchSaveBankAccount=function(){var e=Object(L.a)(N.a.mark((function e(n){var r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,delete(i=Object(T.a)(Object(T.a)({},n),{},{attribution_id:t.studentDetails.id,attribution_type:"student"})).id,!t.postBank){e.next=8;break}return e.next=6,V("general_bank_account",i).catch((function(e){return console.error(e)}));case 6:e.next=10;break;case 8:return e.next=10,q("general_bank_account/".concat(r),i).catch((function(e){return console.error(e)}));case 10:t.postBank=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(M.l)(this)},uploadCSVFile:new function e(){var t=this;Object(E.a)(this,e),this.loader=!1,this.institutionBankAccount=null,this.branch=null,this.trendCoordinator=null,this.courseEnrollmentTrendCoordinatorAttribution=null,this.students=null,this.courseEnrollment=null,this.studentsIncomes=null,this.studentsIncomesSourceID="",this.studentsIncomesMethod="",this.studentsIncomesBankAccountNumber="",this.studentsIncomesUpdate=!1,this.institutionBankAccountUpdate=!1,this.branchUpdate=!1,this.trendCoordinatorUpdate=!1,this.courseEnrollmentTrendCoordinatorAttributionUpdate=!1,this.studentsUpdate=!1,this.courseEnrollmentUpdate=!1,this.supplierUpdate=!1,this.donatorUpdate=!1,this.generalBanksUpdate=!1,this.periodicReceptionUpdate=!1,this.clearingPlatformUpdate=!1,this.msvScrapingPlatformUpdate=!1,this.currentAccountUpdate=!1,this.studentsPaymentFailureUpdate=!1,this.clearingUpdate=!1,this.clearingValidationUpdate=!1,this.msvUpdate=!1,this.checksUpdate=!1,this.invoiceUpdate=!1,this.studentInsuranceUpdate=!1,this.expenseDraftFixedUpdate=!1,this.studentsPaymentStatus="",this.studentsPaymentFailure=null,this.currentAccount=null,this.currentAccountBankAccountNumber=null,this.clearingPlatform=null,this.msvScrapingPlatform=null,this.clearingPlatformTrendCoordinatorID="",this.msvScraping="",this.clearing=null,this.clearingPlatformID="",this.clearingValidation=null,this.msv=null,this.msvAttribution="",this.msvBankAccountNumber="",this.msvForDate=(new Date).toISOString().slice(0,10),this.msvTrendCoordinator="",this.msvScrapingTrendCoordinator="",this.msvSendingDate=(new Date).toISOString().slice(0,10),this.checks=null,this.checksAttribution="",this.checksBankAccountNumber="",this.generalBanks=null,this.generalBanksAttribution="",this.supplier=null,this.invoice=null,this.invoiceInstitutionBranchCoordinator="",this.invoiceTrendCoordinator="",this.invoiceMsvScraping="",this.invoiceSupplier="",this.invoiceDate=(new Date).toISOString().slice(0,10),this.invoiceSum="0",this.invoiceNumber="",this.invoiceLastDate="",this.studentInsurance=null,this.studentInsuranceBankAccountNumber="",this.expenseDraft=null,this.expenseDraftAttribution="",this.expenseDraftForMonth=(new Date).toISOString().slice(0,10),this.expenseDraftTrendCoordinator="",this.expenseDraftBankAccountNumber="",this.expenseDraftPaymentMethod="",this.expenseDraftScholarshipType="",this.expenseDraftFixed=!1,this.donator=null,this.periodicReception=null,this.periodicReceptionBankAccountNumber="",this.incomeSource=[],this.paymentMethods=[],this.attributions=[],this.paymentStatus=[],this.scholarshipTypes=[],this.bankAccounts=[],this.institutionBranchCoordinators=[],this.trendCoordinators=[],this.msvScrapingOptions=[],this.suppliers=[],this.platforms=[],this.errorInstitutionBankAccount="",this.errorBranch="",this.errorTrendCoordinator="",this.errorCourseEnrollmentTrendCoordinatorAttribution="",this.errorStudents="",this.errorCourseEnrollment="",this.errorStudentsIncomes="",this.errorStudentsPaymentFailure="",this.errorCurrentAccount="",this.errorClearingPlatform="",this.errorMsvScraping="",this.errorClearing="",this.errorMsvScrapingPlatform="",this.errorClearingValidation="",this.errorMSV="",this.errorChecks="",this.errorGeneralBanks="",this.errorSupplier="",this.errorInvoice="",this.errorStudentInsurance="",this.errorExpenseDraft="",this.errorDonator="",this.errorPeriodicReception="",this.googleSheetsInstitutionBankAccount=!1,this.googleSheetsBranch=!1,this.googleSheetsTrendCoordinator=!1,this.googleSheetsCourseEnrollmentTrendCoordinatorAttribution=!1,this.googleSheetsStudents=!1,this.googleSheetsCourseEnrollment=!1,this.googleSheetsSupplier=!1,this.googleSheetsDonator=!1,this.googleSheetsGeneralBanks=!1,this.googleSheetsPeriodicReception=!1,this.googleSheetsClearingPlatform=!1,this.googleSheetsMsvScrapingPlatform=!1,this.googleSheetsCurrentAccount=!1,this.googleSheetsStudentsIncomes=!1,this.googleSheetsStudentsPaymentFailure=!1,this.googleSheetsClearing=!1,this.googleSheetsClearingValidation=!1,this.googleSheetsMSV=!1,this.googleSheetsChecks=!1,this.googleSheetsInvoice=!1,this.googleSheetsStudentInsurance=!1,this.googleSheetsExpenseDraft=!1,this.setErrorInstitutionBankAccount=function(e){t.errorInstitutionBankAccount=e},this.setErrorBranch=function(e){t.errorBranch=e},this.setErrorTrendCoordinator=function(e){t.errorTrendCoordinator=e},this.setErrorCourseEnrollmentTrendCoordinatorAttribution=function(e){t.errorCourseEnrollmentTrendCoordinatorAttribution=e},this.setErrorStudents=function(e){t.errorStudents=e},this.setErrorCourseEnrollment=function(e){t.errorCourseEnrollment=e},this.setErrorStudentsIncomes=function(e){t.errorStudentsIncomes=e},this.setErrorStudentsPaymentFailure=function(e){t.errorStudentsPaymentFailure=e},this.setErrorCurrentAccount=function(e){t.errorCurrentAccount=e},this.setErrorClearingPlatform=function(e){t.errorclearingPlatform=e},this.setErrorMsvScrapingPlatform=function(e){t.errorMsvScrapingPlatform=e},this.setErrorClearing=function(e){t.errorClearing=e},this.setErrorClearingValidation=function(e){t.errorClearingValidation=e},this.setErrorMSV=function(e){t.errorMSV=e},this.setErrorChecks=function(e){t.errorChecks=e},this.setErrorGeneralBanks=function(e){t.errorGeneralBanks=e},this.setErrorSupplier=function(e){t.errorSupplier=e},this.setErrorInvoice=function(e){t.errorInvoice=e},this.setErrorStudentInsurance=function(e){t.errorStudentInsurance=e},this.setErrorExpenseDraft=function(e){t.errorExpenseDraft=e},this.setErrorDonator=function(e){t.errorDonator=e},this.setErrorPeriodicReception=function(e){t.errorPeriodicReception=e},this.setPeriodicReception=function(e){t.periodicReception=e,t.setErrorPeriodicReception("")},this.setGoogleSheetsPeriodicReception=function(e){t.googleSheetsDonator=e},this.setPeriodicReceptionBankAccountNumber=function(e){t.periodicReceptionBankAccountNumber=e},this.setDonator=function(e){t.donator=e,t.setErrorDonator("")},this.setGoogleSheetsDonator=function(e){t.googleSheetsDonator=e},this.setExpenseDraft=function(e){t.expenseDraft=e,t.setErrorExpenseDraft("")},this.setGoogleSheetsExpenseDraft=function(e){t.googleSheetsExpenseDraft=e},this.setExpenseDraftAttribution=function(e){t.expenseDraftAttribution=e},this.setExpenseDraftForMonth=function(e){t.expenseDraftForMonth=e},this.setExpenseDraftTrendCoordinator=function(e){t.expenseDraftTrendCoordinator=e},this.setExpenseDraftBankAccountNumber=function(e){t.expenseDraftBankAccountNumber=e},this.setExpenseDraftPaymentMethod=function(e){t.expenseDraftPaymentMethod=e},this.setExpenseDraftScholarshipType=function(e){t.expenseDraftScholarshipType=e},this.setExpenseDraftFixed=function(e){t.expenseDraftFixed=e},this.setStudentInsurance=function(e){t.studentInsurance=e,t.setErrorStudentInsurance("")},this.setGoogleSheetsStudentInsurance=function(e){t.googleSheetsStudentInsurance=e},this.setStudentInsuranceBankAccountNumber=function(e){t.studentInsuranceBankAccountNumber=e},this.setInvoice=function(e){t.invoice=e,t.setErrorSupplier("")},this.setGoogleSheetsInvoice=function(e){t.googleSheetsInvoice=e},this.setInvoiceInstitutionBranchCoordinator=function(e){t.invoiceInstitutionBranchCoordinator=e},this.setInvoiceTrendCoordinator=function(e){t.invoiceTrendCoordinator=e},this.setInvoiceMsvScraping=function(e){t.invoiceMsvScraping=e},this.setInvoiceSupplier=function(e){t.invoiceSupplier=e},this.setInvoiceDate=function(e){t.invoiceDate=e},this.setInvoiceSum=function(e){t.invoiceSum=e||"0"},this.setInvoiceNumber=function(e){t.invoiceNumber=e},this.setInvoiceLastDate=function(e){t.invoiceLastDate=e},this.setSupplier=function(e){t.supplier=e,t.setErrorSupplier("")},this.setGeneralBanks=function(e){t.generalBanks=e,t.setErrorGeneralBanks("")},this.setGoogleSheetsGeneralBanks=function(e){t.googleSheetsGeneralBanks=e},this.setGeneralBanksAttribution=function(e){t.generalBanksAttribution=e},this.setChecks=function(e){t.checks=e,t.setErrorChecks("")},this.setGoogleSheetsChecks=function(e){t.googleSheetsChecks=e},this.setChecksAttribution=function(e){t.checksAttribution=e},this.setChecksBankAccountNumber=function(e){t.checksBankAccountNumber=e},this.setMSV=function(e){t.msv=e,t.setErrorMSV("")},this.setGoogleSheetsMSV=function(e){t.googleSheetsMSV=e},this.setMsvAttribution=function(e){t.msvAttribution=e},this.setMsvBankAccountNumber=function(e){t.msvBankAccountNumber=e},this.setMsvForDate=function(e){t.msvForDate=e},this.setMsvTrendCoordinator=function(e){t.msvTrendCoordinator=e},this.setMsvScrapingTrendCoordinator=function(e){t.msvScrapingTrendCoordinator=e},this.setMsvSendingDate=function(e){t.msvSendingDate=e},this.setClearingPlatform=function(e){t.clearingPlatform=e,t.setErrorClearingPlatform("")},this.setMsvScrapingPlatform=function(e){t.msvScrapingPlatform=e,t.setErrorMsvScrapingPlatform("")},this.setGoogleSheetsClearingPlatform=function(e){t.googleSheetsClearingPlatform=e},this.setGoogleSheetsMsvScrapingPlatform=function(e){t.googleSheetsMsvScrapingPlatform=e},this.setClearingValidation=function(e){t.clearingValidation=e,t.setErrorClearingValidation("")},this.setGoogleSheetsClearingValidation=function(e){t.googleSheetsClearingValidation=e},this.setClearingPlatformTrendCoordinatorID=function(e){t.clearingPlatformTrendCoordinatorID=e},this.setMsvScraping=function(e){t.msvScraping=e},this.setClearing=function(e){t.clearing=e,t.setErrorClearing("")},this.setGoogleSheetsClearing=function(e){t.googleSheetsClearing=e},this.setClearingPlatformID=function(e){t.clearingPlatformID=e},this.setAttributions=function(e){if(t.attributions=e,e){var n=e[0];t.setMsvAttribution(n),t.setChecksAttribution(n),t.setGeneralBanksAttribution(n),t.setExpenseDraftAttribution(n)}},this.setBankAccounts=function(e){if(t.bankAccounts=e,e.length>0){var n=e[0].account_number;t.setMsvBankAccountNumber(n),t.setChecksBankAccountNumber(n),t.setStudentsIncomesBankAccountNumber(n),t.setStudentInsuranceBankAccountNumber(n),t.setExpenseDraftBankAccountNumber(n),t.setPeriodicReceptionBankAccountNumber(n),t.setCurrentAccountBankAccountNumber(n)}},this.setIncomeSource=function(e){t.incomeSource=e,e.length>0&&t.setStudentsIncomesSourceID(e[0].id)},this.setPaymentMethods=function(e){t.paymentMethods=e,e.length>0&&t.setStudentsIncomesMethod(e[0])},this.setPaymentStatus=function(e){t.paymentStatus=e,e.length>0&&t.setStudentsPaymentStatus(e[0])},this.setScholarshipTypes=function(e){t.scholarshipTypes=e,e.length>0&&t.setExpenseDraftScholarshipType(e[0])},this.setInstitutionBranchCoordinators=function(e){var n=Object.values(e);t.institutionBranchCoordinators=n,n.length>0&&t.setInvoiceInstitutionBranchCoordinator(n[0].identity)},this.setTrendCoordinators=function(e){t.trendCoordinators=e,e.length>0&&t.setInvoiceTrendCoordinator(e[0].name),e.length>0&&t.setMsvTrendCoordinator(e[0].id)},this.setMsvScrapingOptions=function(e){t.msvScrapingOptions=e,e.length>0&&t.setInvoiceMsvScraping(e[0].name),e.length>0&&t.setMsvScrapingTrendCoordinator(e[0].id)},this.setSuppliers=function(e){t.suppliers=e,e.length>0&&t.setInvoiceSupplier(e[0].identity)},this.setGoogleSheetsSupplier=function(e){t.googleSheetsSupplier=e},this.setPlatforms=function(e){t.platforms=e,e.length>0&&t.setClearingPlatformID(e[0].id)},this.setLoader=function(e){t.loader=e},this.setInstitutionBankAccount=function(e){t.institutionBankAccount=e,t.setErrorInstitutionBankAccount("")},this.setGoogleSheetsInstitutionBankAccount=function(e){console.log(e),t.googleSheetsInstitutionBankAccount=e},this.setBranch=function(e){t.branch=e,t.setErrorBranch("")},this.setGoogleSheetsBranch=function(e){t.googleSheetsBranch=e},this.setTrendCoordinator=function(e){t.trendCoordinator=e,t.setErrorTrendCoordinator("")},this.setGoogleSheetsTrendCoordinator=function(e){t.googleSheetsTrendCoordinator=e},this.setCourseEnrollmentTrendCoordinatorAttribution=function(e){t.courseEnrollmentTrendCoordinatorAttribution=e,t.setErrorCourseEnrollmentTrendCoordinatorAttribution("")},this.setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution=function(e){t.googleSheetsCourseEnrollmentTrendCoordinatorAttribution=e},this.setStudents=function(e){t.students=e,t.setErrorStudents("")},this.setGoogleSheetsStudents=function(e){t.googleSheetsStudents=e},this.setCourseEnrollment=function(e){t.courseEnrollment=e,t.setErrorCourseEnrollment("")},this.setGoogleSheetsCourseEnrollment=function(e){t.googleSheetsCourseEnrollment=e},this.setStudentsIncomes=function(e){t.studentsIncomes=e,t.setErrorStudentsIncomes("")},this.setGoogleSheetsStudentsIncomes=function(e){t.googleSheetsStudentsIncomes=e},this.setStudentsPaymentFailure=function(e){t.studentsPaymentFailure=e,t.setErrorStudentsPaymentFailure("")},this.setGoogleSheetsStudentsPaymentFailure=function(e){t.googleSheetsStudentsPaymentFailure=e},this.setStudentsIncomesSourceID=function(e){t.studentsIncomesSourceID=e},this.setStudentsIncomesMethod=function(e){t.studentsIncomesMethod=e},this.setStudentsIncomesBankAccountNumber=function(e){t.studentsIncomesBankAccountNumber=e},this.setStudentsIncomesUpdate=function(e){t.studentsIncomesUpdate=e},this.setInstitutionBankAccountUpdate=function(e){t.institutionBankAccountUpdate=e},this.setBranchUpdate=function(e){t.branchUpdate=e},this.setTrendCoordinatorUpdate=function(e){t.trendCoordinatorUpdate=e},this.setCourseEnrollmentTrendCoordinatorAttributionUpdate=function(e){t.courseEnrollmentTrendCoordinatorAttributionUpdate=e},this.setStudentsUpdate=function(e){t.studentsUpdate=e},this.setCourseEnrollmentUpdate=function(e){t.courseEnrollmentUpdate=e},this.setSupplierUpdate=function(e){t.supplierUpdate=e},this.setDonatorUpdate=function(e){t.donatorUpdate=e},this.setGeneralBanksUpdate=function(e){t.generalBanksUpdate=e},this.setPeriodicReceptionUpdate=function(e){t.periodicReceptionUpdate=e},this.setMsvScrapingPlatformUpdate=function(e){t.msvScrapingPlatformUpdate=e},this.setClearingPlatformUpdate=function(e){t.clearingPlatformUpdate=e},this.setCurrentAccountUpdate=function(e){t.currentAccountUpdate=e},this.setStudentsPaymentFailureUpdate=function(e){t.studentsPaymentFailureUpdate=e},this.setClearingUpdate=function(e){t.clearingUpdate=e},this.setClearingValidationUpdate=function(e){t.clearingValidationUpdate=e},this.setMsvUpdate=function(e){t.msvUpdate=e},this.setChecksUpdate=function(e){t.checksUpdate=e},this.setInvoiceUpdate=function(e){t.invoiceUpdate=e},this.setStudentsInsuranceUpdate=function(e){t.studentInsuranceUpdate=e},this.setExpenseDraftFixedUpdate=function(e){t.expenseDraftFixedUpdate=e},this.setStudentsPaymentStatus=function(e){t.studentsPaymentStatus=e},this.setCurrentAccount=function(e){t.currentAccount=e,t.setErrorCurrentAccount("")},this.setGoogleSheetsCurrentAccount=function(e){t.googleSheetsCurrentAccount=e},this.setCurrentAccountBankAccountNumber=function(e){t.currentAccountBankAccountNumber=e},this.sendData=Object(L.a)(N.a.mark((function e(){var n,r,i,a,o,c,s,l,u,d,h,b,p,f,m,g,j,x,k,v,T,y;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fetchInstitutionBankAccount(),r=t.fetchBranch(),i=t.fetchTrendCoordinator(),a=t.fetchCourseEnrollmentTrendCoordinatorAttribution(),o=t.fetchStudents(),c=t.fetchCourseEnrollment(),s=t.fetchStudentsIncomes(),l=t.fetchStudentsPaymentFailure(),u=t.fetchCurrentAccount(),d=t.fetchClearingPlatform(),h=t.fetchClearing(),b=t.fetchClearingValidation(),p=t.fetchMSV(),f=t.fetchChecks(),m=t.fetchGeneralBanks(),g=t.fetchSupplier(),j=t.fetchInvoice(),x=t.fetchStudentInsurance(),k=t.fetchExpenseDraft(),v=t.fetchDonator(),T=t.fetchPeriodicReception(),y=t.fetchMsvScraping(),e.next=24,Promise.all([n,r,i,a,o,c,s,l,u,d,h,b,p,f,m,g,j,x,k,v,T,y]).then((function(e){return t.setLoader(!1),e})).catch((function(e){return console.error(e)}));case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)}))),this.fetchInstitutionBankAccount=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorInstitutionBankAccount(""),!t.institutionBankAccount&&!t.googleSheetsInstitutionBankAccount){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("institution_bank_account_csv",t.institutionBankAccount),n.append("google_sheets",t.googleSheetsInstitutionBankAccount),e.next=8,(t.institutionBankAccountUpdate?J:G)("institution_bank_account",n).then((function(e){return e.error?t.setErrorInstitutionBankAccount(e.message.value||e.message):t.setInstitutionBankAccount(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchBranch=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorBranch(""),!t.branch&&!t.googleSheetsBranch){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("branch_csv",t.branch),n.append("google_sheets",t.googleSheetsBranch),e.next=8,(t.branchUpdate?J:G)("branch",n).then((function(e){return console.log(e),e.error?t.setErrorBranch(e.message.value||e.message):t.setBranch(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchTrendCoordinator=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorTrendCoordinator(""),!t.trendCoordinator&&!t.googleSheetsTrendCoordinator){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("trend_coordinator_csv",t.trendCoordinator),n.append("google_sheets",t.googleSheetsTrendCoordinator),e.next=8,(t.trendCoordinatorUpdate?J:G)("trend_coordinator",n).then((function(e){return console.log(e),e.error?t.setErrorTrendCoordinator(e.message.value||e.message):t.setTrendCoordinator(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchCourseEnrollmentTrendCoordinatorAttribution=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorCourseEnrollmentTrendCoordinatorAttribution(""),!t.courseEnrollmentTrendCoordinatorAttribution&&!t.googleSheetsCourseEnrollmentTrendCoordinatorAttribution){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("course_enrollment_trend_coordinator_attribution_csv",t.courseEnrollmentTrendCoordinatorAttribution),n.append("google_sheets",t.googleSheetsCourseEnrollmentTrendCoordinatorAttribution),e.next=8,(t.courseEnrollmentTrendCoordinatorAttributionUpdate?J:G)("course_enrollment_trend_coordinator_attribution",n).then((function(e){return console.log(e),e.error?t.setErrorCourseEnrollmentTrendCoordinatorAttribution(e.message.value||e.message):t.setCourseEnrollmentTrendCoordinatorAttribution(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchStudents=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorStudents(""),!t.students&&!t.googleSheetsStudents){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("students_csv",t.students),n.append("google_sheets",t.googleSheetsStudents),e.next=8,(t.studentsUpdate?J:G)("student",n).then((function(e){return console.log(e),e.error?t.setErrorStudents(e.message.value||e.message):t.setStudents(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchCourseEnrollment=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorCourseEnrollment(""),!t.courseEnrollment&&!t.googleSheetsCourseEnrollment){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("course_enrollment_csv",t.courseEnrollment),n.append("google_sheets",t.courseEnrollment),e.next=8,(t.courseEnrollmentUpdate?J:G)("course_enrollment",n).then((function(e){return console.log(e),e.error?t.setErrorCourseEnrollment(e.message.value||e.message):t.setCourseEnrollment(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchStudentsIncomes=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorStudentsIncomes(""),!t.studentsIncomes&&!t.googleSheetsStudentsIncomes){e.next=13;break}return t.setLoader(!0),(n=new FormData).append("students_incomes_csv",t.studentsIncomes),n.append("fk_income_source_id",t.studentsIncomesSourceID),n.append("method",t.studentsIncomesMethod),n.append("account_number",t.studentsIncomesBankAccountNumber),n.append("payment_status",t.studentsPaymentStatus),n.append("google_sheets",t.googleSheetsStudentsIncomes),e.next=12,(t.studentsIncomesUpdate?J:G)("income",n).then((function(e){return console.log(e),e.error?t.setErrorStudentsIncomes(e.message.value||e.message):t.setStudentsIncomes(null),e})).catch((function(e){return console.error(e)}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),this.fetchStudentsPaymentFailure=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorStudentsPaymentFailure(""),!t.studentsPaymentFailure&&!t.googleSheetsStudentsPaymentFailure){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("payment_failure_csv",t.studentsPaymentFailure),n.append("google_sheets",t.googleSheetsStudentsPaymentFailure),e.next=8,(t.studentsPaymentFailureUpdate?J:G)("payment_failure",n).then((function(e){return console.log(e),e.error?t.setErrorStudentsPaymentFailure(e.message.value||e.message):t.setStudentsPaymentFailure(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchCurrentAccount=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorCurrentAccount(""),!t.currentAccount&&!t.googleSheetsCurrentAccount){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("current_account_csv",t.currentAccount),t.currentAccountBankAccountNumber&&n.append("account_number ",t.currentAccountBankAccountNumber),n.append("google_sheets",t.googleSheetsCurrentAccount),e.next=9,(t.currentAccountUpdate?J:G)("current_account",n).then((function(e){return console.log(e),e.error?t.setErrorCurrentAccount(e.message.value||e.message):t.setCurrentAccount(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchClearingPlatform=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorClearingPlatform(""),!t.clearingPlatform&&!t.googleSheetsClearingPlatform){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("clearing_platform_csv",t.clearingPlatform),n.append("google_sheets",t.googleSheetsClearingPlatform),""!==t.clearingPlatformTrendCoordinatorID&&n.append("trend_coordinator_id",t.clearingPlatformTrendCoordinatorID),e.next=9,(t.clearingPlatformUpdate?J:G)("clearing_platform",n).then((function(e){return console.log(e),e.error?t.setErrorClearingPlatform(e.message.value||e.message):t.setClearingPlatform(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchClearing=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorClearing(""),!t.clearing&&!t.googleSheetsClearing){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("clearing_payments_csv",t.clearing),n.append("fk_platform_id",t.clearingPlatformID),n.append("google_sheets",t.googleSheetsClearing),e.next=9,(t.clearingUpdate?J:G)("clearing",n).then((function(e){return console.log(e),e.error?t.setErrorClearing(e.message.value||e.message):t.setClearing(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchMsvScraping=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.msvScrapingPlatform),console.log(t.googleSheetsMsvScrapingPlatform),console.log(t.msvScrapingPlatformUpdate),t.setErrorMsvScrapingPlatform(""),!t.msvScrapingPlatform&&!t.googleSheetsMsvScrapingPlatform){e.next=13;break}return t.setLoader(!0),(n=new FormData).append("msv_scraping_csv",t.msvScrapingPlatform),n.append("google_sheets",t.googleSheetsMsvScrapingPlatform),""!==t.msvScraping&&n.append("msv_scraping_csv",t.msvScraping),e.next=12,(t.msvScrapingPlatformUpdate?J:G)("msv_scraping_csv",n).then((function(e){return console.log(e),e.error?t.setErrorMsvScrapingPlatform(e.message.value||e.message):t.setMsvScrapingPlatform(null),e})).catch((function(e){return console.error(e)}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),this.fetchClearingValidation=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorClearingValidation(""),!t.clearingValidation&&!t.googleSheetsClearingValidation){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("clearing_validation_csv",t.clearingValidation),n.append("google_sheets",t.googleSheetsClearingValidation),e.next=8,(t.clearingValidationUpdate?J:G)("clearing_validation",n).then((function(e){return console.log(e),e.error?t.setErrorClearingValidation(e.message.value||e.message):t.setClearingValidation(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchMSV=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorMSV(""),!t.msv&&!t.googleSheetsMSV){e.next=14;break}return t.setLoader(!0),(n=new FormData).append("msv_expense_csv",t.msv),n.append("attribution",t.msvAttribution),n.append("account_number",t.msvBankAccountNumber),n.append("for_month",t.msvForDate.split("-").reverse().join("/")),n.append("fk_trend_coordinator_id",t.msvTrendCoordinator),n.append("msv_sending_date",t.msvSendingDate.split("-").reverse().join("/")),n.append("google_sheets",t.googleSheetsMSV),e.next=13,(t.msvUpdate?J:G)("msv",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorMSV(e.inserted_records.message.value||e.message):t.setMSV(null),e})).catch((function(e){return console.error(e)}));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)}))),this.fetchChecks=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorChecks(""),!t.checks&&!t.googleSheetsChecks){e.next=11;break}return t.setLoader(!0),(n=new FormData).append("check_expense_csv",t.checks),n.append("attribution",t.checksAttribution),n.append("account_number",t.checksBankAccountNumber),n.append("google_sheets",t.googleSheetsChecks),e.next=10,(t.checksUpdate?J:G)("check",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorChecks(e.inserted_records.message.value||e.message):t.setChecks(null),e})).catch((function(e){return console.error(e)}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))),this.fetchGeneralBanks=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorGeneralBanks(""),!t.generalBanks&&!t.googleSheetsGeneralBanks){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("general_bank_account_csv",t.generalBanks),n.append("attribution",t.generalBanksAttribution),n.append("google_sheets",t.googleSheetsGeneralBanks),e.next=9,(t.generalBanksUpdate?J:G)("general_bank_account",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorGeneralBanks(e.inserted_records.message.value||e.message):t.setGeneralBanks(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchSupplier=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorSupplier(""),!t.supplier&&!t.googleSheetsSupplier){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("supplier_csv",t.supplier),n.append("google_sheets",t.googleSheetsSupplier),e.next=8,(t.supplierUpdate?J:G)("supplier",n).then((function(e){return console.log(e),(null===e||void 0===e?void 0:e.error)?t.setErrorSupplier(e.message.value||e.message):t.setSupplier(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchInvoice=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorInvoice(""),!t.invoice){e.next=20;break}if(!t.invoiceNumber&&!t.googleSheetsInvoice){e.next=19;break}return t.setLoader(!0),(n=new FormData).append("invoice_file",t.invoice),n.append("institution_identity",t.invoiceInstitutionBranchCoordinator.identity),n.append("trend_coordinator_name",t.invoiceTrendCoordinator.name),n.append("supplier_identity",t.invoiceSupplier.identity),n.append("invoice_date","".concat(t.invoiceDate,"T00:00:00")),n.append("invoice_number",t.invoiceNumber),n.append("amount",t.invoiceSum),n.append("google_sheets",t.googleSheetsInvoice),""!==t.invoiceLastDate.trim()&&n.append("payment_due_date","".concat(t.invoiceLastDate,"T00:00:00")),e.next=16,(t.invoiceUpdate?J:G)("invoice",n).then((function(e){return console.log(e),(null===e||void 0===e?void 0:e.error)?t.setErrorInvoice(e.message.payment_due_date[0]||e.message):t.setInvoice(null),e})).catch((function(e){return console.error(e)}));case 16:return e.abrupt("return",e.sent);case 19:t.setErrorInvoice("\u05d7\u05e1\u05e8 \u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea");case 20:case"end":return e.stop()}}),e)}))),this.fetchStudentInsurance=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorStudentInsurance(""),!t.studentInsurance&&!t.googleSheetsStudentInsurance){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("student_insurance_expense_csv",t.studentInsurance),n.append("account_number",t.studentInsuranceBankAccountNumber),n.append("google_sheets",t.googleSheetsStudentInsurance),e.next=9,(t.studentInsuranceUpdate?J:G)("student_insurance",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorStudentInsurance(e.inserted_records.message.value||e.message):t.setStudentInsurance(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchExpenseDraft=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorExpenseDraft(""),!t.expenseDraft&&!t.googleSheetsExpenseDraft){e.next=16;break}return t.setLoader(!0),(n=new FormData).append("expense_draft_csv",t.expenseDraft),n.append("attribution",t.expenseDraftAttribution),n.append("account_number",t.expenseDraftBankAccountNumber),n.append("for_month",t.expenseDraftForMonth.split("-").reverse().join("/")),n.append("scholarship_type","student"===t.expenseDraftAttribution?t.expenseDraftScholarshipType:null),n.append("fixed",t.expenseDraftFixed),n.append("google_sheets",t.googleSheetsExpenseDraft),""!==t.expenseDraftPaymentMethod&&n.append("payment_method",t.expenseDraftPaymentMethod),""!==t.expenseDraftTrendCoordinator&&n.append("fk_trend_coordinator_id",t.expenseDraftTrendCoordinator),e.next=15,(t.expenseDraftFixedUpdate?J:G)("expense_draft",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorExpenseDraft(e.inserted_records.message.value||e.message):t.setExpenseDraft(null),e})).catch((function(e){return console.error(e)}));case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))),this.fetchDonator=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorDonator(""),!t.donator&&!t.googleSheetsDonator){e.next=9;break}return t.setLoader(!0),(n=new FormData).append("donator_csv",t.donator),n.append("google_sheets",t.googleSheetsDonator),e.next=8,(t.donatorUpdate?J:G)("donator",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorDonator(e.inserted_records.message.value||e.message):t.setDonator(null),e})).catch((function(e){return console.error(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),this.fetchPeriodicReception=Object(L.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setErrorPeriodicReception(""),!t.periodicReception&&!t.googleSheetsPeriodicReception){e.next=10;break}return t.setLoader(!0),(n=new FormData).append("periodic_reception_csv",t.periodicReception),n.append("account_number",t.periodicReceptionBankAccountNumber),n.append("google_sheets",t.googleSheetsPeriodicReception),e.next=9,(t.periodicReceptionUpdate?J:G)("periodic_reception",n).then((function(e){var n;return console.log(e),(null===e||void 0===e||null===(n=e.inserted_records)||void 0===n?void 0:n.error)?t.setErrorPeriodicReception(e.inserted_records.message.value||e.message):t.setPeriodicReception(null),e})).catch((function(e){return console.error(e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),this.fetchIncomeSource=function(){H("income_source").then((function(e){return t.setIncomeSource(e)})).catch((function(e){return console.error(e)}))},this.fetchPaymentMethods=function(){H("general_lists").then((function(e){e&&(e.income_payment_methods&&t.setPaymentMethods(e.income_payment_methods),e.attributions&&t.setAttributions(e.attributions),e.education_payment_status&&t.setPaymentStatus(e.education_payment_status),e.scholarship_types&&t.setScholarshipTypes(e.scholarship_types))})).catch((function(e){return console.error(e)}))},this.fetchBankAccounts=function(){H("bank_account?verbose=true").then((function(e){return t.setBankAccounts(e)})).catch((function(e){return console.error(e)}))},this.fetchInstitutionBranchCoordinators=function(){H("institution_branch_coordinator").then((function(e){return t.setInstitutionBranchCoordinators(e)})).catch((function(e){return console.error(e)}))},this.fetchTrendCoordinators=function(){H("trend_coordinator").then((function(e){t.setTrendCoordinators(e)})).catch((function(e){return console.error(e)}))},this.fetchSuppliers=function(){H("supplier").then((function(e){return t.setSuppliers(e)})).catch((function(e){return console.error(e)}))},this.fetchPlatforms=function(){H("clearing_platform").then((function(e){return t.setPlatforms(e)})).catch((function(e){return console.error(e)}))},this.callFetch=function(){t.fetchIncomeSource(),t.fetchPaymentMethods(),t.fetchBankAccounts(),t.fetchInstitutionBranchCoordinators(),t.fetchTrendCoordinators(),t.fetchSuppliers(),t.fetchPlatforms()},this.fetchDownloadTemplate=function(){var e=Object(L.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("".concat(t,"/csv_template")).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(M.l)(this)},bankAccountStore:new function e(){var t=this;Object(E.a)(this,e),this.allBankAccount=null,this.allCurrentAccount=null,this.leftTableBankAccount=Array(10).fill(""),this.rightTableBankAccount=Array(10).fill(""),this.dateFrom="",this.dateTo="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableSearch="",this.rightTableSearch="",this.rightTableSelectedItems=[],this.selectedRightTableTab="bank_account",this.checkBoxFilter={linked:!0,unlinked:!0},this.changeCheckBoxFilter=function(e,n){t.checkBoxFilter[n]=e,t.setLeftTableBankAccount(t.allBankAccount)},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(t.leftTableSearch="",i[n]={checked:!i[n].checked,id:r.id},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allCurrentAccount:t.leftTableBankAccount;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["fk_".concat(t.selectedRightTableTab,"_id")]||n["fk_".concat(t.selectedRightTableTab,"_id")]===e.id})))))})),s=s.filter((a=new Set,function(e){var t=e.id;return!a.has(t)&&a.add(t)})),t.setLeftTableBankAccount(s,!0)}else t.setLeftTableBankAccount(c,!0)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setDateFromTo=function(e,n){e?t.dateFrom=e:""===e&&(t.dateFrom=""),n?t.dateTo=n:""===n&&(t.dateTo=""),t.dateFrom&&t.dateTo&&t.dateFrom>t.dateTo&&(t.dateTo="")},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allCurrentAccount.filter((function(e){return e.date.includes(n)||e.value_date.includes(n)||e.transaction_amount.toString().includes(n)||e.balance.toString().includes(n)||e.reference_number.includes(n)}));t.setLeftTableBankAccount(r)}else{t.rightTableSearch=n;var i=t.allBankAccount.filter((function(e){return e.account_number.toString().includes(n)||e.balance.toString().includes(n)||e.cash.toString().includes(n)||e.commitment.toString().includes(n)||e.flow.toString().includes(n)||e.institution_name.toLowerCase().includes(n.toLowerCase())||e.line_of_credit.toString().includes(n)||e.loan.toString().includes(n)}));t.setRightTableBankAccount(i)}},this.setLeftTableBankAccount=function(e,n){var r=(e=t.checkBoxFilter.linked&&t.checkBoxFilter.unlinked?e:t.checkBoxFilter.linked?e.filter((function(e){return e.is_linked})):t.checkBoxFilter.unlinked?e.filter((function(e){return!e.is_linked})):[]).length<10?Array(10-e.length).fill(""):[];t.leftTableBankAccount=e.concat(r),!n&&t.setRightTableSelectedItems()},this.setRightTableBankAccount=function(e){t.rightTableSelectedItems=Array(e.length).fill({checked:!1,id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTableBankAccount=e.concat(n)},this.setAllCurrentAccount=function(e){t.allCurrentAccount=e.data?e.data:e,t.setLeftTableBankAccount(e.data?e.data:e)},this.setAllBankAccount=function(e){t.allBankAccount=e.data?e.data:e,t.setRightTableBankAccount(e.data?e.data:e)},this.fetchBankAccount=function(){H("bank_account?verbose=".concat(encodeURIComponent(!0))).then((function(e){return t.setAllBankAccount(e)})).catch((function(e){return console.error(e)}))},this.fetchCurrentAccount=function(){t.allCurrentAccount=null;var e=function(e){return encodeURIComponent(e.slice(0,10).split("-").reverse().join("/"))},n=""===t.dateFrom?null:e(t.dateFrom),r=""===t.dateTo?null:e(t.dateTo);H("current_account".concat(n&&r?"?start_date=".concat(n,"&end_date=").concat(r):"")).then((function(e){return t.setAllCurrentAccount(e)})).catch((function(e){return console.error(e)}))},this.index=0,this.rightBankAccount=null,this.donator=null,this.trendCoordinator=null,this.student=null,this.supplier=null,this.msv=null,this.comment=null,this.makeLink=null,this.allDonators=null,this.allTrendCoordinator=null,this.allStudents=null,this.allSuppliers=null,this.allMSV=null,this.ownDonator=null,this.ownTrendCoordinator=null,this.ownStudent=null,this.ownSupplier=null,this.ownMsv=null,this.loader=!1,this.existDonator=null,this.existTrendCoordinator=null,this.existStudent=null,this.existSupplier=null,this.existMsv=null,this.setLoader=function(e){t.loader=e},this.setOwnDonator=function(e){t.ownDonator=e},this.setOwnTrendCoordinator=function(e){t.ownTrendCoordinator=e},this.setOwnStudent=function(e){t.ownStudent=e},this.setOwnSupplier=function(e){t.ownSupplier=e},this.setOwnMsv=function(e){t.ownMsv=e},this.setAllMSV=function(e){t.allMSV=e,0===(null===e||void 0===e?void 0:e.length)&&t.setMSV("\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea")},this.setAllDonators=function(e){t.allDonators=e,0===(null===e||void 0===e?void 0:e.length)&&t.setDonator("\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea")},this.setAllTrendCoordinator=function(e){t.allTrendCoordinator=e,0===(null===e||void 0===e?void 0:e.length)&&t.setTrendCoordinator("\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea")},this.setAllStudents=function(e){t.allStudents=e,0===(null===e||void 0===e?void 0:e.length)&&t.setStudent("\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea")},this.setAllSuppliers=function(e){t.allSuppliers=e,0===(null===e||void 0===e?void 0:e.length)&&t.setSupplier("\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea")},this.setMakeLink=function(e){t.makeLink=e,e&&t.fetchMSV(e.transaction_amount,e.date.slice(0,10)).then((function(n){var r,i;t.setComment(e.comment);var a=(null===(r=e.expense)||void 0===r?void 0:r.length)>0?e.expense[0]:(null===(i=e.income)||void 0===i?void 0:i.length)>0?e.income[0]:null;if(a){var o,c=null!==a.fk_donator_id&&t.allDonators.find((function(e){return e.id===a.fk_donator_id})),s=null!==a.fk_trend_coordinator_id&&t.allTrendCoordinator.find((function(e){return e.id===a.fk_trend_coordinator_id})),l="student"===a.attribution&&null!==a.attribution_id&&t.allStudents.find((function(e){return e.id===a.attribution_id})),u="supplier"===a.attribution&&null!==a.attribution_id&&t.allSuppliers.find((function(e){return e.id===a.attribution_id})),d=!(0!==(null===(o=e.income)||void 0===o?void 0:o.length))&&null!==a.fk_msv_file_id&&(null===n||void 0===n?void 0:n.find((function(e){return e.id===a.fk_msv_file_id})));if(c){var h="".concat(c.first_name," ").concat(c.last_name," - ").concat(c.identity);t.setDonator(h),t.setOwnDonator(c)}if(s){var b="".concat(s.name," - ").concat(s.id);t.setTrendCoordinator(b),t.setOwnTrendCoordinator(b)}if(l){var p="".concat(l.first_name," ").concat(l.last_name," - ").concat(l.identity);t.setStudent(p),t.setOwnStudent(p)}if(u){var f="".concat(u.name," - ").concat(u.identity);t.setSupplier(f),t.setOwnSupplier(f)}if(d){var m="".concat(d.amount," - ").concat(d.date," - ").concat(d.id);t.setMSV(m),t.setOwnMsv(m)}}}))},this.setIndex=function(e){t.index=e},this.setRightBankAccount=function(e){t.rightBankAccount=e},this.setDonator=function(e){var n,r;t.donator=e&&""!==e.trim()?e:null;var i=e&&e.split(" - ");t.existDonator=e?null===(n=t.allDonators)||void 0===n||null===(r=n.find((function(e){return e.identity===i[i.length-1]})))||void 0===r?void 0:r.id:null},this.setTrendCoordinator=function(e){var n,r;t.trendCoordinator=e&&""!==e.trim()?e:null;var i=e&&e.split(" - ");t.existTrendCoordinator=e?null===(n=t.allTrendCoordinator)||void 0===n||null===(r=n.find((function(e){return"".concat(e.id)===i[i.length-1]})))||void 0===r?void 0:r.id:null},this.setStudent=function(e){var n,r;t.student=e&&""!==e.trim()?e:null;var i=e&&e.split(" - ");t.existStudent=e?null===(n=t.allStudents)||void 0===n||null===(r=n.find((function(e){return e.identity===i[i.length-1]})))||void 0===r?void 0:r.id:null},this.setSupplier=function(e){var n,r;t.supplier=e&&""!==e.trim()?e:null;var i=e&&e.split(" - ");t.existSupplier=e?null===(n=t.allSuppliers)||void 0===n||null===(r=n.find((function(e){return e.identity===i[i.length-1]})))||void 0===r?void 0:r.id:null},this.setMSV=function(e){var n,r;t.msv=e&&""!==e.trim()?e:null;var i=e&&e.split(" - ");t.existMsv=e?null===(n=t.allMSV)||void 0===n||null===(r=n.find((function(e){return"".concat(e.id)===i[i.length-1]})))||void 0===r?void 0:r.id:null},this.setComment=function(e){t.comment=e&&""!==e.trim()?e:null},this.fetchTrendCoordinator=function(){H("link_ca/trend_coordinator").then((function(e){return t.setAllTrendCoordinator(e)})).catch((function(e){return console.error(e)}))},this.fetchStudens=function(){H("link_ca/student").then((function(e){return t.setAllStudents(e)})).catch((function(e){return console.error(e)}))},this.fetchSuppliers=function(){H("link_ca/supplier").then((function(e){return t.setAllSuppliers(e)})).catch((function(e){return console.error(e)}))},this.fetchMSV=function(){var e=Object(L.a)(N.a.mark((function e(n,r){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("link_ca/msv?amount=".concat(n,"&date=").concat(r)).then((function(e){return t.setAllMSV(e.error?[]:e)})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchDonators=function(){H("donator").then((function(e){return t.setAllDonators(e)})).catch((function(e){return console.error(e)}))},this.fetchSave=function(){if(t.setLoader(!0),t.donator!==t.ownTrendCoordinator)var e={fk_current_account_id:t.makeLink.id,ca_amount:t.makeLink.transaction_amount,fk_trend_coordinator_id:t.existDonator},n=q("link_ca/donator",e).catch((function(e){return console.error(e)}));if(t.trendCoordinator!==t.ownTrendCoordinator){var r={fk_current_account_id:t.makeLink.id,ca_amount:t.makeLink.transaction_amount,fk_trend_coordinator_id:t.existTrendCoordinator};n=q("link_ca/trend_coordinator",r).catch((function(e){return console.error(e)}))}if(t.student!==t.ownStudent)var i={fk_current_account_id:t.makeLink.id,ca_amount:t.makeLink.transaction_amount,attribution:"student",attribution_id:t.existStudent},a=q("link_ca/student",i).catch((function(e){return console.error(e)}));if(t.supplier!==t.ownSupplier)var o={fk_current_account_id:t.makeLink.id,ca_amount:t.makeLink.transaction_amount,attribution:"supplier",attribution_id:t.existSupplier},c=q("link_ca/supplier",o).catch((function(e){return console.error(e)}));if(t.msv!==t.ownMsv){var s=t.ownMsv&&t.ownMsv.split(" - "),l=t.existMsv||s?s[s.length-1]:null;if(null!==l)var u={fk_current_account_id:t.makeLink.id,fk_msv_file_id:l,delete:null===t.existMsv},d=q("link_ca/msv",u).catch((function(e){return console.error(e)}))}if(t.comment!==t.makeLink.comment)var h={comment:t.comment},b=q("current_account/".concat(t.makeLink.id),h).catch((function(e){return console.error(e)}));Promise.all([n,a,c,d,b]).then((function(){t.setLoader(!1),t.fetchCurrentAccount(),!t.existTrendCoordinator&&t.setTrendCoordinator(null),!t.existSupplier&&t.setSupplier(null),!t.existStudent&&t.setStudent(null),!t.existMsv&&t.setMSV(null)})).catch((function(e){return console.error(e)}))},Object(M.l)(this)},receptionBasketStore:new function e(){var t=this;Object(E.a)(this,e),this.allReceptionBasket=null,this.leftTableReceptionBasket=Array(10).fill(""),this.rightTableReceptionBasket=Array(10).fill(""),this.receptionBasketFilters=[],this.receptionBasketFiltersToSend={income_filters:[]},this.receptionBasketFiltersDateSelectedOption=[],this.selectedLeftTableTab="donations",this.selectedRightTableTab="institution",this.leftTableSearch="",this.rightTableSearch="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableCheckbox=[],this.rightTableCheckbox=[],this.rightTableSelectedItems=[],this.checkedFilters=[],this.generalLists=[],this.bankAccount=[],this.trendCoordinator=[],this.setBankAccount=function(e){t.bankAccount=e},this.setTrendCoordinator=function(e){t.trendCoordinator=e},this.print=function(){var e=Object(L.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n&&t.allReceptionBasket[0][t.selectedLeftTableTab].map((function(e){return e.is_printable&&(r=[].concat(Object(b.a)(r),[e.income_id]))})),e.next=4,t.fetchPrint(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delete=function(e,n){if(0===n&&t.fetchDeleteIncome(e.income_id,{}).then((function(r){r||t.deleteSelectedItem(e,n)})),1===n){var r=[];t.leftTableReceptionBasket.map((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]&&(r=[].concat(Object(b.a)(r),[n.income_id]))})),t.fetchDeleteIncome(null,r).then((function(r){r||t.leftTableReceptionBasket.map((function(r){return e["fk_".concat(t.selectedRightTableTab,"_id")]===r["fk_".concat(t.selectedRightTableTab,"_id")]&&t.deleteSelectedItem(r,n)}))}))}},this.deleteSelectedItem=function(e,n){var r,i=t.leftTableReceptionBasket.filter((function(t){return t!==e}));t.setLeftTableReceptionBasket(i,!0),t.allReceptionBasket[n][t.selectedLeftTableTab]=null===(r=t.allReceptionBasket[n][t.selectedLeftTableTab])||void 0===r?void 0:r.filter((function(t){return t!==e}))},this.checkIncome=function(e,n,r,i,a,o){var c=t.leftTableReceptionBasket,s={};s[a]=e,o&&(a=o),0===r?("is_printable"!==a||"is_printable"===a&&t.checkIsPrintAllow(n))&&t.fetchEditIncome(n.income_id,s).then((function(n){n||t.changeLeftTableReceptionBasket(c,i,a,e)})):1===r&&t.leftTableReceptionBasket.map((function(r,i){return n["fk_".concat(t.selectedRightTableTab,"_id")]===r["fk_".concat(t.selectedRightTableTab,"_id")]&&("is_printable"!==a||"is_printable"===a&&t.checkIsPrintAllow(r))&&t.fetchEditIncome(r.income_id,s).then((function(n){n||t.changeLeftTableReceptionBasket(c,i,a,e)}))}))},this.checkIsPrintAllow=function(e){return t.leftTableReceptionBasket=t.leftTableReceptionBasket.map((function(t){return t===e&&delete t.show_error,t})),!(!e.for_month||0===e.for_month)||(t.leftTableReceptionBasket=t.leftTableReceptionBasket.map((function(t){return t===e&&(t.show_error=!0),t})),!1)},this.changeLeftTableReceptionBasket=function(e,n,r,i){e[n][r]=i,t.leftTableReceptionBasket=Object(b.a)(e)},this.changeCheckDate=function(e,n,r,i){t.checkIncome(e,n,r,i,"check_date")},this.changeForMonth=function(e,n,r,i){t.checkIncome(e,n,r,i,"for_month")},this.changeCheckSum=function(e,n,r,i){t.checkIncome(e,n,r,i,"amount","expense_sum")},this.changePaymentMethod=function(e,n,r,i){t.checkIncome(e,n,r,i,"method")},this.changeCheckbox=function(e,n,r,i){t.checkIncome(e,n,r,i,"is_printable")},this.changeBankAccountId=function(e,n,r,i){t.checkIncome(e,n,r,i,"fk_bank_account_id")},this.changeTrendCoordinatorId=function(e,n,r,i){t.checkIncome(e,n,r,i,"fk_trend_coordinator_id")},this.afterLeftTableUpdate=function(){t.rightTableReceptionBasket=t.rightTableReceptionBasket.map((function(e,n){if("object"===typeof e&&null!==e){var r=t.leftTableReceptionBasket.filter((function(n){return!n.deleted&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length,i=t.leftTableReceptionBasket.filter((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]&&n.is_printable})).length;t.rightTableReceptionBasket[n].all_selected=0!==r&&r===i,t.rightTableReceptionBasket[n]["print_".concat(t.selectedLeftTableTab,"_sum")]=i,t.rightTableReceptionBasket[n]["".concat(t.selectedLeftTableTab,"_sum")]=t.leftTableReceptionBasket.filter((function(n){return e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length}return e}))},this.setGeneralLists=function(e){t.generalLists=e},this.setCheckedFilters=function(e){t.checkedFilters=e},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allReceptionBasket[0][t.selectedLeftTableTab]:t.leftTableReceptionBasket;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["fk_".concat(t.selectedRightTableTab,"_id")]||n["fk_".concat(t.selectedRightTableTab,"_id")]===e.fk_id})))))})),s=s.filter((a=new Set,function(e){var t=e.identity;return!a.has(t)&&a.add(t)})),t.setLeftTableReceptionBasket(s,!0)}else t.setLeftTableReceptionBasket(c,!0)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allReceptionBasket[e][t.selectedLeftTableTab].filter((function(e){return e.identity.includes(n)||e.full_name.toLowerCase().includes(n.toLowerCase())||e.for_month&&e.for_month.includes(n)||e.amount.toString().includes(n)||e.method.includes(n)}));t.setLeftTableReceptionBasket(r)}else{t.rightTableSearch=n;var i=t.allReceptionBasket[e][t.selectedRightTableTab].filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.expense_sum.toString().includes(n)||e.balance_total.toString().includes(n)}));t.setRightTableReceptionBasket(i)}},this.setSelectedTableTab=function(e,n){0===e&&t.selectedLeftTableTab!==n?(t.leftTableSearch="",t.selectedLeftTableTab=n,t.setLeftTableReceptionBasket(t.allReceptionBasket[e][n])):1===e&&t.selectedRightTableTab!==n&&(t.rightTableSearch="",t.selectedRightTableTab=n,t.setRightTableReceptionBasket(t.allReceptionBasket[e][n]),t.setRightTableSelectedItems())},this.setReceptionBasketFiltersToSend=function(e,n,r,i,a,o,c){"checkAll"===c&&(t.ReceptionBasketFiltersToSend={income_filters:[]}),"unCheckAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!1}))}))})):"checkAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!0}))}))})):t.checkedFilters[i][a][o]=!t.checkedFilters[i][a][o],"unCheckAll"===c?t.receptionBasketFilters.map((function(e){return"date_filters"!==e.name&&t.receptionBasketFiltersToSend[e.name].map((function(e){return e.checked=[]}))})):"checkAll"===c?t.receptionBasketFilters.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(n){return t.receptionBasketFiltersToSend[e.name]=[].concat(Object(b.a)(t.receptionBasketFiltersToSend[e.name]),[{name:n.name,checked:n.checkboxes}])}))})):t.receptionBasketFiltersToSend[e].map((function(e){return e.name===n&&(e.checked.some((function(e){return e===r}))?e.checked=e.checked.filter((function(e){return e!==r})):e.checked=[].concat(Object(b.a)(e.checked),[r]))}))},this.setReceptionBasketFilters=function(e){t.receptionBasketFilters=e,t.checkedFilters=e.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(e){return e.checkboxes&&e.checkboxes.map((function(){return!0}))}))})).filter((function(e){return e&&e}))},this.setRightTableReceptionBasket=function(e){t.rightTableCheckbox=Array(e.length).fill({checked:!1,fk_id:-1}),t.rightTableSelectedItems=Array(e.length).fill({checked:!1,fk_id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTableReceptionBasket=e.concat(n)},this.setLeftTableReceptionBasket=function(e,n){t.leftTableCheckbox=e.map((function(e){return{checked:e.is_printable,fk_id:-1}}));var r=e.length<10?Array(10-e.length).fill(""):[];t.leftTableReceptionBasket=e.concat(r),!n&&t.setRightTableSelectedItems()},this.setAllReceptionBasket=function(e){e&&e.length>1&&Object.keys(e[1]).map((function(t){return e[1][t].map((function(n,r){return Object.keys(e[0]).map((function(i){return e[1][t][r]["".concat(i,"_sum")]=e[0][i].filter((function(e){return n["fk_".concat(t,"_id")]===e["fk_".concat(t,"_id")]})).length}))}))})),t.allReceptionBasket=e,e&&e.length>0&&e[0][t.selectedLeftTableTab]&&t.setLeftTableReceptionBasket(e[0][t.selectedLeftTableTab]),e&&e.length>1&&e[1][t.selectedRightTableTab]&&t.setRightTableReceptionBasket(e[1][t.selectedRightTableTab])},this.fetchFilteredReceptionBasket=function(e){t.setAllReceptionBasket(null),V("reception_basket",e).then((function(e){return t.setAllReceptionBasket(e)})).catch((function(e){return console.error(e)}))},this.fetchReceptionBasketFilters=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("reception_basket_filters").then((function(e){return t.setReceptionBasketFilters(e)})).then((function(){t.fetchGeneralLists(),t.fetchBankAccount(),t.fetchTrendCoordinator()})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.fetchGeneralLists=function(){H("general_lists").then((function(e){return t.setGeneralLists(e)})).catch((function(e){return console.error(e)}))},this.fetchEditIncome=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("income/".concat(t),n).then((function(e){return e.error})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchDeleteIncome=function(){var e=Object(L.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("income".concat(t?"/".concat(t):""),n).then((function(e){return e.error})).catch((function(e){return console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetchPrint=function(){var e=Object(L.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n&&t.allReceptionBasket[0][t.selectedLeftTableTab].map((function(e){return e.is_printable&&(r=[].concat(Object(b.a)(r),[e.expense_id]))})),n&&0===r.length){e.next=6;break}return e.next=5,V("income/print_payment",r,!0).catch((function(e){return console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchBankAccount=function(){H("bank_account?verbose=true").then((function(e){return t.setBankAccount(e)})).catch((function(e){return console.error(e)}))},this.fetchTrendCoordinator=function(){H("trend_coordinator").then((function(e){return t.setTrendCoordinator(e)})).catch((function(e){return console.error(e)}))},Object(M.l)(this)},periodicReceptionStore:new function e(){var t=this;Object(E.a)(this,e),this.allPeriodicReception=null,this.leftTablePeriodicReception=Array(10).fill(""),this.rightTablePeriodicReception=Array(10).fill(""),this.periodicReceptionFilters=[],this.periodicReceptionFiltersToSend={pr_filters:[]},this.periodicReceptionFiltersDateToSend={pr_filters:[{name:"periodic_reception_create_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}]},this.periodicReceptionFiltersDateSelectedOption=[],this.selectedRightTableTab="institution",this.leftTableSearch="",this.rightTableSearch="",this.dateFrom="",this.dateTo="",this.leftTableHeight=0,this.rightTableHeight=0,this.leftTableCheckbox=[],this.rightTableCheckbox=[],this.rightTableSelectedItems=[],this.checkedFilters=[],this.expenseMessage="",this.checkIncome=!0,this.checkExpense=!0,this.changeCheckBox=function(e,n){"income"===e?t.checkIncome=n:"expense"===e&&(t.checkExpense=n),t.leftTableSearch="",t.setLeftTablePeriodicReception(t.allPeriodicReception[0],!0)},this.afterLeftTableUpdate=function(){var e=t.rightTablePeriodicReception.map((function(e,n){if("object"===typeof e&&null!==e){var r=t.leftTablePeriodicReception.filter((function(n){return!n.deleted&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]})).length,i=t.leftTableCheckbox.filter((function(n){return n.item&&n.checked&&e["fk_".concat(t.selectedRightTableTab,"_id")]===n.item["fk_".concat(t.selectedRightTableTab,"_id")]})).length;t.rightTablePeriodicReception[n].all_selected=0!==r&&r===i}return e}));t.rightTablePeriodicReception=e},this.changeExpenseMessage=function(e){t.expenseMessage=e},this.setCheckedFilters=function(e){t.checkedFilters=e},this.setRightTableSelectedItems=function(e,n,r){var i=t.rightTableSelectedItems;r&&(t.leftTableSearch="",i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableSelectedItems=Object(b.a)(i));var a,o=i.some((function(e){return e.checked})),c=""===t.leftTableSearch.trim()?t.allPeriodicReception[0]:t.leftTablePeriodicReception;if(o){var s=[];i.map((function(e){return e.checked&&(s=[].concat(Object(b.a)(s),Object(b.a)(c.filter((function(n){return!n["reception_".concat(t.selectedRightTableTab,"_id")]||n["reception_".concat(t.selectedRightTableTab,"_id")]===e.fk_id})))))})),s=s.filter((a=new Set,function(e){var t=e.identity;return!a.has(t)&&a.add(t)})),t.setLeftTablePeriodicReception(s,!0)}else t.setLeftTablePeriodicReception(c,!0)},this.setRightTableCheckbox=function(e,n,r){var i=t.rightTableCheckbox;r&&(i[n]={checked:e,fk_id:r["fk_".concat(t.selectedRightTableTab,"_id")]},t.rightTableCheckbox=Object(b.a)(i),t.leftTableCheckbox=t.leftTablePeriodicReception.map((function(n,i){return r["fk_".concat(t.selectedRightTableTab,"_id")]===n["fk_".concat(t.selectedRightTableTab,"_id")]?{checked:e,item:n}:t.leftTableCheckbox[i]})))},this.setLeftTableCheckbox=function(e,n,r){var i=t.leftTableCheckbox;i[n]={checked:e,item:r},t.leftTableCheckbox=Object(b.a)(i)},this.setLeftTableHeight=function(e){t.leftTableHeight=e},this.setRightTableHeight=function(e){t.rightTableHeight=e},this.setDateFromTo=function(e,n){e?t.dateFrom=e.slice(0,10).split("/").reverse().join("-"):""===e&&(t.dateFrom=""),n?t.dateTo=n.slice(0,10).split("/").reverse().join("-"):""===n&&(t.dateTo="")},this.setTableSearch=function(e,n){if(0===e){t.leftTableSearch=n;var r=t.allPeriodicReception[e].filter((function(e){var t,r,i,a,o,c,s,l,u,d,h,b,p,f;return(null===(t=e.identity)||void 0===t?void 0:t.includes(n))||(null===(r=e.heb_attribution)||void 0===r?void 0:r.includes(n))||(null===(i=e.full_name)||void 0===i||null===(a=i.toLowerCase())||void 0===a?void 0:a.includes(n.toLowerCase()))||(null===(o=e.payment_status)||void 0===o?void 0:o.includes(n))||(null===(c=e.amount)||void 0===c||null===(s=c.toString())||void 0===s?void 0:s.includes(n))||(null===(l=e.payment_method)||void 0===l?void 0:l.includes(n))||(null===(u=e.for_month)||void 0===u||null===(d=u.slice(0,10).split("-").reverse().join("/"))||void 0===d?void 0:d.includes(n))||(null===(h=e.printing_date)||void 0===h||null===(b=h.slice(0,10).split("-").reverse().join("/"))||void 0===b?void 0:b.includes(n))||(null===(p=e.reception_date)||void 0===p||null===(f=p.slice(0,10).split("-").reverse().join("/"))||void 0===f?void 0:f.includes(n))}));t.setLeftTablePeriodicReception(r)}else{t.rightTableSearch=n;var i=t.allPeriodicReception[e][t.selectedRightTableTab].filter((function(e){var t,r,i,a,o,c;return(null===(t=e.name)||void 0===t||null===(r=t.toLowerCase())||void 0===r?void 0:r.includes(n.toLowerCase()))||(null===(i=e.balance)||void 0===i||null===(a=i.toString())||void 0===a?void 0:a.includes(n))||(null===(o=e.balance_total)||void 0===o||null===(c=o.toString())||void 0===c?void 0:c.includes(n))}));t.setRightTablePeriodicReception(i)}},this.setSelectedTableTab=function(e,n){1===e&&t.selectedRightTableTab!==n&&(t.rightTableSearch="",t.selectedRightTableTab=n,t.setRightTablePeriodicReception(t.allPeriodicReception[e][n]),t.setRightTableSelectedItems())},this.setPeriodicReceptionFiltersToSend=function(e,n,r,i,a,o,c){"checkAll"===c&&(t.periodicReceptionFiltersToSend={pr_filters:[]}),"unCheckAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!1}))}))})):"checkAll"===c?t.checkedFilters=t.checkedFilters.map((function(e){return e.map((function(e){return e.map((function(){return!0}))}))})):i-1>-1&&(t.checkedFilters[i-1][a][o]=!t.checkedFilters[i-1][a][o]),"unCheckAll"===c?t.periodicReceptionFilters.map((function(e){return"date_filters"!==e.name&&t.periodicReceptionFiltersToSend[e.name].map((function(e){return e.checked=[]}))})):"checkAll"===c?t.periodicReceptionFilters.map((function(e){return"date_filters"!==e.name&&e.filters.map((function(n){return t.periodicReceptionFiltersToSend[e.name]=[].concat(Object(b.a)(t.periodicReceptionFiltersToSend[e.name]),[{name:n.name,checked:n.checkboxes}])}))})):t.periodicReceptionFiltersToSend[e].map((function(e){return e.name===n&&(e.checked.some((function(e){return e===r}))?e.checked=e.checked.filter((function(e){return e!==r})):e.checked=[].concat(Object(b.a)(e.checked),[r]))}))},this.setPeriodicReceptionFiltersDateToSend=function(e,n,r){var i=t.periodicReceptionFiltersDateSelectedOption,a=t.periodicReceptionFiltersDateToSend[i[2]].findIndex((function(e){return e.name===i[1]}));-1===a&&(a=t.periodicReceptionFiltersDateToSend[i[2]].length,t.periodicReceptionFiltersDateToSend[i[2]]=[].concat(Object(b.a)(t.periodicReceptionFiltersDateToSend[i[2]]),[{name:i[1],checked:["",""]}])),"clear"===r?t.periodicReceptionFiltersDateToSend={pr_filters:[{name:"periodic_reception_create_date",checked:["01/01/".concat((new Date).getFullYear()," 00:00"),""]}]}:t.periodicReceptionFiltersDateToSend[i[2]][a].checked[n]="".concat(e," 00:00")},this.setPeriodicReceptionFiltersDateSelectedOption=function(e){t.periodicReceptionFiltersDateSelectedOption=e;var n=t.periodicReceptionFiltersDateToSend[e[2]].find((function(t){return t.name===e[1]}));n?t.setDateFromTo(n.checked[0],n.checked[1]):t.setDateFromTo("","")},this.setPeriodicReceptionFilters=function(e){t.periodicReceptionFilters=e,t.checkedFilters=e.map((function(e){return e.name&&"date_filters"!==e.name&&e.filters.map((function(e){return e.checkboxes&&e.checkboxes.map((function(){return!0}))}))})).filter((function(e){return e&&e}));var n=e[0].filters[0];t.periodicReceptionFiltersDateSelectedOption=[n.display_name,n.name,n.filter_key]},this.setRightTablePeriodicReception=function(e){t.rightTableCheckbox=Array(e.length).fill({checked:!1,fk_id:-1}),t.rightTableSelectedItems=Array(e.length).fill({checked:!1,fk_id:-1});var n=e.length<10?Array(10-e.length).fill(""):[];t.rightTablePeriodicReception=e.concat(n)},this.setLeftTablePeriodicReception=function(e,n){e=e.filter((function(e){return t.checkIncome&&e.amount>=0||t.checkExpense&&e.amount<0})),t.leftTableCheckbox=Array(e.length).fill({checked:!1});var r=e.length<10?Array(10-e.length).fill(""):[];t.leftTablePeriodicReception=e.concat(r),!n&&t.setRightTableSelectedItems()},this.setAllPeriodicReception=function(e){e&&e.length>0&&(e[0]=Object.keys(e[0]).map((function(t){return e[0][t]})).flat()),t.allPeriodicReception=e,e&&e.length>0&&t.setLeftTablePeriodicReception(e[0]),e&&e.length>1&&e[1][t.selectedRightTableTab]&&t.setRightTablePeriodicReception(e[1][t.selectedRightTableTab])},this.fetchFilteredPeriodicReception=function(e){e={},t.setAllPeriodicReception(null),V("periodic_reception_report",e).then((function(e){return t.setAllPeriodicReception(e)})).catch((function(e){return console.error(e)}))},this.fetchNewRowData=function(e){var n=JSON.stringify(e);V("periodic_reception",n).then((function(e){return t.setAllPeriodicReception(e)})).catch((function(e){return console.error(e)}))},this.fetchPeriodicReceptionFilters=Object(L.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!sessionStorage.getItem("reload");case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=H("periodic_reception_filters").then((function(e){return t.setPeriodicReceptionFilters(e)})).catch((function(e){return console.error(e)}));case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),this.resetCheckbox=function(){t.leftTableCheckbox=Array(t.leftTablePeriodicReception.length).fill({checked:!1})},Object(M.l)(this)}},Z=n(46),$=n.n(Z),K=function(e){return Object(d.jsx)("div",{className:$.a.backdrop,onClick:e.onClose})},Q=function(e){return Object(d.jsx)("div",{className:$.a.modal,children:Object(d.jsx)("div",{className:$.a.content,children:e.children})})},X=document.getElementById("overlays"),ee=function(e){return Object(d.jsxs)(d.Fragment,{children:[console.log("Modal"),o.a.createPortal(Object(d.jsx)(K,{onClose:e.onClose}),X),o.a.createPortal(Object(d.jsx)(Q,{children:e.children}),X)]})},te=n(13),ne=n(21),re=n(116),ie=n(118),ae=n(113),oe=n(53),ce=n(115),se=n(117),le=n(114),ue=n(119),de=Object(ne.a)(ae.a)((function(e){var t,n=e.theme;return t={},Object(te.a)(t,"&.".concat(oe.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(te.a)(t,"&.".concat(oe.a.body),{fontSize:14}),t})),he=Object(ne.a)(le.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),be=function(e){return Object(d.jsx)(ce.a,{component:ue.a,children:Object(d.jsxs)(re.a,{sx:{marginRight:"30px",minWidth:700},"aria-label":"customized table",children:[Object(d.jsx)(se.a,{children:Object(d.jsx)(le.a,{children:e.Headers.map((function(e){return Object(d.jsx)(de,{align:"right",children:e})}))})}),Object(d.jsx)(ie.a,{children:e.bodyCellData.map((function(e){var t=Object.values(e);return Object(d.jsx)(he,{children:t.map((function(e){return Object(d.jsx)(de,{align:"right",children:e})}))},e.error)}))})]})})},pe=function(e){console.log("CSVFilePopup");var t=Object(r.useState)([]),n=Object(y.a)(t,2),i=n[0],a=n[1],o=e.data;console.log(o),Object(r.useEffect)((function(){if(o.errors.length>0){var e=Object.keys(o.errors[0]);a(e)}}),[o]);return Object(d.jsxs)("div",{style:{direction:"rtl",padding:"20px",backgroundColor:"gray",borderRadius:"15px"},children:[Object(d.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:o.title}),Object(d.jsxs)("div",{className:"success",children:[Object(d.jsx)("label",{children:"\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05e9\u05d4\u05e6\u05dc\u05d9\u05d7\u05d5:"}),Object(d.jsx)("p",{style:{marginRight:"30px"},children:o.success})]}),Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("label",{children:"\u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05e9\u05e0\u05db\u05e9\u05dc\u05d5:"}),i?Object(d.jsx)(be,{Headers:i,bodyCellData:o.errors}):"0"]})]})},fe=function(e){var t=Y.uploadCSVFile;return console.log("popuptem"),console.log(e.data),Object(d.jsx)(ee,{onClose:e.onClose,children:t.loader?Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center"},children:Object(d.jsx)(u.a,{size:150,color:"rgba(0 0 0 / 0.7)"})}):Object(d.jsxs)("div",{style:{width:"100%",height:"90%",overflowY:"scroll",display:"flex",gap:"25PX",alignContent:"center",flexDirection:"column"},children:[Object(d.jsx)("div",{style:{width:"20px"},children:Object(d.jsx)("button",{onClick:e.onClose,children:"Close"})}),e.data.map((function(t){return t.popup_results?(e.downloadJson(!1),t.popup_results.map((function(e){return Object(d.jsx)(pe,{data:e},e.name)}))):e.downloadJson(!0)}))]})})},me=n(38),ge=Object(l.c)((function(e){var t=Y.uploadCSVFile,n=Object(r.useState)(null),i=Object(y.a)(n,2),a=i[0],o=i[1],c=Object(r.useState)(!1),s=Object(y.a)(c,2),l=s[0],u=s[1],h=Object(r.useState)(!1),b=Object(y.a)(h,2),p=b[0],f=(b[1],Object(r.useState)(!1)),m=Object(y.a)(f,2),g=m[0],j=m[1],k=/^\d+$/;Object(r.useEffect)((function(){t.callFetch()}),[]),Object(r.useEffect)((function(){console.log("useEffect"),g&&t.sendData().then((function(e){console.log(g);var t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=window.URL||window.webkitURL,r=document.createElement("a");r.download="data.json",r.href=n.createObjectURL(t),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))}),[g]);var v=function(e){var n=e.title,r=e.template_from;return Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)("div",{style:{fontSize:"1.1em",fontWeight:"bolder"},children:n}),r&&Object(d.jsx)("span",{style:{marginRight:"10px",color:"blue",cursor:"pointer"},onClick:function(){t.fetchDownloadTemplate(r).then((function(e){var t=e.headers.get("Content-Disposition");if(t){var n=t.slice(t.indexOf("filename=")+9,t.length-1);e.blob().then((function(e){return me(e,n)}))}}))},children:"template"})]})},T=function(e){var n=e.setFile,r=e.file,i=e.update,a=e.setUpdate,o=e.googleSheetsToggle,c=e.googleSheets,s=e.name;return console.log(i),console.log(a),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsxs)("label",{style:{display:"flex",cursor:c?"not-allowed":"pointer",width:"fit-content",backgroundColor:c?"#858282":"none"},children:[Object(d.jsx)("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",style:{display:"none",backgroundColor:c?"#858282":"none"},disabled:t.loader?t.loader:c,cursor:c?"not-allowed":"pointer",value:function(e){return e.target.value},onClick:function(e){return e.target.value=""},onChange:function(e){return n(e.target.files[0]||null)}}),Object(d.jsx)("div",{style:{display:"flex",alignItem:"center",paddingRight:"5px",border:"1px solid black",width:"20em",marginLeft:"5px",overflow:"hidden"},children:null===r||void 0===r?void 0:r.name}),Object(d.jsx)("div",{className:"button paymentReportFiltersResetButton",style:{padding:"0.2em 0.5em",backgroundColor:c?"#858282":"none",cursor:c?"not-allowed":"pointer",disabled:c},children:"\u05e2\u05d9\u05d5\u05df"})]}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsxs)("label",{style:{display:"flex",alignItems:"center",marginRight:"5px"},children:[Object(d.jsx)("input",{type:"checkbox",checked:!!i,onChange:function(e){return a&&a(e.target.checked)}}),"\u05e2\u05d9\u05d3\u05db\u05d5\u05df"]}),Object(d.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginRight:"5px"},children:[Object(d.jsx)("input",{type:"checkbox",name:s,checked:c,onChange:function(e){return o(e.target.checked)}}),"Google Sheets"]})]})]})};return Object(d.jsx)(x,{title:"\u05d9\u05d9\u05d1\u05d5\u05d0 \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05de\u05e7\u05d5\u05d1\u05e5 - \u05d2\u05e8\u05e1\u05ea \u05e4\u05d9\u05ea\u05d5\u05d7 \u05d1\u05dc\u05d1\u05d3",children:Object(d.jsxs)("div",{children:[(l||t.loader)&&Object(d.jsx)(fe,{onClose:function(){u(!1)},data:a,downloadJson:j}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:["\u05d1\u05d7\u05e8 \u05d0\u05ea \u05e7\u05d1\u05e6\u05d9 \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d0\u05d5\u05ea\u05dd \u05ea\u05e8\u05e6\u05d4 \u05dc\u05d9\u05d9\u05d1\u05d0 \u05dc\u05de\u05e2\u05e8\u05db\u05ea",Object(d.jsx)("div",{children:"\u05d5\u05dc\u05d0\u05d7\u05e8 \u05de\u05db\u05df \u05dc\u05d7\u05e5 - \u05e9\u05dc\u05d7"})]}),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsxs)("div",{style:{width:"50%"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05de\u05d5\u05e1\u05d3\u05d5\u05ea \u05d5\u05d7\u05e9\u05d1\u05d5\u05e0\u05d5\u05ea \u05d1\u05e0\u05e7",template_from:"institution_bank_account"}),Object(d.jsx)(T,{name:"institution_bank_account",setFile:function(e){return t.setInstitutionBankAccount(e)},file:t.institutionBankAccount,googleSheets:t.googleSheetsInstitutionBankAccount,googleSheetsToggle:t.setGoogleSheetsInstitutionBankAccount,update:t.institutionBankAccountUpdate,setUpdate:t.setInstitutionBankAccountUpdate}),""!==t.errorInstitutionBankAccount.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorInstitutionBankAccount})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e1\u05e0\u05d9\u05e4\u05d9\u05dd",template_from:"branch"}),Object(d.jsx)(T,{name:"branch",setFile:function(e){return t.setBranch(e)},file:t.branch,googleSheetsToggle:t.setGoogleSheetsBranch,googleSheets:t.googleSheetsBranch,update:t.branchUpdate,setUpdate:t.setBranchUpdate}),""!==t.errorBranch.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorBranch})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05de\u05e0\u05d7\u05d9\u05dd",template_from:"trend_coordinator"}),Object(d.jsx)(T,{name:"trend_coordinator",setFile:function(e){return t.setTrendCoordinator(e)},file:t.trendCoordinator,googleSheetsToggle:t.setGoogleSheetsTrendCoordinator,googleSheets:t.googleSheetsTrendCoordinator,update:t.trendCoordinatorUpdate,setUpdate:t.setTrendCoordinatorUpdate}),""!==t.errorTrendCoordinator.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorTrendCoordinator})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05de\u05e1\u05dc\u05d5\u05dc\u05d9\u05dd \u05d5\u05e9\u05d9\u05d5\u05db\u05d9 \u05de\u05e0\u05d7\u05d9\u05dd",template_from:"course_enrollment_trend_coordinator_attribution"}),Object(d.jsx)(T,{name:"course_enrollment_trend_coordinator_attribution",setFile:function(e){return t.setCourseEnrollmentTrendCoordinatorAttribution(e)},file:t.courseEnrollmentTrendCoordinatorAttribution,googleSheetsToggle:t.setGoogleSheetsCourseEnrollmentTrendCoordinatorAttribution,googleSheets:t.googleSheetsCourseEnrollmentTrendCoordinatorAttribution,update:t.courseEnrollmentTrendCoordinatorAttributionUpdate,setUpdate:t.setCourseEnrollmentTrendCoordinatorAttributionUpdate}),""!==t.errorCourseEnrollmentTrendCoordinatorAttribution.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorCourseEnrollmentTrendCoordinatorAttribution})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",template_from:"student"}),Object(d.jsx)(T,{name:"student",setFile:function(e){return t.setStudents(e)},file:t.students,googleSheetsToggle:t.setGoogleSheetsStudents,googleSheets:t.googleSheetsStudents,update:t.studentsUpdate,setUpdate:t.setStudentsUpdate}),""!==t.errorStudents.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorStudents})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05de\u05e1\u05dc\u05d5\u05dc\u05d9\u05dd",template_from:"course_enrollment"}),Object(d.jsx)(T,{name:"course_enrollment",setFile:function(e){return t.setCourseEnrollment(e)},file:t.courseEnrollment,googleSheetsToggle:t.setGoogleSheetsCourseEnrollment,googleSheets:t.googleSheetsCourseEnrollment,update:t.courseEnrollmentUpdate,setUpdate:t.setCourseEnrollmentUpdate}),""!==t.errorCourseEnrollment.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorCourseEnrollment})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05e1\u05e4\u05e7\u05d9\u05dd",template_from:"supplier"}),Object(d.jsx)(T,{name:"supplier",setFile:function(e){return t.setSupplier(e)},file:t.supplier,googleSheetsToggle:t.setGoogleSheetsSupplier,googleSheets:t.googleSheetsSupplier,update:t.supplierUpdate,setUpdate:t.setSupplierUpdate}),""!==t.errorSupplier.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorSupplier})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05ea\u05d5\u05e8\u05de\u05d9\u05dd",template_from:"donator"}),Object(d.jsx)(T,{name:"donator",setFile:function(e){return t.setDonator(e)},file:t.donator,googleSheetsToggle:t.setGoogleSheetsDonator,googleSheets:t.googleSheetsDonator,update:t.donatorUpdate,setUpdate:t.setDonatorUpdate}),""!==t.errorDonator.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorDonator})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d7\u05e9\u05d1\u05d5\u05e0\u05d5\u05ea \u05d1\u05e0\u05e7 \u05db\u05dc\u05dc\u05d9\u05d9\u05dd",template_from:"general_bank_account"}),Object(d.jsx)(A,{titles:["\u05e9\u05d9\u05d5\u05da"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.generalBanksAttribution,onChange:function(e){return t.setGeneralBanksAttribution(e.target.value)},children:t.attributions.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})})}),Object(d.jsx)(T,{name:"general_bank_account",setFile:function(e){return t.setGeneralBanks(e)},file:t.generalBanks,googleSheetsToggle:t.setGoogleSheetsGeneralBanks,googleSheets:t.googleSheetsGeneralBanks,update:t.generalBanksUpdate,setUpdate:t.setGeneralBanksUpdate}),""!==t.errorGeneralBanks.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorGeneralBanks})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d4\u05d5\u05e8\u05d0\u05ea \u05e7\u05d1\u05e2",template_from:"periodic_reception"}),Object(d.jsx)(A,{titles:["\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.periodicReceptionBankAccountNumber,onChange:function(e){return t.setPeriodicReceptionBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))})})}),Object(d.jsx)(T,{name:"periodic_reception",setFile:function(e){return t.setPeriodicReception(e)},file:t.periodicReception,googleSheetsToggle:t.setGoogleSheetsPeriodicReception,googleSheets:t.googleSheetsPeriodicReception,update:t.periodicReceptionUpdate,setUpdate:t.setPeriodicReceptionUpdate}),""!==t.errorPeriodicReception.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorPeriodicReception})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e4\u05dc\u05d8\u05e4\u05d5\u05e8\u05de\u05d5\u05ea \u05e1\u05dc\u05d9\u05e7\u05d4",template_from:"clearing_platform"}),Object(d.jsx)(A,{titles:["\u05de\u05e0\u05d7\u05d4"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsxs)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.clearingPlatformTrendCoordinatorID,onChange:function(e){return t.setClearingPlatformTrendCoordinatorID(e.target.value)},children:[Object(d.jsx)("option",{value:""},""),t.trendCoordinators.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})}),Object(d.jsx)(T,{name:"clearing_platform",setFile:function(e){return t.setClearingPlatform(e)},file:t.clearingPlatform,googleSheetsToggle:t.setGoogleSheetsClearingPlatform,googleSheets:t.googleSheetsClearingPlatform,update:t.clearingPlatformUpdate,setUpdate:t.setClearingPlatformUpdate}),""!==t.errorClearingPlatform.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorClearingPlatform})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:'\u05d4\u05e2\u05dc\u05d0\u05ea \u05de\u05e1"\u05d1 \u05d2\u05d5\u05dc\u05de\u05d9',template_from:"msv_scraping"}),Object(d.jsx)(A,{titles:["\u05de\u05e0\u05d7\u05d4"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsxs)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.msvScraping,onChange:function(e){return t.setMsvScraping(e.target.value)},children:[Object(d.jsx)("option",{value:""},""),t.msvScrapingOptions.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})}),Object(d.jsx)(T,{name:"msv_scraping",setFile:function(e){return t.setMsvScrapingPlatform(e)},file:t.msvScrapingPlatform,googleSheetsToggle:t.setGoogleSheetsMsvScrapingPlatform,googleSheets:t.googleSheetsMsvScrapingPlatform,update:t.msvScrapingPlatformUpdate,setUpdate:t.setMsvScrapingPlatformUpdate}),""!==t.errorMsvScraping.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorMsvScraping})]})]}),Object(d.jsxs)("div",{style:{width:"50%"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05e2\u05d5\u05d1\u05e8 \u05d5\u05e9\u05d1",template_from:"current_account"}),Object(d.jsx)(A,{titles:["\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.currentAccountBankAccountNumber,onChange:function(e){return t.setCurrentAccountBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))})})}),Object(d.jsx)(T,{name:"current_account",setFile:function(e){return t.setCurrentAccount(e)},file:t.currentAccount,googleSheetsToggle:t.setGoogleSheetsCurrentAccount,googleSheets:t.googleSheetsCurrentAccount,update:t.currentAccountUpdate,setUpdate:t.setCurrentAccountUpdate}),""!==t.errorCurrentAccount.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorCurrentAccount})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05de\u05e9\u05db\u05e8 \u05dc\u05d9\u05de\u05d5\u05d3",template_from:"income"}),Object(d.jsx)(A,{titles:["\u05de\u05d6\u05d4\u05d4 \u05de\u05e7\u05d5\u05e8 \u05d4\u05db\u05e0\u05e1\u05d4","\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7","\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05db\u05e0\u05e1\u05d4"],children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.studentsIncomesSourceID,onChange:function(e){return t.setStudentsIncomesSourceID(e.target.value)},children:t.incomeSource.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.studentsIncomesMethod,onChange:function(e){return t.setStudentsIncomesMethod(e.target.value)},children:t.paymentMethods.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.studentsIncomesBankAccountNumber,onChange:function(e){return t.setStudentsIncomesBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.studentsPaymentStatus,onChange:function(e){return t.setStudentsPaymentStatus(e.target.value)},children:t.paymentStatus.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})]})}),Object(d.jsx)(T,{name:"income",setFile:function(e){return t.setStudentsIncomes(e)},file:t.studentsIncomes,googleSheetsToggle:t.setGoogleSheetsStudentsIncomes,googleSheets:t.googleSheetsStudentsIncomes,update:t.studentsIncomesUpdate,setUpdate:t.setStudentsIncomesUpdate}),""!==t.errorStudentsIncomes.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorStudentsIncomes})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e9\u05d2\u05d9\u05d0\u05d5\u05ea \u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",template_from:"payment_failure"}),Object(d.jsx)(T,{name:"payment_failure",setFile:function(e){return t.setStudentsPaymentFailure(e)},file:t.studentsPaymentFailure,googleSheetsToggle:t.setGoogleSheetsStudentsPaymentFailure,googleSheets:t.googleSheetsStudentsPaymentFailure,update:t.studentsPaymentFailureUpdate,setUpdate:t.setStudentsPaymentFailureUpdate}),""!==t.errorStudentsPaymentFailure.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorStudentsPaymentFailure})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d3\u05e4\u05d9 \u05e1\u05dc\u05d9\u05e7\u05d4",template_from:"clearing"}),Object(d.jsx)(A,{titles:["\u05e4\u05dc\u05d8\u05e4\u05d5\u05e8\u05de\u05ea \u05e1\u05dc\u05d9\u05e7\u05d4"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.clearingPlatformID,onChange:function(e){return t.setClearingPlatformID(e.target.value)},children:t.platforms.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))})})}),Object(d.jsx)(T,{name:"clearing",setFile:function(e){return t.setClearing(e)},file:t.clearing,googleSheetsToggle:t.setGoogleSheetsClearing,googleSheets:t.googleSheetsClearing,update:t.clearingUpdate,setUpdate:t.setClearingUpdate}),""!==t.errorClearing.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorClearing})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d5\u05dc\u05d9\u05d3\u05e6\u05d9\u05d9\u05ea \u05e1\u05dc\u05d9\u05e7\u05ea \u05d0\u05e9\u05e8\u05d0\u05d9",template_from:"clearing_validation"}),Object(d.jsx)(T,{name:"clearing_validation",setFile:function(e){return t.setClearingValidation(e)},file:t.clearingValidation,googleSheetsToggle:t.setGoogleSheetsClearingValidation,googleSheets:t.googleSheetsClearingValidation,update:t.clearingValidationUpdate,setUpdate:t.setClearingValidationUpdate}),""!==t.errorClearingValidation.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorClearingValidation})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:'\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea - \u05de\u05e1"\u05d1',template_from:"msv"}),Object(d.jsx)(A,{titles:["\u05e9\u05d9\u05d5\u05da","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05e9\u05d9\u05d3\u05d5\u05e8","\u05de\u05e0\u05d7\u05d4"],children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.msvAttribution,onChange:function(e){return t.setMsvAttribution(e.target.value)},children:t.attributions.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.msvBankAccountNumber,onChange:function(e){return t.setMsvBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))}),Object(d.jsx)("input",{type:"date",style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.msvForDate,onChange:function(e){return t.setMsvForDate(e.target.value)}}),Object(d.jsx)("input",{type:"date",style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.msvSendingDate,onChange:function(e){return t.setMsvSendingDate(e.target.value)}}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.msvTrendCoordinator,onChange:function(e){return t.setMsvTrendCoordinator(e.target.value)},children:t.trendCoordinators.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})}),Object(d.jsx)(T,{name:"msv",setFile:function(e){return t.setMSV(e)},file:t.msv,googleSheetsToggle:t.setGoogleSheetsMSV,googleSheets:t.googleSheetsMSV,update:t.msvUpdate,setUpdate:t.setMsvUpdate}),""!==t.errorMSV.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorMSV})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea - \u05e9\u05d9\u05e7\u05d9\u05dd",template_from:"check"}),Object(d.jsx)(A,{titles:["\u05e9\u05d9\u05d5\u05da","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7"],children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.checksAttribution,onChange:function(e){return t.setChecksAttribution(e.target.value)},children:t.attributions.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.checksBankAccountNumber,onChange:function(e){return t.setChecksBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))})]})}),Object(d.jsx)(T,{name:"check",setFile:function(e){return t.setChecks(e)},file:t.checks,googleSheetsToggle:t.setGoogleSheetsChecks,googleSheets:t.googleSheetsChecks,update:t.checksUpdate,setUpdate:t.setChecksUpdate}),""!==t.errorChecks.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorChecks})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05d5\u05ea"}),Object(d.jsx)(A,{titles:["\u05de\u05d5\u05e1\u05d3","\u05de\u05e0\u05d7\u05d4","\u05e1\u05e4\u05e7","\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea","\u05e1\u05db\u05d5\u05dd","\u05de\u05e1\u05e4\u05e8 \u05d4\u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea","\u05d9\u05d5\u05dd \u05d0\u05d7\u05e8\u05d5\u05df \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"],children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.invoiceInstitutionBranchCoordinator,onChange:function(e){return t.setInvoiceInstitutionBranchCoordinator(e.target.value)},children:t.institutionBranchCoordinators.map((function(e){return Object(d.jsxs)("option",{value:e.identity,children:[e.identity," - ",e.name]},e.id)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.invoiceTrendCoordinator,onChange:function(e){return t.setInvoiceTrendCoordinator(e.target.value)},children:t.trendCoordinators.map((function(e){return Object(d.jsx)("option",{value:e.name,children:e.name},e.id)}))}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.invoiceSupplier,onChange:function(e){return t.setInvoiceSupplier(e.target.value)},children:t.suppliers.map((function(e){return Object(d.jsxs)("option",{value:e.identity,children:[e.identity," - ",e.name]},e.id)}))}),Object(d.jsx)("input",{type:"date",style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.invoiceDate,onChange:function(e){return t.setInvoiceDate(e.target.value)}}),Object(d.jsx)("input",{style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.invoiceSum,onChange:function(e){return k.test(e.target.value)&&t.setInvoiceSum(e.target.value||"0")}}),Object(d.jsx)("input",{style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.invoiceNumber,onChange:function(e){return t.setInvoiceNumber(e.target.value)}}),Object(d.jsx)("input",{type:"date",style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.invoiceLastDate,onChange:function(e){return t.setInvoiceLastDate(e.target.value)}})]})},"invoice"),Object(d.jsx)(T,{name:"invoice",setFile:function(e){return t.setInvoice(e)},file:t.invoice,googleSheetsToggle:t.setGoogleSheetsInvoice,googleSheets:t.googleSheetsInvoice,update:t.invoiceUpdate,setUpdate:t.setInvoiceUpdate}),""!==t.errorInvoice.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorInvoice})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea \u05d1\u05d9\u05d8\u05d5\u05d7 \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",template_from:"student_insurance"}),Object(d.jsx)(A,{titles:["\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7"],children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.studentInsuranceBankAccountNumber,onChange:function(e){return t.setStudentInsuranceBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))})})}),Object(d.jsx)(T,{name:"student_insurance",setFile:function(e){return t.setStudentInsurance(e)},file:t.studentInsurance,googleSheetsToggle:t.setGoogleSheetsStudentInsurance,googleSheets:t.googleSheetsStudentInsurance,update:t.studentInsuranceUpdate,setUpdate:t.setStudentsInsuranceUpdate}),""!==t.errorStudentInsurance.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorStudentInsurance})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:[Object(d.jsx)(v,{title:"\u05d4\u05e2\u05dc\u05d0\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d8\u05d9\u05d5\u05d8\u05d5\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd",template_from:"expense_draft"}),Object(d.jsx)(A,{titles:"student"===t.expenseDraftAttribution?["\u05e9\u05d9\u05d5\u05da","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05de\u05e0\u05d7\u05d4","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7","\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e1\u05d5\u05d2 \u05de\u05d9\u05dc\u05d2\u05d4"]:["\u05e9\u05d9\u05d5\u05da","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05de\u05e0\u05d7\u05d4","\u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7","\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd"],children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em",outline:"none"},value:t.expenseDraftAttribution,onChange:function(e){return t.setExpenseDraftAttribution(e.target.value)},children:t.attributions.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}),Object(d.jsx)("input",{type:"date",style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"},value:t.expenseDraftForMonth,onChange:function(e){return t.setExpenseDraftForMonth(e.target.value)}}),Object(d.jsxs)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.expenseDraftTrendCoordinator,onChange:function(e){return t.setExpenseDraftTrendCoordinator(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"\u05d1\u05d7\u05e8 \u05de\u05e0\u05d7\u05d4 (\u05e8\u05e9\u05d5\u05ea)"}),t.trendCoordinators.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.expenseDraftBankAccountNumber,onChange:function(e){return t.setExpenseDraftBankAccountNumber(e.target.value)},children:t.bankAccounts.map((function(e){return Object(d.jsxs)("option",{value:e.account_number,children:[e.account_number," - ",e.institution_name]},e.id)}))}),Object(d.jsxs)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.expenseDraftPaymentMethod,onChange:function(e){return t.setExpenseDraftPaymentMethod(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"\u05d1\u05d7\u05e8 \u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd (\u05e8\u05e9\u05d5\u05ea)"}),t.paymentMethods.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))]}),"student"===t.expenseDraftAttribution&&Object(d.jsx)("select",{style:{marginTop:"5px",width:"fit-content",fontSize:"1em",outline:"none"},value:t.expenseDraftScholarshipType,onChange:function(e){return t.setExpenseDraftScholarshipType(e.target.value)},children:t.scholarshipTypes.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})]})}),Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)(T,{name:"expense_draft",setFile:function(e){return t.setExpenseDraft(e)},file:t.expenseDraft,googleSheetsToggle:t.setGoogleSheetsExpenseDraft,googleSheets:t.googleSheetsExpenseDraft,update:t.expenseDraftFixedUpdate,setUpdate:t.setExpenseDraftFixedUpdate}),Object(d.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginRight:"5px"},children:[Object(d.jsx)("input",{type:"checkbox",checked:t.expenseDraftFixed,onChange:function(e){return t.setExpenseDraftFixed(e.target.checked)}}),"fixed"]})]}),""!==t.errorExpenseDraft.trim()&&Object(d.jsx)("div",{style:{color:"red"},children:t.errorExpenseDraft})]})]})]}),Object(d.jsx)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start",width:"fit-content",margin:"2em auto 0"},children:Object(d.jsx)("input",{disabled:t.loader,className:"button",type:"button",value:"\u05e9\u05dc\u05d7",style:{padding:"0.2em 0.5em",fontSize:"1.1em"},onClick:function(){t.sendData().then((function(e){var t=e.filter((function(e){return void 0!==e}));console.log(t),o(t),p||u(!0)}))}})})]})})})),je=function(e){var t,n,i,a,o,c,s,l,u,h,b,p,f,m,g,j,x,k,v,S,_,O,C,R,F,D,B=e.student,w=e.balance,I=e.branch,A=e.coordinator,P=e.allowEdit,N=Object(r.useState)(null),L=Object(y.a)(N,2),E=(L[0],L[1]),M=Object(r.useState)(null),U=Object(y.a)(M,2),H=(U[0],U[1]),z=Object(r.useState)(null),V=Object(y.a)(z,2),G=(V[0],V[1]);Object(r.useEffect)((function(){E(B),H(I),G(A)}),[]);var q=Object(r.useState)(!1),J=Object(y.a)(q,2),W=J[0],Y=J[1],Z=Object(r.useState)(!1),$=Object(y.a)(Z,2),K=$[0],Q=$[1],X=Object(r.useState)(!1),ee=Object(y.a)(X,2),te=ee[0],ne=ee[1],re=Object(r.useState)(!1),ie=Object(y.a)(re,2),ae=ie[0],oe=ie[1],ce=Object(r.useState)(!1),se=Object(y.a)(ce,2),le=se[0],ue=se[1],de=Object(r.useState)(!1),he=Object(y.a)(de,2),be=he[0],pe=he[1],fe=Object(r.useState)(!1),me=Object(y.a)(fe,2),ge=me[0],je=me[1],xe=Object(r.useState)(!1),ke=Object(y.a)(xe,2),ve=ke[0],Te=ke[1],ye=Object(r.useState)(!1),Se=Object(y.a)(ye,2),_e=Se[0],Oe=Se[1],Ce=Object(r.useState)(!1),Re=Object(y.a)(Ce,2),Fe=Re[0],De=Re[1],Be=Object(r.useState)(!1),we=Object(y.a)(Be,2),Ie=we[0],Ae=we[1],Pe=Object(r.useState)(!1),Ne=Object(y.a)(Pe,2),Le=Ne[0],Ee=Ne[1],Me=Object(r.useState)(!1),Ue=Object(y.a)(Me,2),He=Ue[0],ze=Ue[1],Ve=Object(r.useState)(!1),Ge=Object(y.a)(Ve,2),qe=Ge[0],Je=Ge[1],We=Object(r.useState)(!1),Ye=Object(y.a)(We,2),Ze=Ye[0],$e=Ye[1],Ke=Object(r.useState)(!1),Qe=Object(y.a)(Ke,2),Xe=Qe[0],et=Qe[1],tt=Object(r.useState)(!1),nt=Object(y.a)(tt,2),rt=nt[0],it=nt[1],at=Object(r.useState)(!1),ot=Object(y.a)(at,2),ct=ot[0],st=ot[1],lt=Object(r.useState)(!1),ut=Object(y.a)(lt,2),dt=ut[0],ht=ut[1],bt=Object(r.useState)(!1),pt=Object(y.a)(bt,2),ft=pt[0],mt=pt[1],gt=Object(r.useState)(!1),jt=Object(y.a)(gt,2),xt=jt[0],kt=jt[1],vt=Object(r.useState)(!1),Tt=Object(y.a)(vt,2),yt=Tt[0],St=Tt[1],_t=Object(r.useState)(!1),Ot=Object(y.a)(_t,2),Ct=Ot[0],Rt=Ot[1],Ft=function(e){return Object(d.jsxs)("div",{style:{position:"relative",border:"1px solid black",width:"22%"},children:[Object(d.jsx)("div",{style:{marginTop:"9px",marginBottom:"3px",marginRight:"3px"},children:e.children}),Object(d.jsx)("div",{style:Object(T.a)({position:"absolute",border:"1px solid black",backgroundColor:"#fff",left:"-1em",top:"-1em"},e.titleStyle),children:e.title})]})},Dt=function(t,n,r,i,a,o,c){var s=i?new Date(t.target.value).toISOString():t.target.value,l=r.split(".");"bank"===l[0]&&0===B.bank.length&&E(B[l[0]]=new Array(2).fill({bank_number:"",branch_number:"",account_number:""})),"student"===n&&E(o||(l.length>1?c?B[l[0]][c-1][l[1]]=s:B[l[0]][l[1]]=s:c?B[l[0]][c-1]=s:B[l[0]]=s)),"branch"===n&&H(o||(l.length>1?c?I[l[0]][c-1][l[1]]=s:I[l[0]][l[1]]=s:c?I[l[0]][c-1]=s:I[l[0]]=s)),"coordinator"===n&&G(o||(l.length>1?c?A[l[0]][c-1][l[1]]=s:A[l[0]][l[1]]=s:c?A[l[0]][c-1]=s:A[l[0]]=s)),e.onChange(n,l,s,o,c),a&&a.map((function(t){return e.onChange(t.target,t.param.split("."),i?t.value.split("-").reverse().join("/"):t.value)}))};return Object(d.jsxs)("div",{className:"studentDetails",children:[Object(d.jsxs)(Ft,{title:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd",titleStyle:{left:"35%"},children:[Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Y(!0)},onBlur:function(){return Y(!1)},children:["\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9: ",B&&(W?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.first_name||"",onChange:function(e){return Dt(e,"student","first_name")}}):B.first_name)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Q(!0)},onBlur:function(){return Q(!1)},children:["\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4: ",B&&(K?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.last_name||"",onChange:function(e){return Dt(e,"student","last_name")}}):B.last_name)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&ne(!0)},onBlur:function(){return ne(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05d6\u05d9\u05d4\u05d5\u05d9: ",B&&(te?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.identity||"",onChange:function(e){return Dt(e,"student","identity")}}):B.identity)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&oe(!0)},onBlur:function(){return oe(!1)},children:["\u05e1\u05d5\u05d2 \u05d6\u05d9\u05d4\u05d5\u05d9: ",B&&(ae?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.identity_type||"",onChange:function(e){return Dt(e,"student","identity_type")}}):B.identity_type)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&ue(!0)},onBlur:function(){return ue(!1)},children:["\u05d8\u05dc\u05e4\u05d5\u05df: ",B&&(le?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.main_phone_number||"",onChange:function(e){return Dt(e,"student","main_phone_number")}}):B.main_phone_number)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&pe(!0)},onBlur:function(){return pe(!1)},children:["\u05d8\u05dc\u05e4\u05d5\u05df \u05e0\u05d5\u05e1\u05e3: ",B&&(be?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.secondary_phone_number||"",onChange:function(e){return Dt(e,"student","secondary_phone_number")}}):B.secondary_phone_number)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&je(!0)},onBlur:function(){return je(!1)},children:["\u05de\u05d3\u05d9\u05e0\u05d4: ",B&&(ge?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.state||"",onChange:function(e){return Dt(e,"student","state")}}):B.state)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Te(!0)},onBlur:function(){return Te(!1)},children:["\u05db\u05ea\u05d5\u05d1\u05ea: ",B&&(ve?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.address||"",onChange:function(e){return Dt(e,"student","address")}}):B.address)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Oe(!0)},onBlur:function(){return Oe(!1)},children:["\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4: ",B&&(_e?Object(d.jsx)("input",{autoFocus:!0,type:"date",value:B.birth_date&&B.birth_date.split("/").reverse().join("-")||"",onChange:function(e){return Dt(e,"student","birth_date",!0)}}):null===(t=B.birth_date)||void 0===t?void 0:t.slice(0,10).split("-").reverse().join("/"))]})]}),Object(d.jsxs)(Ft,{title:"\u05e4\u05e8\u05d8\u05d9 \u05de\u05e1\u05dc\u05d5\u05dc",titleStyle:{left:"35%"},children:[Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&De(!0)},onBlur:function(){return De(!1)},children:["\u05de\u05d5\u05e1\u05d3: ",I&&I.institution&&(Fe?Object(d.jsx)("select",{autoFocus:!0,value:I.institution.identity||"",onChange:function(t){return Dt(t,"branch","institution.identity",!1,[{target:"branch",param:"institution.name",value:e.institutionBranchCoordinator[t.target.value].name},{target:"branch",param:"symbol",value:Object.keys(e.institutionBranchCoordinator[t.target.value].branches)[0]}])},children:e.institutionBranchCoordinator&&Object.values(e.institutionBranchCoordinator).map((function(e){return Object(d.jsx)("option",{value:e.identity,children:"".concat(e.name," - ").concat(e.identity)},e.identity)}))}):"".concat(I.institution.name," ").concat(I.institution.identity))]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Ae(!0)},onBlur:function(){return Ae(!1)},children:["\u05e1\u05e0\u05d9\u05e3: ",I&&(Ie?Object(d.jsx)("select",{autoFocus:!0,value:I.symbol||"",onChange:function(e){return Dt(e,"branch","symbol")},children:e.institutionBranchCoordinator&&I.institution&&I.institution.identity&&Object.keys(e.institutionBranchCoordinator[I.institution.identity].branches).map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))}):I.symbol)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Ee(!0)},onBlur:function(){return Ee(!1)},children:["\u05de\u05e0\u05d7\u05d4 \u05e7\u05d1\u05d5\u05e6\u05d4: ",A&&(Le?Object(d.jsxs)("select",{autoFocus:!0,value:A.id||"",onChange:function(t){return Dt(t,"coordinator","id",!1,[{target:"student",param:"fk_trend_coordinator_id",value:parseInt(t.target.value)}],e.trendCoordinator.find((function(e){return e.id===parseInt(t.target.value)})))},children:[e.trendCoordinator&&e.trendCoordinator.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))," "]}):A.name)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&ze(!0)},onBlur:function(){return ze(!1)},children:["\u05de\u05e1\u05dc\u05d5\u05dc: ",B&&e.generalLists&&(He?Object(d.jsx)("select",{autoFocus:!0,value:B.course_type||"",onChange:function(e){return Dt(e,"student","course_type")},children:e.generalLists.course_types&&Object.keys(e.generalLists.course_types).map((function(t){return Object(d.jsx)("option",{value:t,children:e.generalLists.course_types[t]},t)}))}):e.generalLists.course_types[B.course_type])]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Je(!0)},onBlur:function(){return Je(!1)},children:["\u05d3\u05e8\u05d2\u05ea \u05d6\u05db\u05d0\u05d5\u05ea: ",B&&(qe?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.eligibility_level||"",onChange:function(e){return Dt(e,"student","eligibility_level")}}):B.eligibility_level)]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&$e(!0)},onBlur:function(){return $e(!1)},children:["\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05e6\u05d8\u05e8\u05e4\u05d5\u05ea: ",B&&(Ze?Object(d.jsx)("input",{autoFocus:!0,type:"date",value:B.start_date&&B.start_date.split("/").reverse().join("-")||"",onChange:function(e){return Dt(e,"student","start_date",!0)}}):null===(n=B.start_date)||void 0===n?void 0:n.slice(0,10).split("-").reverse().join("/"))]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&et(!0)},onBlur:function(){return et(!1)},children:["\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd: ",B&&(Xe?Object(d.jsx)("input",{autoFocus:!0,type:"date",value:B.end_date&&B.end_date.split("/").reverse().join("-")||"",onChange:function(e){return Dt(e,"student","end_date",!0)}}):null===(i=B.end_date)||void 0===i?void 0:i.slice(0,10).split("-").reverse().join("/"))]})]}),Object(d.jsxs)(Ft,{title:"\u05e4\u05e8\u05d8\u05d9 \u05d1\u05e0\u05e7",titleStyle:{left:"45%"},children:[Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&it(!0)},onBlur:function(){return it(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05d1\u05e0\u05e7: ",B&&B.bank&&B.bank.length>0?rt?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(a=B.bank[0])||void 0===a?void 0:a.bank_number)||"",onChange:function(e){return Dt(e,"student","bank.bank_number",null,null,null,1)}}):null===(o=B.bank[0])||void 0===o?void 0:o.bank_number:rt&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(c=B.banks)||void 0===c?void 0:c.length)>0&&(null===(s=B.bank[0])||void 0===s?void 0:s.bank_number)||"",onChange:function(e){return Dt(e,"student","bank.bank_number",null,null,null,1)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&st(!0)},onBlur:function(){return st(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05e1\u05e0\u05d9\u05e3: ",B&&B.bank&&B.bank.length>0?ct?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(l=B.bank[0])||void 0===l?void 0:l.branch_number)||"",onChange:function(e){return Dt(e,"student","bank.branch_number",null,null,null,1)}}):null===(u=B.bank[0])||void 0===u?void 0:u.branch_number:ct&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(h=B.banks)||void 0===h?void 0:h.length)>0&&(null===(b=B.bank[0])||void 0===b?void 0:b.branch_number)||"",onChange:function(e){return Dt(e,"student","bank.branch_number",null,null,null,1)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&ht(!0)},onBlur:function(){return ht(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df: ",B&&B.bank&&B.bank.length>0?dt?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(p=B.bank[0])||void 0===p?void 0:p.account_number)||"",onChange:function(e){return Dt(e,"student","bank.account_number",null,null,null,1)}}):null===(f=B.bank[0])||void 0===f?void 0:f.account_number:dt&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(m=B.banks)||void 0===m?void 0:m.length)>0&&(null===(g=B.bank[0])||void 0===g?void 0:g.account_number)||"",onChange:function(e){return Dt(e,"student","bank.account_number",null,null,null,1)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&mt(!0)},onBlur:function(){return mt(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05d1\u05e0\u05e7 \u05e0\u05d5\u05e1\u05e3: ",B&&B.bank&&B.bank.length>0?ft?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(j=B.bank[1])||void 0===j?void 0:j.bank_number)||"",onChange:function(e){return Dt(e,"student","bank.bank_number",null,null,null,2)}}):null===(x=B.bank[1])||void 0===x?void 0:x.bank_number:ft&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(k=B.banks)||void 0===k?void 0:k.length)>0&&(null===(v=B.bank[1])||void 0===v?void 0:v.bank_number)||"",onChange:function(e){return Dt(e,"student","bank.bank_number",null,null,null,2)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&kt(!0)},onBlur:function(){return kt(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05e1\u05e0\u05d9\u05e3 \u05e0\u05d5\u05e1\u05e3: ",B&&B.bank&&B.bank.length>0?xt?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:B.bank[1].branch_number||"",onChange:function(e){return Dt(e,"student","bank.branch_number",null,null,null,2)}}):null===(S=B.bank[1])||void 0===S?void 0:S.branch_number:xt&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(_=B.banks)||void 0===_?void 0:_.length)>0&&(null===(O=B.bank[1])||void 0===O?void 0:O.branch_number)||"",onChange:function(e){return Dt(e,"student","bank.branch_number",null,null,null,2)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&St(!0)},onBlur:function(){return St(!1)},children:["\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df \u05e0\u05d5\u05e1\u05e3: ",B&&B.bank&&B.bank.length>0?yt?Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(C=B.bank[1])||void 0===C?void 0:C.account_number)||"",onChange:function(e){return Dt(e,"student","bank.account_number",null,null,null,2)}}):null===(R=B.bank[1])||void 0===R?void 0:R.account_number:yt&&Object(d.jsx)("input",{autoFocus:!0,type:"text",value:(null===(F=B.banks)||void 0===F?void 0:F.length)>0&&(null===(D=B.bank[1])||void 0===D?void 0:D.account_number)||"",onChange:function(e){return Dt(e,"student","bank.account_number",null,null,null,2)}})]}),Object(d.jsxs)("div",{className:"studentDetailsData",onClick:function(){return P&&Rt(!0)},onBlur:function(){return Rt(!1)},children:["\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd \u05de\u05dc\u05d2\u05d5\u05ea: ",B&&e.generalLists&&(Ct?Object(d.jsx)("select",{autoFocus:!0,value:B.payment_method||"",onChange:function(e){return Dt(e,"student","payment_method")},children:e.generalLists.expense_payment_methods&&Object.keys(e.generalLists.expense_payment_methods).map((function(t){return Object(d.jsx)("option",{value:t,children:e.generalLists.expense_payment_methods[t]},t)}))}):e.generalLists.expense_payment_methods[B.payment_method])]})]}),Object(d.jsxs)(Ft,{title:"\u05de\u05d0\u05d6\u05e0\u05d9\u05dd",titleStyle:{left:"40%"},children:[Object(d.jsxs)("div",{children:["\u05d4\u05db\u05e0\u05e1\u05d5\u05ea \u05e9\u05e0\u05ea\u05d9\u05d5\u05ea: ",w?w.yearly_income>=0?w.yearly_income:"".concat(Math.abs(w.yearly_income),"-"):0]}),Object(d.jsxs)("div",{children:["\u05d4\u05d5\u05e6\u05d0\u05d5\u05ea \u05e9\u05e0\u05ea\u05d9\u05d5\u05ea: ",w?w.yearly_expense>=0?w.yearly_expense:"".concat(Math.abs(w.yearly_expense),"-"):0]}),Object(d.jsxs)("div",{children:["\u05de\u05d0\u05d6\u05df \u05d7\u05d5\u05d3\u05e9\u05d9: ",w?w.monthly_balance>=0?w.monthly_balance:"".concat(Math.abs(w.monthly_balance),"-"):0]}),Object(d.jsxs)("div",{children:["\u05de\u05d0\u05d6\u05df \u05e9\u05e0\u05ea\u05d9: ",w?w.yearly_balance>=0?w.yearly_balance:"".concat(Math.abs(w.yearly_balance),"-"):0]}),Object(d.jsx)("div",{children:"\u05de\u05d0\u05d6\u05df \u05de\u05e6\u05d8\u05d1\u05e8: "}),Object(d.jsx)("div",{children:"\u05de\u05d0\u05d6\u05df \u05e7\u05d1\u05d5\u05e6\u05d4 \u05de\u05e6\u05d8\u05d1\u05e8: "}),Object(d.jsx)("div",{children:"\u05de\u05d0\u05d6\u05df \u05de\u05d5\u05e1\u05d3 \u05de\u05e6\u05d8\u05d1\u05e8: "})]})]})},xe=(n(90),Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n,i=Object(s.g)(),a=e.rootStore.studentStore;Object(r.useEffect)((function(){return sessionStorage.getItem("student_id")?a.fetchStudentById(sessionStorage.getItem("student_id")):(sessionStorage.setItem("route","/finance-report"),i.push("/finance-report")),function(){a.resetDetails()}}),[]);var o=function(e,t,n,r){document.querySelectorAll(r).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),a.setSelectedTableTab(t)};return Object(d.jsxs)(x,{title:"\u05db\u05e8\u05d8\u05d9\u05e1 \u05ea\u05dc\u05de\u05d9\u05d3",goBack:!0,childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsx)(je,{allowEdit:null!==a.tableData,student:a.studentDetails,balance:a.studentBalanceDetails,branch:a.branchDetails,coordinator:a.coordinatorDetails,institutionBranchCoordinator:a.institutionBranchCoordinator,trendCoordinator:a.trendCoordinator,generalLists:a.generalLists,onChange:function(e,t,n,r,i){return a.changeSelectedData(e,t,n,r,i)}}),Object(d.jsxs)("div",{style:{display:"flex",width:"fit-content",marginRight:"20px"},children:[Object(d.jsx)("input",{className:"button",type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05e6\u05e7",style:{padding:"0.2em 0.5em",margin:"0 5px"},onClick:function(){}}),Object(d.jsx)("input",{className:"button",type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05de\u05e1\u05d1",style:{padding:"0.2em 0.5em",margin:"0 5px"},onClick:function(){}}),Object(d.jsx)("input",{className:"button",type:"button",value:"\u05e9\u05de\u05d9\u05e8\u05d4",disabled:!a.editStudent,style:{padding:"0.2em 0.5em",margin:"0 5px"},onClick:function(){a.fetchSaveStudentDetails()}}),Object(d.jsx)("input",{className:"button",type:"button",value:"\u05de\u05d7\u05d9\u05e7\u05d4",title:(null===(t=a.studentDetails)||void 0===t?void 0:t.deleted)&&"\u05d4\u05ea\u05dc\u05de\u05d9\u05d3 \u05db\u05d1\u05e8 \u05de\u05d7\u05d5\u05e7",disabled:null===(n=a.studentDetails)||void 0===n?void 0:n.deleted,style:{padding:"0.2em 0.5em",margin:"0 5px"},onClick:function(){return a.fetchDeleteStudent()}})]}),Object(d.jsxs)(_,{header:"course_enrollments"===a.selectedTableTab?["\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd \u05e7\u05d5\u05e8\u05e1","\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4 \u05e7\u05d5\u05e8\u05e1","\u05e1\u05d5\u05d2 \u05e7\u05d5\u05e8\u05e1","\u05de\u05d5\u05e1\u05d3 - \u05e1\u05e0\u05d9\u05e3","\u05d7\u05dc\u05e7 \u05d1\u05d9\u05d5\u05dd","\u05e9\u05dd \u05de\u05e0\u05d7\u05d4","\u05d6\u05db\u05d0\u05d5\u05ea \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9\u05ea","\u05e9\u05d9\u05d8\u05ea \u05d6\u05db\u05d0\u05d5\u05ea","\u05e8\u05de\u05ea \u05d6\u05db\u05d0\u05d5\u05ea","\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd \u05de\u05e0\u05d7\u05d4","\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4 \u05de\u05e0\u05d7\u05d4"]:["\u05d4\u05d5\u05e6\u05d0\u05d4","\u05d4\u05db\u05e0\u05e1\u05d4","\u05de\u05e1\u05dc\u05d5\u05dc","\u05de\u05e0\u05d7\u05d4 \u05e7\u05d1\u05d5\u05e6\u05d4","\u05de\u05d5\u05e1\u05d3","\u05d7\u05d5\u05d3\u05e9"],data:a.tableData||[],style:{hight:"100%"},tableStyle:{width:"100%"},children:[Object(d.jsxs)("div",{style:{position:"absolute",display:"flex",left:"1em",top:"-2.4em"},children:[Object(d.jsx)("div",{className:"studentDetailsTableTab",onClick:function(e){return o(e,"student",0,".studentDetailsTableTab")},children:"\u05de\u05d1\u05d7\u05e0\u05d9\u05dd"}),Object(d.jsx)("div",{className:"studentDetailsTableTab",onClick:function(e){return o(e,"course_enrollments",0,".studentDetailsTableTab")},children:"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d9\u05ea \u05de\u05e1\u05dc\u05d5\u05dc\u05d9\u05dd"}),Object(d.jsx)("div",{className:"studentDetailsTableTab selectedTab",onClick:function(e){return o(e,"payments",0,".studentDetailsTableTab")},children:"\u05ea\u05e9\u05dc\u05d5\u05de\u05d9\u05dd"})]}),!a.tableData&&Object(d.jsx)("div",{className:"studentDetailsTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]})})))),ke=n(64),ve=Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n,i,a,o,c=e.rootStore.bankAccountStore;Object(r.useEffect)((function(){var e=c.leftTableBankAccount.findIndex((function(e){return e===c.makeLink}));c.setIndex(e);var t=c.rightTableBankAccount.find((function(e){return e.id===c.makeLink.fk_bank_account_id}));c.setRightBankAccount(t)}),[c.makeLink]);var s=function(){c.setTrendCoordinator(null),c.setStudent(null),c.setSupplier(null),c.setMSV(null),c.setComment(null)},l=function(){var e=c.makeLink.bank_account.length>0&&c.makeLink.bank_account[0],t=c.ownDonator;return c.makeLink.bank_account.length>0&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:"\u05e9\u05dd \u05d1\u05e2\u05dc \u05d7\u05e9\u05d1\u05d5\u05df: ".concat(e.username," | \u05de\u05e1\u05e4\u05e8 \u05e1\u05e0\u05d9\u05e3: ").concat(e.branch_number," | \u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df: ").concat(e.account_number," | \u05de\u05e1\u05e4\u05e8 \u05d1\u05e0\u05e7:  ").concat(e.bank_number)}),t&&Object(d.jsx)("div",{children:"\u05e9\u05dd \u05d4\u05ea\u05d5\u05e8\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea: ".concat(t.first_name," ").concat(t.last_name," | \u05e9\u05dd \u05e7\u05d1\u05dc\u05d4: ").concat(t.billing_name," | \u05ea.\u05d6: ").concat(t.identity)})]})};return Object(d.jsx)("div",{id:"popupContainer",children:Object(d.jsxs)("div",{className:"makeLinkPopup",children:[Object(d.jsx)("div",{className:"makeLinkPopup__close",children:Object(d.jsx)(f.b,{size:"1em",style:{cursor:"pointer"},onClick:function(){c.loader||(c.setMakeLink(null),s())}})}),Object(d.jsxs)("div",{className:"makeLinkPopup__header",children:[Object(d.jsxs)("div",{className:"makeLinkPopup__header__newAccount",onClick:function(){!c.loader&&c.index>0&&(c.setMakeLink(c.leftTableBankAccount[c.index-1]),s())},style:{cursor:0===c.index?"not-allowed":"pointer",opacity:0===c.index&&"0.4"},children:[Object(d.jsx)(f.d,{size:"2em"})," \u05d4\u05e7\u05d5\u05d3\u05dd"]}),Object(d.jsx)("div",{style:{textDecoration:"underline"},children:c.rightBankAccount&&"".concat(c.rightBankAccount.institution_name,", \u05d7\u05e9\u05d1\u05d5\u05df \u05d1\u05e0\u05e7: ").concat(c.rightBankAccount.account_number)}),Object(d.jsxs)("div",{className:"makeLinkPopup__header__newAccount",onClick:function(){!c.loader&&c.leftTableBankAccount[c.index+1]&&(c.setMakeLink(c.leftTableBankAccount[c.index+1]),s())},style:{cursor:c.leftTableBankAccount[c.index+1]?"pointer":"not-allowed",opacity:!c.leftTableBankAccount[c.index+1]&&"0.4"},children:["\u05d4\u05d1\u05d0 ",Object(d.jsx)(f.c,{size:"2em"})]})]}),Object(d.jsxs)("div",{className:"makeLinkPopup__details",children:[Object(d.jsx)("div",{children:c.makeLink.date.slice(0,10).split("-").reverse().join("/")}),Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsxs)("div",{children:["\u05ea\u05d9\u05d0\u05d5\u05e8: ",c.makeLink.transaction_description]}),Object(d.jsxs)("div",{children:["\u05d0\u05e1\u05de\u05db\u05ea\u05d4: ",c.makeLink.reference_number]})]}),Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)(ke.a,{size:"1.1em"}),Math.abs(c.makeLink.transaction_amount),c.makeLink.transaction_amount<0?"-":""]})]}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:Object(d.jsx)(l,{})}),Object(d.jsxs)("div",{className:"makeLinkPopup__form",children:[Object(d.jsxs)("div",{style:{width:"17%"},children:[Object(d.jsx)("div",{className:"makeLinkPopup__form__label",children:"\u05ea\u05d5\u05e8\u05dd"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("datalist",{id:"donator-list",style:{fontSize:"0.5em"},children:c.allDonators.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.first_name," ").concat(e.last_name," - ").concat(e.identity),style:{fontSize:"0.5em"}},e.id)}))}),Object(d.jsx)("input",{list:"donator-list",className:"makeLinkPopup__listInput",disabled:!c.makeLink.is_linked,placeholder:"\u05d1\u05d7\u05e8 \u05ea\u05d5\u05e8\u05dd",value:c.donator||"",onChange:function(e){return!c.loader&&c.setDonator(e.target.value)}})]})]}),Object(d.jsxs)("div",{style:{width:"17%"},children:[Object(d.jsx)("div",{className:"makeLinkPopup__form__label",children:"\u05de\u05e0\u05d7\u05d4"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("datalist",{id:"trends-list",style:{fontSize:"0.5em"},children:c.allTrendCoordinator.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.name," - ").concat(e.id),style:{fontSize:"0.5em"}},e.id)}))}),Object(d.jsx)("input",{list:"trends-list",className:"makeLinkPopup__listInput",disabled:!c.makeLink.is_linked,placeholder:"\u05d1\u05d7\u05e8 \u05de\u05e0\u05d7\u05d4",value:(null===(t=c.trendCoordinator)||void 0===t?void 0:t.split(" - ")[0])||"",onChange:function(e){return!c.loader&&c.setTrendCoordinator(e.target.value)}})]})]}),Object(d.jsxs)("div",{style:{width:"17%"},children:[Object(d.jsx)("div",{className:"makeLinkPopup__form__label",children:"\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("datalist",{id:"students-list",children:c.allStudents.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.first_name," ").concat(e.last_name," - ").concat(e.identity)},e.id)}))}),Object(d.jsx)("input",{list:"students-list",readOnly:0===(null===(n=c.allStudents)||void 0===n?void 0:n.length),disabled:!c.makeLink.is_linked||c.existMsv||c.existSupplier,placeholder:"\u05d1\u05d7\u05e8 \u05e1\u05d8\u05d5\u05d3\u05e0\u05d8",className:"makeLinkPopup__listInput",value:c.student||"",onChange:function(e){return!c.loader&&c.setStudent(e.target.value)}})]})]}),Object(d.jsxs)("div",{style:{width:"17%"},children:[Object(d.jsx)("div",{className:"makeLinkPopup__form__label",children:"\u05e1\u05e4\u05e7"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("datalist",{id:"supplier-list",children:c.allSuppliers.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.name," - ").concat(e.identity)},e.id)}))}),Object(d.jsx)("input",{list:"supplier-list",readOnly:0===(null===(i=c.allSuppliers)||void 0===i?void 0:i.length),disabled:!c.makeLink.is_linked||c.existMsv||c.existStudent,placeholder:"\u05d1\u05d7\u05e8 \u05e1\u05e4\u05e7",className:"makeLinkPopup__listInput",value:c.supplier||"",onChange:function(e){return!c.loader&&c.setSupplier(e.target.value)}})]})]}),Object(d.jsxs)("div",{style:{width:"17%"},children:[Object(d.jsx)("div",{className:"makeLinkPopup__form__label",children:'\u05e7\u05d5\u05d1\u05e5 \u05de\u05e1"\u05d1'}),Object(d.jsxs)("div",{children:[Object(d.jsx)("datalist",{id:"msv-list",children:c.allMSV&&c.allMSV.map((function(e){return Object(d.jsx)("option",{value:"".concat(e.amount," - ").concat(e.date," - ").concat(e.id)},e.id)}))}),Object(d.jsx)("input",{list:"msv-list",readOnly:0===(null===(a=c.allMSV)||void 0===a?void 0:a.length),placeholder:'\u05d1\u05d7\u05e8 \u05e7\u05d5\u05d1\u05e5 \u05de\u05e1"\u05d1',className:"makeLinkPopup__listInput",disabled:c.existStudent||c.existSupplier,value:(null===(o=c.msv)||void 0===o?void 0:o.split(" - ")[0])||"",onChange:function(e){return!c.loader&&c.setMSV(e.target.value)}})]})]})]}),!c.makeLink.is_linked&&Object(d.jsx)("div",{style:{textAlign:"center"},children:'\u05e8\u05e9\u05d5\u05de\u05ea \u05d4\u05e2\u05d5"\u05e9 \u05d4\u05e0"\u05dc \u05d0\u05d9\u05e0\u05d4 \u05de\u05e7\u05d5\u05e9\u05e8\u05ea \u05dc\u05e9\u05d5\u05dd \u05e8\u05e9\u05d5\u05de\u05ea \u05d4\u05db\u05e0\u05e1\u05d4 \u05d0\u05d5 \u05d4\u05d5\u05e6\u05d0\u05d4, \u05dc\u05db\u05df \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d9\u05d9\u05db\u05d4 \u05dc\u05de\u05e0\u05d7\u05d4, \u05e1\u05d8\u05d5\u05d3\u05e0\u05d8 \u05d0\u05d5 \u05e1\u05e4\u05e7.'}),(c.existMsv||c.existStudent||c.existSupplier)&&Object(d.jsxs)("div",{style:{textAlign:"center"},children:["\u05d4\u05e8\u05e9\u05d5\u05de\u05d4 \u05e9\u05d9\u05d5\u05db\u05d4 ",(c.existMsv?'\u05dc\u05de\u05e1"\u05d1':c.existStudent&&"\u05dc\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8")||c.existSupplier&&"\u05dc\u05e1\u05e4\u05e7",", \u05dc\u05db\u05df \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d9\u05d9\u05da \u05d0\u05ea \u05d4\u05e8\u05e9\u05d5\u05de\u05d4 ",(c.existMsv?"\u05dc\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8 \u05d0\u05d5 \u05e1\u05e4\u05e7":c.existStudent&&'\u05dc\u05e1\u05e4\u05e7 \u05d0\u05d5 \u05de\u05e1"\u05d1')||c.existSupplier&&"\u05dc\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8 \u05d0\u05d5 \u05e1\u05e4\u05e7",'. \u05d4\u05e1\u05e8 \u05d0\u05ea \u05d4\u05e9\u05d9\u05d5\u05da \u05d4\u05e0"\u05dc \u05d0\u05dd \u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05d1\u05e6\u05e2 \u05e9\u05d9\u05e0\u05d5\u05d9 \u05d1\u05e9\u05d9\u05d5\u05da']}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:"50px"},children:[Object(d.jsx)("textarea",{style:{resize:"none",width:"60%",height:"35vh"},placeholder:"\u05d4\u05d6\u05df \u05d4\u05e2\u05e8\u05d5\u05ea",value:c.comment||"",onChange:function(e){return!c.loader&&c.setComment(e.target.value)}}),Object(d.jsxs)("div",{className:"makeLinkPopup__button__container",children:[Object(d.jsx)("div",{className:"button makeLinkPopup__button",style:{visibility:"hidden"},children:"\u05d4\u05e4\u05e7\u05ea \u05e7\u05d1\u05dc\u05d4"}),Object(d.jsx)("div",{className:"button makeLinkPopup__button",style:{marginTop:"20px"},onClick:function(){return!c.loader&&c.fetchSave()},children:"\u05e9\u05de\u05d5\u05e8"})]})]}),c.loader&&Object(d.jsx)("div",{className:"makeLinkPopup__loader",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})})}))),Te=Object(l.b)("rootStore")(Object(l.c)((function(e){var t=e.rootStore.bankAccountStore;Object(r.useEffect)((function(){return t.fetchBankAccount(),t.fetchCurrentAccount(),t.fetchTrendCoordinator(),t.fetchStudens(),t.fetchSuppliers(),t.fetchDonators(),function(){t.setDateFromTo("","")}}),[]);var n=function(e,n){(t.allBankAccount&&1===e||t.allCurrentAccount&&0===e)&&t.setTableSearch(e,n.target.value)},i=function(e,n){e&&n?t.changeCheckBoxFilter(e.target.checked,n):Object.keys(t.checkBoxFilter).map((function(e){return t.changeCheckBoxFilter(!0,e)}))};return Object(d.jsxs)(x,{title:"\u05d7\u05e9\u05d1\u05d5\u05e0\u05d5\u05ea \u05d1\u05e0\u05e7 - \u05e2\u05d5\u05d1\u05e8 \u05d5\u05e9\u05d1",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"15px"},children:[Object(d.jsx)("div",{style:{marginLeft:"10px",whiteSpace:"nowrap"},children:"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e0\u05d5\u05e2\u05d4:"}),Object(d.jsx)("input",{type:"date",value:t.dateFrom,style:{fontSize:"1em",marginLeft:"10px"},onChange:function(e){return t.setDateFromTo(e.target.value)}}),Object(d.jsx)("input",{type:"date",value:t.dateTo,style:{fontSize:"1em",marginLeft:"10px"},onChange:function(e){return t.setDateFromTo(null,e.target.value)}}),Object(d.jsx)("div",{style:{color:"blue",textDecoration:"underline",cursor:"pointer",marginLeft:"10px"},onClick:function(){return t.setDateFromTo("","")},children:"\u05e0\u05e7\u05d4"}),Object(d.jsxs)("div",{className:"button",onClick:function(){return t.allCurrentAccount&&t.fetchCurrentAccount()},style:{display:"flex",padding:"0.2em 1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})]}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"15px"},children:[Object(d.jsxs)("label",{style:{cursor:"pointer"},children:[Object(d.jsx)("input",{className:"checkboxFinanceReportFilter",type:"checkbox",checked:t.checkBoxFilter.linked,onChange:function(e){return i(e,"linked")}}),"\u05d4\u05e6\u05d2 \u05de\u05e7\u05d5\u05e9\u05e8\u05d9\u05dd"]}),Object(d.jsxs)("label",{style:{cursor:"pointer",marginRight:"10px"},children:[Object(d.jsx)("input",{className:"checkboxFinanceReportFilter",type:"checkbox",checked:t.checkBoxFilter.unlinked,onChange:function(e){return i(e,"unlinked")}}),"\u05d4\u05e6\u05d2 \u05dc\u05d0 \u05de\u05e7\u05d5\u05e9\u05e8\u05d9\u05dd"]}),Object(d.jsx)("div",{style:{color:"blue",textDecoration:"underline",cursor:"pointer",marginRight:"10px"},onClick:i,children:"\u05e1\u05de\u05df \u05d4\u05db\u05dc"})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",height:t.leftTableHeight<t.rightTableHeight?t.leftTableHeight:t.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:t.rightTableBankAccount.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.rightTableSearch,onChange:function(e){return n(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df","\u05de\u05d5\u05e1\u05d3","\u05de\u05e1\u05d2\u05e8\u05ea","\u05d4\u05dc\u05d5\u05d5\u05d0\u05d5\u05ea","\u05d4\u05ea\u05d7\u05d9\u05d9\u05d1\u05d5\u05d9\u05d5\u05ea","\u05e0\u05d6\u05d9\u05dc","\u05ea\u05d6\u05e8\u05d9\u05dd","\u05ea\u05d6\u05e8\u05d9\u05dd \u05d7\u05d5\u05d3\u05e9\u05d9","\u05d9\u05ea\u05e8\u05d4"],data:t.rightTableBankAccount,tableSelectedItems:t.rightTableSelectedItems,changeTableSelectedItems:function(e,n,r){return t.allCurrentAccount&&t.setRightTableSelectedItems(e,n,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:Object(d.jsx)("div",{className:"paymentReportRightTableTab selectedTab ".concat("institution"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){},children:"\u05d7\u05e9\u05d1\u05d5\u05e0\u05d5\u05ea"})}),Object(d.jsx)("div",{className:"paymentReportRightTableSum",children:"\u05e9\u05d5\u05e8\u05ea \u05e1\u05d9\u05db\u05d5\u05dd"}),!t.allBankAccount&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:t.leftTableBankAccount.length<10&&"fit-content"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.leftTableSearch,onChange:function(e){return n(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsx)(_,{header:["\u05ea\u05d0\u05e8\u05d9\u05da","\u05d9\u05d5\u05dd \u05e2\u05e8\u05da","\u05e1\u05db\u05d5\u05dd","\u05d9\u05ea\u05e8\u05d4","\u05d0\u05e1\u05de\u05db\u05ea\u05d4","\u05ea\u05d9\u05d0\u05d5\u05e8","\u05d1\u05e6\u05e2 \u05e7\u05d9\u05e9\u05d5\u05e8"],data:t.leftTableBankAccount,doNotSum:["\u05d9\u05ea\u05e8\u05d4"],makeLink:function(e){return t.setMakeLink(e)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:!t.allCurrentAccount&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})})]})]}),t.makeLink&&Object(d.jsx)(ve,{})]})}))),ye=n(38),Se=Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n,i=e.rootStore.receptionBasketStore,a=Object(r.useState)(window.innerWidth),o=Object(y.a)(a,2),c=o[0],s=o[1];Object(r.useEffect)((function(){i.fetchReceptionBasketFilters().then((function(){return l()})).then((function(){return f()})),window.onresize=function(e){s(e.target.innerWidth)}}),[]),Object(r.useEffect)((function(){i.afterLeftTableUpdate()}),[i.leftTableReceptionBasket]);var l=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=i.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(i.setReceptionBasketFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},h=function(e,t){i.allReceptionBasket&&i.setTableSearch(e,t.target.value)},b=function(e,t,n,r){i.allReceptionBasket&&(document.querySelectorAll(r).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),i.setSelectedTableTab(n,t))},f=function(){i.fetchFilteredReceptionBasket(i.receptionBasketFiltersToSend)},m=function(e){i.fetchPrint(e).then((function(e){if(e.ok){var t=e.headers.get("Content-Disposition");if(t){f();var n=t.slice(t.indexOf("filename=")+9,t.length-1);e.blob().then((function(e){return ye(e,n)}))}}}))};return Object(d.jsxs)(x,{title:"\u05e1\u05dc \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:i.receptionBasketFilters,onChange:function(e,t,n,r,a,o){i.setReceptionBasketFiltersToSend(e,t,n,r,a,o)}}),i.receptionBasketFilters.length>0&&Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonContainer",children:[Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:l}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",style:{margin:"0.5em 0"},onClick:function(){i.setReceptionBasketFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:f,style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{marginRight:"50px"},children:[Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){return m()}}),Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05de\u05d5\u05e6\u05d2\u05d9\u05dd",className:"paymentReportFiltersResetButton button",onClick:function(){return m(!0)}})]})]})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",fontSize:c<=1600?"0.85em":"0.8em",height:i.leftTableHeight<i.rightTableHeight?i.leftTableHeight:i.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:i.rightTableReceptionBasket.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.rightTableSearch,onChange:function(e){return h(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4"],rightTable:!0,data:i.rightTableReceptionBasket,tableCheckbox:i.rightTableCheckbox,tableSelectedItems:i.rightTableSelectedItems,changeTableSelectedItems:function(e,t,n){return i.setRightTableSelectedItems(e,t,n)},changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,1)},changePaymentMethod:function(e,t){return i.changePaymentMethod(e,t,1)},paymentMethods:null===(t=i.generalLists)||void 0===t?void 0:t.income_payment_methods,noEdit:!0,changeCheckDate:function(e,t){return i.changeCheckDate(e,t,1)},changeForMonth:function(e,t){return i.changeForMonth(e,t,1)},changeSum:function(e,t){return i.changeCheckSum(e,t,1)},delete:function(e){return i.delete(e,1)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("student"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"student",1,".paymentReportRightTableTab")},children:"\u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("donator"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"donator",1,".paymentReportRightTableTab")},children:"\u05ea\u05d5\u05e8\u05de\u05d9\u05dd"})]}),Object(d.jsx)("div",{className:"paymentReportRightTableSum",children:"\u05e9\u05d5\u05e8\u05ea \u05e1\u05d9\u05db\u05d5\u05dd"}),!i.allReceptionBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:i.leftTableReceptionBasket.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.leftTableSearch,onChange:function(e){return h(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05de\u05d6\u05d4\u05d4","\u05e9\u05dd \u05de\u05dc\u05d0","\u05e1\u05db\u05d5\u05dd","\u05e6\u05d5\u05e8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05e2\u05d1\u05d5\u05e8 \u05d7\u05d5\u05d3\u05e9","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4"],data:i.leftTableReceptionBasket,noFottTitle:["\u05e9\u05dd \u05de\u05dc\u05d0"],changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,0,t)},changePaymentMethod:function(e,t,n){return i.changePaymentMethod(e,t,0,n)},paymentMethods:null===(n=i.generalLists)||void 0===n?void 0:n.income_payment_methods,noEdit:!0,changeCheckDate:function(e,t,n){return i.changeCheckDate(e,t,0,n)},changeForMonth:function(e,t,n){return i.changeForMonth(e,t,0,n)},changeSum:function(e,t,n){return i.changeCheckSum(e,t,0,n)},delete:function(e){return i.delete(e,0)},bankAccount:i.bankAccount,changeBankAccountId:function(e,t,n){return i.changeBankAccountId(e,t,0,n)},changeTrendCoordinatorId:function(e,t,n){return i.changeTrendCoordinatorId(e,t,0,n)},trendCoordinator:i.trendCoordinator,style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportTableTabsPosition",style:{right:"100%"},children:Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return b(e,"donations",0,".paymentReportLeftTableTab")},children:"\u05d8\u05d9\u05d5\u05d8\u05d5\u05ea \u05ea\u05e7\u05d1\u05d5\u05dc"})}),!i.allReceptionBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]})]})]})}))),_e=Object(l.b)("rootStore")(Object(l.c)((function(e){var t=e.rootStore.periodicReceptionStore,n=Object(r.useState)(!1),i=Object(y.a)(n,2),a=i[0],o=i[1],c=Object(r.useState)(t.leftTablePeriodicReception),s=Object(y.a)(c,2);s[0],s[1];Object(r.useEffect)((function(){t.fetchPeriodicReceptionFilters().then((function(){var e="".concat((new Date).getFullYear(),"-01-01"),n="".concat((new Date).toISOString().slice(0,10));t.setDateFromTo(e,n),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),0),t.setPeriodicReceptionFiltersDateToSend(n.split("-").reverse().join("/"),1)})).then((function(){return l()})).then((function(){return m()}))}),[]),Object(r.useEffect)((function(){t.afterLeftTableUpdate()}),[t.leftTableCheckbox]);var l=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=t.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(t.setPeriodicReceptionFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},h=function(e,n){t.allPeriodicReception&&t.setTableSearch(e,n.target.value)},f=function(e,n,r,i){t.allPeriodicReception&&(document.querySelectorAll(i).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),t.setSelectedTableTab(r,n))},m=function(){var e=t.periodicReceptionFiltersToSend;e.pr_filters=[].concat(Object(b.a)(e.pr_filters.filter((function(e){return"pr_filters"!==e.name}))),Object(b.a)(t.periodicReceptionFiltersDateToSend.pr_filters.map((function(e){return(t=e).checked[0]=t.checked[0]&&""!==t.checked[0]?t.checked[0]:"01/01/".concat((new Date).getFullYear()," 00:00"),t.checked[1]=t.checked[1]&&""!==t.checked[1]?t.checked[1]:"".concat((new Date).toISOString().slice(0,10).split("-").reverse().join("/")," 23:59"),t;var t})))),sessionStorage.getItem("reload")?sessionStorage.removeItem("reload"):t.fetchFilteredPeriodicReception(e)};return Object(d.jsxs)(x,{title:"\u05de\u05e6\u05d1\u05ea \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd \u05de\u05d7\u05d6\u05d5\u05e8\u05d9\u05d9\u05dd",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:t.periodicReceptionFilters,onChange:function(e,n,r,i,a,o){t.setPeriodicReceptionFiltersToSend(e,n,r,i,a,o)},dateSelectOption:function(e){t.setPeriodicReceptionFiltersDateSelectedOption(e.split(","))},dateFrom:t.dateFrom,dateTo:t.dateTo,onDateFrom:function(e){t.setDateFromTo(e),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),0)},onDateTo:function(e){t.setDateFromTo(null,e),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),1)},cleanDate:function(){t.setDateFromTo("",""),t.setPeriodicReceptionFiltersDateToSend(null,null,"clear")}}),t.periodicReceptionFilters.length>0&&Object(d.jsx)("div",{className:"paymentReportFiltersResetButtonContainer",children:Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{position:"relative"},children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:l}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){t.setPeriodicReceptionFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:function(){return t.allPeriodicReception&&m()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})})]})})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",height:t.leftTableHeight<t.rightTableHeight?t.leftTableHeight:t.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:t.rightTablePeriodicReception.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"50%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.rightTableSearch,onChange:function(e){return h(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]})}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05de\u05e1\u05e4\u05e8 \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd","\u05e1\u05da \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd"],rightTable:!0,data:t.rightTablePeriodicReception,tableCheckbox:t.rightTableCheckbox,tableSelectedItems:t.rightTableSelectedItems,changeTableSelectedItems:function(e,n,r){return t.allPeriodicReception&&t.setRightTableSelectedItems(e,n,r)},changeCheckbox:function(e,n,r){return t.setRightTableCheckbox(e,n,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return f(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return f(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("student"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return f(e,"student",1,".paymentReportRightTableTab")},children:"\u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("donator"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return f(e,"donator",1,".paymentReportRightTableTab")},children:"\u05ea\u05d5\u05e8\u05de\u05d9\u05dd"})]}),!t.allPeriodicReception&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:t.leftTablePeriodicReception.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:[Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05e7\u05d1\u05d5\u05dc \u05de\u05d7\u05d6\u05d5\u05e8\u05d9",style:{marginRight:"1em"},onClick:function(){return o(!0)}}),Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"20%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.leftTableSearch,onChange:function(e){return h(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]})]}),Object(d.jsx)(_,{header:["\u05e9\u05dd \u05de\u05dc\u05d0","\u05de\u05d6\u05d4\u05d4","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d7\u05d9\u05d5\u05d1","\u05d4\u05e2\u05e8\u05d5\u05ea","\u05e1\u05d8\u05d8\u05d5\u05e1 \u05dc\u05ea\u05e7\u05d1\u05d5\u05dc","\u05e1\u05db\u05d5\u05dd","\u05d0\u05de\u05e6\u05e2\u05d9","\u05e1\u05da \u05db\u05e9\u05dc\u05d5\u05e0\u05d5\u05ea","\u05e1\u05da \u05d4\u05e6\u05dc\u05d7\u05d5\u05ea","\u05d9\u05ea\u05e8\u05ea \u05d7\u05d9\u05d5\u05d1\u05d9\u05dd",'\u05e1\u05d4"\u05db \u05e1\u05db\u05d5\u05dd \u05e9\u05e0\u05d2\u05d1\u05d4',"\u05de\u05e1\u05e4\u05e8 \u05d7\u05d9\u05d5\u05d1\u05d9\u05dd","\u05ea\u05d0\u05e8\u05d9\u05da \u05d1\u05d9\u05d8\u05d5\u05dc \u05d4\u05e8\u05e9\u05d0\u05d4","\u05ea\u05d0\u05e8\u05d9\u05da \u05e7\u05d1\u05dc\u05ea \u05d4\u05e8\u05e9\u05d0\u05d4","\u05ea\u05d0\u05e8\u05d9\u05da \u05d0\u05d7\u05e8\u05d5\u05df"],noEdit:!0,noFottTitle:["\u05de\u05d6\u05d4\u05d4"],keys:["full_name","identity","charge_date","comment","periodic_reception_status","amount","payment_method","num_failed_peyment","num_success_peyment","charges_remainder","total_charged_amount","charges","bank_permission_end_date","bank_permission_start_date","last_charge_date"],isAddingData:a,addingData:function(e){console.log(e),t.fetchNewRowData(e),o(!1)},data:t.leftTablePeriodicReception,tableCheckbox:t.leftTableCheckbox,changeCheckbox:function(e,n,r){return t.setLeftTableCheckbox(e,n,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:!t.allPeriodicReception&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})})]})]})]})}))),Oe=n(38),Ce=Object(l.b)("rootStore")(Object(l.c)((function(e){var t,n,i=e.rootStore.receptionBasketStore,a=Object(r.useState)(window.innerWidth),o=Object(y.a)(a,2),c=o[0],s=o[1];Object(r.useEffect)((function(){i.fetchReceptionBasketFilters().then((function(){return l()})).then((function(){return f()})),window.onresize=function(e){s(e.target.innerWidth)}}),[]),Object(r.useEffect)((function(){i.afterLeftTableUpdate()}),[i.leftTableReceptionBasket]);var l=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=i.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(i.setReceptionBasketFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},h=function(e,t){i.allReceptionBasket&&i.setTableSearch(e,t.target.value)},b=function(e,t,n,r){i.allReceptionBasket&&(document.querySelectorAll(r).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),i.setSelectedTableTab(n,t))},f=function(){i.fetchFilteredReceptionBasket(i.receptionBasketFiltersToSend)},m=function(e){i.fetchPrint(e).then((function(e){if(e.ok){var t=e.headers.get("Content-Disposition");if(t){f();var n=t.slice(t.indexOf("filename=")+9,t.length-1);e.blob().then((function(e){return Oe(e,n)}))}}}))};return Object(d.jsxs)(x,{title:"\u05e1\u05dc \u05ea\u05e7\u05d1\u05d5\u05dc\u05d9\u05dd",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:i.receptionBasketFilters,onChange:function(e,t,n,r,a,o){i.setReceptionBasketFiltersToSend(e,t,n,r,a,o)}}),i.receptionBasketFilters.length>0&&Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonContainer",children:[Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:l}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",style:{margin:"0.5em 0"},onClick:function(){i.setReceptionBasketFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsxs)("div",{className:"button",onClick:f,style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]})}),Object(d.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:Object(d.jsx)("div",{className:"button",onClick:f,style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:"\u05d1\u05e6\u05e2 \u05e8\u05d9\u05e9\u05d5\u05dd"})})]}),Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{marginRight:"50px"},children:[Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){return m()}}),Object(d.jsx)("input",{type:"button",value:"\u05d4\u05d3\u05e4\u05e1 \u05de\u05d5\u05e6\u05d2\u05d9\u05dd",className:"paymentReportFiltersResetButton button",onClick:function(){return m(!0)}})]})]})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",fontSize:c<=1600?"0.85em":"0.8em",height:i.leftTableHeight<i.rightTableHeight?i.leftTableHeight:i.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:i.rightTableReceptionBasket.length<10&&"fit-content",marginRight:"calc(5em + 5px)"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.rightTableSearch,onChange:function(e){return h(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05e9\u05d9\u05d3\u05d5\u05e8","\u05d9\u05ea\u05e8\u05d4 \u05db\u05d5\u05dc\u05dc\u05ea","\u05e1\u05de\u05df \u05dc\u05d4\u05d3\u05e4\u05e1\u05d4"],rightTable:!0,data:i.rightTableReceptionBasket,tableCheckbox:i.rightTableCheckbox,tableSelectedItems:i.rightTableSelectedItems,changeTableSelectedItems:function(e,t,n){return i.setRightTableSelectedItems(e,t,n)},changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,1)},changePaymentMethod:function(e,t){return i.changePaymentMethod(e,t,1)},paymentMethods:null===(t=i.generalLists)||void 0===t?void 0:t.income_payment_methods,noEdit:!0,changeCheckDate:function(e,t){return i.changeCheckDate(e,t,1)},changeForMonth:function(e,t){return i.changeForMonth(e,t,1)},changeSum:function(e,t){return i.changeCheckSum(e,t,1)},delete:function(e){return i.delete(e,1)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05e1\u05e0\u05d9\u05e4\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("student"===i.selectedRightTableTab&&"selectedTab"),onClick:function(e){return b(e,"student",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"})]}),Object(d.jsx)("div",{className:"paymentReportRightTableSum",children:"\u05e9\u05d5\u05e8\u05ea \u05e1\u05d9\u05db\u05d5\u05dd"}),!i.allReceptionBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:i.leftTableReceptionBasket.length<10&&"fit-content",marginLeft:"4em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:i.leftTableSearch,onChange:function(e){return h(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]}),Object(d.jsxs)(_,{header:["\u05de\u05d6\u05d4\u05d4","\u05e9\u05dd \u05de\u05dc\u05d0","\u05e0\u05d9\u05d9\u05d3","\u05db\u05ea\u05d5\u05d1\u05ea","\u05d2\u05d9\u05dc","\u05de\u05d5\u05e2\u05d3 \u05dc\u05d1\u05d9\u05e6\u05d5\u05e2","\u05e8\u05d9\u05e9\u05d5\u05dd","\u05e9\u05d9\u05d8\u05ea \u05de\u05dc\u05d2\u05d4","\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05d6\u05de\u05df \u05d1\u05d9\u05d5\u05dd","\u05e9\u05d9\u05d8\u05ea \u05d6\u05db\u05d0\u05d5\u05ea","\u05d3\u05e8\u05d2\u05ea \u05d6\u05db\u05d0\u05d5\u05ea"],data:i.leftTableReceptionBasket,noFottTitle:["\u05e9\u05dd \u05de\u05dc\u05d0"],changeCheckbox:function(e,t,n){return i.changeCheckbox(e,n,0,t)},changePaymentMethod:function(e,t,n){return i.changePaymentMethod(e,t,0,n)},paymentMethods:null===(n=i.generalLists)||void 0===n?void 0:n.income_payment_methods,noEdit:!0,changeCheckDate:function(e,t,n){return i.changeCheckDate(e,t,0,n)},changeForMonth:function(e,t,n){return i.changeForMonth(e,t,0,n)},changeSum:function(e,t,n){return i.changeCheckSum(e,t,0,n)},delete:function(e){return i.delete(e,0)},bankAccount:i.bankAccount,changeBankAccountId:function(e,t,n){return i.changeBankAccountId(e,t,0,n)},changeTrendCoordinatorId:function(e,t,n){return i.changeTrendCoordinatorId(e,t,0,n)},trendCoordinator:i.trendCoordinator,style:{height:"calc(100% - 3em)"},tableHeight:function(e){return i.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",minHeight:"15em",height:"100%"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{right:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return b(e,"donations",0,".paymentReportLeftTableTab")},children:"\u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return b(e,"donations",0,".paymentReportLeftTableTab")},children:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportLeftTableTab selectedTab",onClick:function(e){return b(e,"donations",0,".paymentReportLeftTableTab")},children:"\u05e1\u05e4\u05e7\u05d9\u05dd"})]}),!i.allReceptionBasket&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]})]})]})}))),Re=Object(l.b)("rootStore")(Object(l.c)((function(e){var t=e.rootStore.periodicReceptionStore;Object(r.useEffect)((function(){t.fetchPeriodicReceptionFilters().then((function(){var e="".concat((new Date).getFullYear(),"-01-01"),n="".concat((new Date).toISOString().slice(0,10));t.setDateFromTo(e,n),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),0),t.setPeriodicReceptionFiltersDateToSend(n.split("-").reverse().join("/"),1)})).then((function(){return n()})).then((function(){return o()}))}),[]),Object(r.useEffect)((function(){t.afterLeftTableUpdate()}),[t.leftTableCheckbox]);var n=function(){sessionStorage.getItem("reload")?document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=t.checkedFilters[e.getAttribute("title_index")-1][e.getAttribute("filter_index")][e.getAttribute("checkbox_index")]})):(t.setPeriodicReceptionFiltersToSend(null,null,null,null,null,null,"checkAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!0})))},i=function(e,n){t.allPeriodicReception&&t.setTableSearch(e,n.target.value)},a=function(e,n,r,i){t.allPeriodicReception&&(document.querySelectorAll(i).forEach((function(e){return e.classList.remove("selectedTab")})),e.currentTarget.classList.add("selectedTab"),t.setSelectedTableTab(r,n))},o=function(){var e=t.periodicReceptionFiltersToSend;e.pr_filters=[].concat(Object(b.a)(e.pr_filters.filter((function(e){return"pr_filters"!==e.name}))),Object(b.a)(t.periodicReceptionFiltersDateToSend.pr_filters.map((function(e){return(t=e).checked[0]=t.checked[0]&&""!==t.checked[0]?t.checked[0]:"01/01/".concat((new Date).getFullYear()," 00:00"),t.checked[1]=t.checked[1]&&""!==t.checked[1]?t.checked[1]:"".concat((new Date).toISOString().slice(0,10).split("-").reverse().join("/")," 23:59"),t;var t})))),sessionStorage.getItem("reload")?sessionStorage.removeItem("reload"):t.fetchFilteredPeriodicReception(e)};return Object(d.jsxs)(x,{title:"\u05de\u05e6\u05d1\u05ea \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{className:"paymentReportFiltersContainer",children:[Object(d.jsx)(k,{data:t.periodicReceptionFilters,onChange:function(e,n,r,i,a,o){t.setPeriodicReceptionFiltersToSend(e,n,r,i,a,o)},dateSelectOption:function(e){t.setPeriodicReceptionFiltersDateSelectedOption(e.split(","))},dateFrom:t.dateFrom,dateTo:t.dateTo,onDateFrom:function(e){t.setDateFromTo(e),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),0)},onDateTo:function(e){t.setDateFromTo(null,e),t.setPeriodicReceptionFiltersDateToSend(e.split("-").reverse().join("/"),1)},cleanDate:function(){t.setDateFromTo("",""),t.setPeriodicReceptionFiltersDateToSend(null,null,"clear")}}),t.periodicReceptionFilters.length>0&&Object(d.jsx)("div",{className:"paymentReportFiltersResetButtonContainer",children:Object(d.jsxs)("div",{className:"paymentReportFiltersResetButtonPosition",style:{position:"relative"},children:[Object(d.jsx)("input",{type:"button",value:"\u05e1\u05de\u05df \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:n}),Object(d.jsx)("input",{type:"button",value:"\u05e0\u05e7\u05d4 \u05d4\u05db\u05dc",className:"paymentReportFiltersResetButton button",onClick:function(){t.setPeriodicReceptionFiltersToSend(null,null,null,null,null,null,"unCheckAll"),document.querySelectorAll(".checkboxFinanceReportFilter").forEach((function(e){return e.checked=!1}))}}),Object(d.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:"6em"},children:[Object(d.jsxs)("div",{className:"button",onClick:function(){return t.allPeriodicReception&&o()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:[Object(d.jsx)(p.a,{style:{marginLeft:"3px"},size:"1em",fill:"black"}),"\u05d7\u05d9\u05e4\u05d5\u05e9"]}),Object(d.jsx)("div",{className:"button",onClick:function(){return t.allPeriodicReception&&o()},style:{display:"flex",width:"100%",padding:"0.5em 1em",fontSize:"1.1em"},children:"\u05d1\u05e6\u05e2 \u05e8\u05d9\u05e9\u05d5\u05dd"})]})]})})]}),Object(d.jsxs)("div",{className:"paymentReportTablesContainer",style:{maxHeight:"50vh",height:t.leftTableHeight<t.rightTableHeight?t.leftTableHeight:t.rightTableHeight},children:[Object(d.jsxs)("div",{style:{height:t.rightTablePeriodicReception.length<10&&"fit-content",marginRight:"calc(5em + 5px)",minHeight:"30em"},children:[Object(d.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"100%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.rightTableSearch,onChange:function(e){return i(1,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]})}),Object(d.jsxs)(_,{header:["\u05e9\u05dd","\u05e1\u05dc \u05ea\u05dc\u05de\u05d9\u05d3\u05d9\u05dd"],rightTable:!0,data:t.rightTablePeriodicReception,tableCheckbox:t.rightTableCheckbox,tableSelectedItems:t.rightTableSelectedItems,changeTableSelectedItems:function(e,n,r){return t.allPeriodicReception&&t.setRightTableSelectedItems(e,n,r)},changeCheckbox:function(e,n,r){return t.setRightTableCheckbox(e,n,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setRightTableHeight(e)},tableStyle:{display:"block",overflow:"auto",height:"100%",minHeight:"15em"},children:[Object(d.jsxs)("div",{className:"paymentReportTableTabsPosition",style:{left:"100%"},children:[Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("institution"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return a(e,"institution",1,".paymentReportRightTableTab")},children:"\u05de\u05d5\u05e1\u05d3\u05d5\u05ea"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("trend_coordinator"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return a(e,"trend_coordinator",1,".paymentReportRightTableTab")},children:"\u05e1\u05e0\u05d9\u05e4\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("student"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return a(e,"student",1,".paymentReportRightTableTab")},children:"\u05de\u05e0\u05d7\u05d9\u05dd"}),Object(d.jsx)("div",{className:"paymentReportRightTableTab ".concat("donator"===t.selectedRightTableTab&&"selectedTab"),onClick:function(e){return a(e,"donator",1,".paymentReportRightTableTab")},children:"\u05dc\u05dc\u05d0"})]}),!t.allPeriodicReception&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})]})]}),Object(d.jsxs)("div",{style:{height:t.leftTablePeriodicReception.length<10&&"fit-content",marginLeft:"4em",minHeight:"30em"},children:[Object(d.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"-1em"},children:Object(d.jsxs)("div",{className:"paymentReportTableSearchPosition",style:{width:"10%"},children:[Object(d.jsx)("input",{className:"paymentReportTableSearchInput",type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9",value:t.leftTableSearch,onChange:function(e){return i(0,e)}}),Object(d.jsx)(p.a,{className:"paymentReportTableSearchIcon",size:"1em",fill:"black"})]})}),Object(d.jsx)(_,{header:["\u05e1\u05d8\u05d8\u05d5\u05e1 \u05e8\u05d9\u05e9\u05d5\u05dd","\u05e1\u05d9\u05d5\u05dd-\u05e7\u05d5\u05e8\u05e1","\u05d4\u05ea\u05d7\u05dc\u05d4-\u05e7\u05d5\u05e8\u05e1","\u05e1\u05d5\u05d2-\u05e7\u05d5\u05e8\u05e1","\u05de\u05d6\u05d4\u05d4","\u05e9\u05dd \u05de\u05dc\u05d0","\u05e0\u05d9\u05d9\u05d3","\u05db\u05ea\u05d5\u05d1\u05ea","\u05d2\u05d9\u05dc",'\u05d3\u05d5\u05d0"\u05dc',"\u05e9\u05d9\u05d8\u05ea \u05de\u05dc\u05d2\u05d4","\u05e9\u05d9\u05d8\u05ea \u05ea\u05e9\u05dc\u05d5\u05dd","\u05d6\u05de\u05df \u05d1\u05d9\u05d5\u05dd","\u05e9\u05d9\u05d8\u05ea \u05d6\u05db\u05d0\u05d5\u05ea","\u05d3\u05e8\u05d2\u05d5\u05ea \u05d6\u05db\u05d0\u05d5\u05ea","\u05e1\u05d9\u05d5\u05dd-\u05de\u05e0\u05d7\u05d4","\u05d4\u05ea\u05d7\u05dc\u05d4-\u05de\u05e0\u05d7\u05d4"],noEdit:!0,data:t.leftTablePeriodicReception,tableCheckbox:t.leftTableCheckbox,changeCheckbox:function(e,n,r){return t.setLeftTableCheckbox(e,n,r)},style:{height:"calc(100% - 3em)"},tableHeight:function(e){return t.setLeftTableHeight(e)},tableStyle:{display:"block",overflow:"auto",height:"100%",minHeight:"15em"},children:!t.allPeriodicReception&&Object(d.jsx)("div",{className:"paymentReportTableSpin",children:Object(d.jsx)(u.a,{size:50,color:"rgba(0 0 0 / 0.7)"})})})]})]})]})}))),Fe=[{display_name:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e8\u05d5\u05d5\u05d7\u05d4",id:"social-services-form"},{display_name:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd",id:"student-approval-form"},{display_name:"\u05d0\u05d9\u05d5\u05e9\u05e8 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd \u05e2\u05dd \u05de\u05e1\u05dc\u05d5\u05dc",id:"student-approval-form-with-course"},{display_name:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05d0\u05e8\u05e0\u05d5\u05e0\u05d4",id:"property-tax-form"}],De=function(e){var t=e.titles,n=e.children;return Object(d.jsxs)("div",{style:{display:"flex",marginBottom:"5px"},children:[Object(d.jsx)("div",{style:{marginLeft:"5px"},children:t.map((function(e,t){return Object(d.jsxs)("div",{style:{marginTop:t>0&&"5px"},children:[e,":"]},t)}))}),n]})},Be=Object(l.b)("rootStore")(Object(l.c)((function(e){var t=Object(r.useState)(0),n=Object(y.a)(t,2),i=n[0],a=n[1],o=Object(r.useState)({}),c=Object(y.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)({}),h=Object(y.a)(u,2),b=h[0],p=h[1],f=Object(r.useState)(null),m=Object(y.a)(f,2),g=m[0],j=m[1],k=Object(r.useState)([]),v=Object(y.a)(k,2),T=v[0],S=v[1],_=Object(r.useState)(1),O=Object(y.a)(_,2),C=O[0];O[1];Object(r.useEffect)((function(){}),[]);var R=function(e,t){var n=b;n[e]=t,p(n)},F=function(){var e=[];Object.keys(s).map((function(t){e.push(s[t].display_name)})),S(e);var t=Object.keys(s).map((function(e){return console.log(e),"radio"!==s[e].type?Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{style:{cursor:"pointer"},children:Object(d.jsx)("input",{className:e,type:s[e].type,onChange:function(t){return R(e,t.target.value)},style:{marginTop:"5px",width:"fit-content",height:"1em",fontSize:"1em",outline:"none"}})},e),Object(d.jsx)("br",{})]}):s[e].values.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{className:t,name:s[e],type:"radio",onChange:function(t){return R(e,t.target.value)}}),Object(d.jsx)("label",{style:{cursor:"pointer"},children:t},t)]})}))}));j(t)};return Object(d.jsxs)(x,{title:"\u05d4\u05e4\u05e7\u05ea \u05d8\u05d5\u05e4\u05e1",childrenStyle:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"15px"},children:[Object(d.jsx)("div",{style:{marginLeft:"10px",whiteSpace:"nowrap"},children:"\u05d1\u05d7\u05e8 \u05d8\u05d5\u05e4\u05e1:"}),Object(d.jsx)("select",{style:{width:"fit-content",fontSize:"1em"},onChange:function(e){return function(e){console.log(e),a(e),H("form_attributes?form_id=".concat(e)).then((function(e){l(e),console.log("got: "+JSON.stringify(e)),F()})).catch((function(e){return console.error(e)}))}(e.target.value)},children:Fe.map((function(e,t){return Object(d.jsx)("option",{value:e.id,children:e.display_name},t)}))})]}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"15px"},children:Object(d.jsx)("div",{className:"paymentReportFiltersContainer",style:{flexDirection:"column",justifyContent:"flex-start"},children:Object(d.jsx)(De,{titles:T,children:Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(d.jsxs)("form",{children:[g,g&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();V("generate_pdf?form_id=".concat(i,"&student_course_registration_id=").concat(C),b,!0).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","".concat(i,".pdf")),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})).catch((function(e){return console.error(e)}))},children:"\u05d4\u05e4\u05e7 \u05d3\u05d5\u05d7"})})]})})})})})]})})));var we=function(){return Object(d.jsxs)(c.a,{basename:"/",children:[Object(d.jsx)(s.a,{to:"/login"}),"true"===localStorage.getItem("remember")&&sessionStorage.setItem("login","true"),!sessionStorage.getItem("route")&&"true"===localStorage.getItem("remember")&&sessionStorage.setItem("route","/finance-report"),sessionStorage.getItem("login")&&Object(d.jsx)(s.a,{to:"".concat(sessionStorage.getItem("route")||"/login")}),Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{path:"/import-data",component:ge}),Object(d.jsx)(s.b,{path:"/bank-account",component:Te}),Object(d.jsx)(s.b,{path:"/transactions-report",component:I}),Object(d.jsx)(s.b,{path:"/periodic-reception/reception-basket",component:Se}),Object(d.jsx)(s.b,{path:"/periodic-reception",component:_e}),Object(d.jsx)(s.b,{path:"/students-reception/students-basket",component:Ce}),Object(d.jsx)(s.b,{path:"/students-reception",component:Re}),Object(d.jsx)(s.b,{path:"/finance-report/payments-basket",component:B}),Object(d.jsx)(s.b,{path:"/finance-report/student-profile",component:xe}),Object(d.jsx)(s.b,{path:"/finance-report",component:F}),Object(d.jsx)(s.b,{path:"/student-form",component:Be}),Object(d.jsx)(s.b,{path:"/login",component:h})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(d.jsx)(l.a,{rootStore:Y,children:Object(d.jsx)(we,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[91,1,2]]]);
//# sourceMappingURL=main.6648d859.chunk.js.map